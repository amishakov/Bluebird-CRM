/*! 
 * Bundle package for the following libraries:
 * jQuery | (c) JS Foundation and other contributors | jquery.org/license
 * jQuery Migrate v3.0.1 | (c) jQuery Foundation and other contributors | jquery.org/license
 * Knockout | (c) The Knockout.js team | License: MIT (http://www.opensource.org/licenses/mit-license.php)
 * jQuery UI | Copyright 2015 jQuery Foundation and other contributors; Licensed MIT
 * jQuery UI Touch Punch | Copyright 2011-2014, Dave Furfero | Dual licensed under the MIT or GPL Version 2 licenses.
 * jQuery File Upload Plugin + dependencies | Copyright 2010, Sebastian Tschan | Licensed under the MIT license: https://opensource.org/licenses/MIT
 * knockout-jqueryui | Copyright (c) 2016 Vas Gabor <gvas.munka@gmail.com> Licensed MIT
 * TinyMCE + Plugins | Copyright (c) 1999-2017 Ephox Corp. | Released under LGPL License. http://www.tinymce.com/license
 */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],i=Object.getPrototypeOf,s=t.slice,m=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,r=t.indexOf,n={},o=n.toString,g=n.hasOwnProperty,a=g.toString,c=a.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},k=C.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var i,r,o=(n=n||k).createElement("script");if(o.text=e,t)for(i in l)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!b(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||b(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(S.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||S.isPlainObject(n)?n:{},r=!1,a[t]=S.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=i(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&a.call(n)===c)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(d(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(d(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return m(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,h,_,o,r,p,f,m,w,u,c,x,C,a,k,g,s,l,v,S="sizzle"+1*new Date,d=n.document,D=0,i=0,b=ue(),y=ue(),T=ue(),E=ue(),N=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],O=t.pop,P=t.push,I=t.push,R=t.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+B+"*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",H=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(B+"+","g"),q=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),U=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),V=new RegExp(B+"|>"),$=new RegExp(H),Y=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){x()},ae=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(t=R.call(d.childNodes),d.childNodes),t[d.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){P.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(t,e,n,i){var r,o,a,s,u,c,l,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&(x(e),e=e||C,k)){if(11!==d&&(u=Z.exec(t)))if(r=u[1]){if(9===d){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&v(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return I.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&h.getElementsByClassName&&e.getElementsByClassName)return I.apply(n,e.getElementsByClassName(r)),n}if(h.qsa&&!E[t+" "]&&(!g||!g.test(t))&&(1!==d||"object"!==e.nodeName.toLowerCase())){if(l=t,f=e,1===d&&(V.test(t)||U.test(t))){for((f=ee.test(t)&&ve(e.parentNode)||e)===e&&h.scope||((s=e.getAttribute("id"))?s=s.replace(ie,re):e.setAttribute("id",s=S)),o=(c=p(t)).length;o--;)c[o]=(s?"#"+s:":scope")+" "+ye(c[o]);l=c.join(",")}try{return I.apply(n,f.querySelectorAll(l)),n}catch(e){E(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return m(t.replace(q,"$1"),e,n,i)}function ue(){var i=[];return function e(t,n){return i.push(t+" ")>_.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function ce(e){return e[S]=!0,e}function le(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ge(a){return ce(function(o){return o=+o,ce(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=se.support={},r=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},x=se.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:d;return i!=C&&9===i.nodeType&&i.documentElement&&(a=(C=i).documentElement,k=!r(C),d!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),h.scope=le(function(e){return a.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),h.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=le(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=J.test(C.getElementsByClassName),h.getById=le(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),h.getById?(_.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}}):(_.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),_.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},s=[],g=[],(h.qsa=J.test(C.querySelectorAll))&&(le(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+S+"-]").length||g.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=J.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){h.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),s.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(a.compareDocumentPosition),v=t||J.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==d&&v(d,e)?-1:t==C||t.ownerDocument==d&&v(d,t)?1:u?L(u,e)-L(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==C?-1:t==C?1:r?-1:o?1:u?L(u,e)-L(u,t):0;if(r===o)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?de(a[i],s[i]):a[i]==d?-1:s[i]==d?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(x(e),h.matchesSelector&&k&&!E[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var n=l.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){E(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&x(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&x(e);var n=_.attrHandle[t.toLowerCase()],i=n&&A.call(_.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==i?i:h.attributes||!k?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,r=0;if(c=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(N),c){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},o=se.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(_=se.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&b(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=se.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(z," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,m,g){var v="nth"!==p.slice(0,3),b="last"!==p.slice(-4),y="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,u,c=v!=b?"nextSibling":"previousSibling",l=e.parentNode,f=y&&e.nodeName.toLowerCase(),d=!n&&!y,h=!1;if(l){if(v){for(;c;){for(a=e;a=a[c];)if(y?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[b?l.firstChild:l.lastChild],b&&d){for(h=(s=(i=(r=(o=(a=l)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===D&&i[1])&&i[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||u.pop();)if(1===a.nodeType&&++h&&a===e){r[p]=[D,s,h];break}}else if(d&&(h=s=(i=(r=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===D&&i[1]),!1===h)for(;(a=++s&&a&&a[c]||(h=s=0)||u.pop())&&((y?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++h||(d&&((r=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[D,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,o){var t,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],_.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=L(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var i=[],r=[],s=f(e.replace(q,"$1"));return s[S]?ce(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:ce(function(t){return function(e){return 0<se(t,e).length}}),contains:ce(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ce(function(n){return Y.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:ge(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=he(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=pe(e);function be(){}function ye(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(s,e,t){var u=e.dir,c=e.next,l=c||u,f=t&&"parentNode"===l,d=i++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var i,r,o,a=[D,d];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(r=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[u]||e;else{if((i=r[l])&&i[0]===D&&i[1]===d)return a[2]=i[2];if((r[l]=a)[2]=s(e,t,n))return!0}return!1}}function we(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function xe(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function Ce(h,p,m,g,v,e){return g&&!g[S]&&(g=Ce(g)),v&&!v[S]&&(v=Ce(v,e)),ce(function(e,t,n,i){var r,o,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!e&&p?l:xe(l,s,h,n,i),d=m?v||(e?h:c||g)?[]:t:f;if(m&&m(f,d,n,i),g)for(r=xe(d,u),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(d[u[o]]=!(f[u[o]]=a));if(e){if(v||h){if(v){for(r=[],o=d.length;o--;)(a=d[o])&&r.push(f[o]=a);v(null,d=[],r,i)}for(o=d.length;o--;)(a=d[o])&&-1<(r=v?L(e,a):s[o])&&(e[r]=!(t[r]=a))}}else d=xe(d===t?d.splice(c,d.length):d),v?v(null,t,d,i):I.apply(t,d)})}function ke(e){for(var r,t,n,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=_e(function(e){return e===r},a,!0),c=_e(function(e){return-1<L(r,e)},a,!0),l=[function(e,t,n){var i=!o&&(n||t!==w)||((r=t).nodeType?u(e,t,n):c(e,t,n));return r=null,i}];s<i;s++)if(t=_.relative[e[s].type])l=[_e(we(l),t)];else{if((t=_.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<i&&!_.relative[e[n].type];n++);return Ce(1<s&&we(l),1<s&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(q,"$1"),t,s<n&&ke(e.slice(s,n)),n<i&&ke(e=e.slice(n)),n<i&&ye(e))}l.push(t)}return we(l)}return be.prototype=_.filters=_.pseudos,_.setFilters=new be,p=se.tokenize=function(e,t){var n,i,r,o,a,s,u,c=y[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=_.preFilter;a;){for(o in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(q," ")}),a=a.slice(n.length)),_.filter)!(i=Q[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):y(e,s).slice(0)},f=se.compile=function(e,t){var n,i=[],r=[],o=T[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)(o=ke(t[n]))[S]?i.push(o):r.push(o);(o=T(e,function(g,v){var b=0<v.length,y=0<g.length,e=function(e,t,n,i,r){var o,a,s,u=0,c="0",l=e&&[],f=[],d=w,h=e||y&&_.find.TAG("*",r),p=D+=null==d?1:Math.random()||.1,m=h.length;for(r&&(w=t==C||t||r);c!==m&&null!=(o=h[c]);c++){if(y&&o){for(a=0,t||o.ownerDocument==C||(x(o),n=!k);s=g[a++];)if(s(o,t||C,n)){i.push(o);break}r&&(D=p)}b&&((o=!s&&o)&&u--,e&&l.push(o))}if(u+=c,b&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=O.call(i));f=xe(f)}I.apply(i,f),r&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(i)}return r&&(D=p,w=d),l};return b?ce(e):e}(r,i))).selector=e}return o},m=se.select=function(e,t,n,i){var r,o,a,s,u,c="function"==typeof e&&e,l=!i&&p(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&k&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Q.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((u=_.find[s])&&(i=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&ye(o)))return I.apply(n,i),n;break}}return(c||f(e,l))(i,t,!k,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},h.sortStable=S.split("").sort(N).join("")===S,h.detectDuplicates=!!c,x(),h.sortDetached=le(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(M,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(C);S.find=h,S.expr=h.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=h.uniqueSort,S.text=h.getText,S.isXMLDoc=h.isXML,S.contains=h.contains,S.escapeSelector=h.escape;var p=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i},x=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=S.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,n,i){return b(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?S.grep(e,function(e){return e===n!==i}):"string"!=typeof n?S.grep(e,function(e){return-1<r.call(n,e)!==i}):S.filter(n,e,i)}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<i;t++)if(S.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)S.find(e,r[t],n);return 1<i?S.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&D.test(e)?S(e):e||[],!1).length}});var A,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||A,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:O.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),E.test(i[1])&&S.isPlainObject(t))for(i in t)b(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=k.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=S.fn,A=S(k);var P=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&S(e);if(!D.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?r.call(S(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p(e,"parentNode")},parentsUntil:function(e,t,n){return p(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return p(e,"nextSibling")},prevAll:function(e){return p(e,"previousSibling")},nextUntil:function(e,t,n){return p(e,"nextSibling",n)},prevUntil:function(e,t,n){return p(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(i,r){S.fn[i]=function(e,t){var n=S.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(I[i]||S.uniqueSort(n),P.test(i)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function M(e){return e}function B(e){throw e}function j(e,t,n,i){var r;try{e&&b(r=e.promise)?r.call(e).done(t).fail(n):e&&b(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(i){i="string"==typeof i?function(e){var n={};return S.each(e.match(L)||[],function(e,t){n[t]=!0}),n}(i):S.extend({},i);var n,e,t,r,o=[],a=[],s=-1,u=function(){for(r=r||i.once,t=n=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&i.stopOnFalse&&(s=o.length,e=!1);i.memory||(e=!1),n=!1,r&&(o=e?[]:"")},c={add:function(){return o&&(e&&!n&&(s=o.length-1,a.push(e)),function n(e){S.each(e,function(e,t){b(t)?i.unique&&c.has(t)||o.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),e&&!n&&u()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<S.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return r=a=[],e||n||(o=e=""),this},locked:function(){return!!r},fireWith:function(e,t){return r||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),n||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(e,t){var n=b(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var u=0;function c(r,o,a,s){return function(){var n=this,i=arguments,e=function(){var e,t;if(!(r<u)){if((e=a.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?s?t.call(e,c(u,o,M,s),c(u,o,B,s)):(u++,t.call(e,c(u,o,M,s),c(u,o,B,s),c(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,i=[e]),(s||o.resolveWith)(n,i))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=r+1&&(a!==B&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(c(0,e,b(i)?i:M,e.notifyWith)),o[1][3].add(c(0,e,b(t)?t:M)),o[2][3].add(c(0,e,b(n)?n:B))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,i=Array(t),r=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){i[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(i,r)}};if(n<=1&&(j(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||b(r[t]&&r[t].then)))return o.then();for(;t--;)j(r[t],a(t),o.reject);return o.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&F.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var H=S.Deferred();function z(){k.removeEventListener("DOMContentLoaded",z),C.removeEventListener("load",z),S.ready()}S.fn.ready=function(e){return H.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||H.resolveWith(k,[S])}}),S.ready.then=H.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?C.setTimeout(S.ready):(k.addEventListener("DOMContentLoaded",z),C.addEventListener("load",z));var q=function(e,t,n,i,r,o,a){var s=0,u=e.length,c=null==n;if("object"===w(n))for(s in r=!0,n)q(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,b(i)||(a=!0),c&&(t=a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):u?t(e[0],n):o},W=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function $(e){return e.replace(W,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=S.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[$(t)]=n;else for(i in t)r[$(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||S.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var K=new Q,X=new Q,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:G.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return X.hasData(e)||K.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){X.set(this,n)}):q(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=X.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=X.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=$(i.slice(5)),Z(o,i,r[i]));K.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=K.get(e,t),n&&(!i||Array.isArray(n)?i=K.access(e,t,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:S.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=S.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=K.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=k.documentElement,re=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(re=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===S.css(e,"display")};function se(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return S.css(e,t,"")},u=s(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),l=e.nodeType&&(S.cssNumber[t]||"px"!==c&&+u)&&te.exec(S.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)S.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,S.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}var ue={};function ce(e,t){for(var n,i,r,o,a,s,u,c=[],l=0,f=e.length;l<f;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(c[l]=K.get(i,"display")||null,c[l]||(i.style.display="")),""===i.style.display&&ae(i)&&(c[l]=(u=a=o=void 0,a=(r=i).ownerDocument,s=r.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(c[l]="none",K.set(i,"display",n)));for(l=0;l<f;l++)null!=c[l]&&(e[l].style.display=c[l]);return e}S.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var le,fe,de=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;le=k.createDocumentFragment().appendChild(k.createElement("div")),(fe=k.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),le.appendChild(fe),v.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",v.option=!!le.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,v.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function ye(e,t,n,i,r){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===w(o))S.merge(d,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(he.exec(o)||["",""])[1].toLowerCase(),u=me[s]||me._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;S.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(o));for(f.textContent="",h=0;o=d[h++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(c=re(o),a=ge(f.appendChild(o),"script"),c&&ve(a),n)for(l=0;o=a[l++];)pe.test(o.type||"")&&n.push(o);return f}var _e=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function ke(){return!1}function Se(e,t){return e===function(){try{return k.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)De(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ke;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,r,i,n)})}function Te(e,r,o){o?(K.set(e,r,!1),S.event.add(e,r,{namespace:!1,handler:function(e){var t,n,i=K.get(this,r);if(1&e.isTrigger&&this[r]){if(i.length)(S.event.special[r]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),K.set(this,r,i),t=o(this,r),this[r](),i!==(n=K.get(this,r))||t?K.set(this,r,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else i.length&&(K.set(this,r,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,r)&&S.event.add(e,r,Ce)}S.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,c,l,f,d,h,p,m,g=K.get(t);if(Y(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(ie,r),n.guid||(n.guid=S.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)h=m=(s=xe.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(f=S.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,f=S.event.special[h]||{},l=S.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=u[h])||((d=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),S.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,c,l,f,d,h,p,m,g=K.hasData(e)&&K.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(h=m=(s=xe.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(f=S.event.special[h]||{},d=u[h=(i?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!r&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,g.handle)||S.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)S.event.remove(e,h+t[c],n,i,!0);S.isEmptyObject(u)&&K.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),u=S.event.fix(e),c=(K.get(this,"events")||Object.create(null))[u.type]||[],l=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=S.event.handlers.call(this,u,c),t=0;(r=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,i,r,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<S(r,this).index(c):S.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&T(t,"input")&&Te(t,"click",Ce),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&T(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&T(t,"input")&&K.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Te(this,e,Se),!1},trigger:function(){return Te(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),S.fn.extend({on:function(e,t,n,i){return De(this,e,t,n,i)},one:function(e,t,n,i){return De(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var Ee=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(K.hasData(e)&&(s=K.get(e).events))for(r in K.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)S.event.add(t,r,s[r][n]);X.hasData(e)&&(o=X.access(e),a=S.extend({},o),X.set(t,a))}}function Le(n,i,r,o){i=m(i);var e,t,a,s,u,c,l=0,f=n.length,d=f-1,h=i[0],p=b(h);if(p||1<f&&"string"==typeof h&&!v.checkClone&&Ne.test(h))return n.each(function(e){var t=n.eq(e);p&&(i[0]=h.call(this,e,t.html())),Le(t,i,r,o)});if(f&&(t=(e=ye(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ge(e,"script"),Pe)).length;l<f;l++)u=e,l!==d&&(u=S.clone(u,!0,!0),s&&S.merge(a,ge(u,"script"))),r.call(n[l],u,l);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Ie),l=0;l<s;l++)u=a[l],pe.test(u.type||"")&&!K.access(u,"globalEval")&&S.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):_(u.textContent.replace(Ae,""),u,c))}return n}function Me(e,t,n){for(var i,r=t?S.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(ge(i)),i.parentNode&&(n&&re(i)&&ve(ge(i,"script")),i.parentNode.removeChild(i));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s,u,c,l=e.cloneNode(!0),f=re(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ge(l),i=0,r=(o=ge(e)).length;i<r;i++)s=o[i],u=a[i],void 0,"input"===(c=u.nodeName.toLowerCase())&&de.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ge(e),a=a||ge(l),i=0,r=o.length;i<r;i++)Re(o[i],a[i]);else Re(e,l);return 0<(a=ge(l,"script")).length&&ve(a,!f&&ge(e,"script")),l},cleanData:function(e){for(var t,n,i,r=S.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[K.expando]){if(t.events)for(i in t.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);n[K.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return q(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Le(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Le(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!me[(he.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Le(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ge(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],i=S(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),S(i[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Be=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Fe=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},He=new RegExp(ne.join("|"),"i");function ze(e,t,n){var i,r,o,a,s=e.style;return(n=n||je(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||re(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&Be.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(c);var e=C.getComputedStyle(c);n="1%"!==e.top,s=12===t(e.marginLeft),c.style.right="60%",o=36===t(e.right),i=36===t(e.width),c.style.position="absolute",r=12===t(c.offsetWidth/3),ie.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,o,a,s,u=k.createElement("div"),c=k.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=k.createElement("table"),t=k.createElement("tr"),n=k.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",ie.appendChild(e).appendChild(t).appendChild(n),i=C.getComputedStyle(t),a=3<parseInt(i.height),ie.removeChild(e)),a}}))}();var We=["Webkit","Moz","ms"],Ue=k.createElement("div").style,Ve={};function $e(e){var t=S.cssProps[e]||Ve[e];return t||(e in Ue?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Ue)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Ge(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,r,o){var a="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,r)),i?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,r)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,r))):(u+=S.css(e,"padding"+ne[a],!0,r),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,r):s+=S.css(e,"border"+ne[a]+"Width",!0,r));return!i&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var i=je(e),r=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,i),o=r,a=ze(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&T(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===S.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Je(e,t,n||(r?"border":"content"),o,i,a)+"px"}function et(e,t,n,i,r){return new et.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=$(t),u=Qe.test(t),c=e.style;if(u||(t=$e(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=se(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=$(t);return Qe.test(t)||(t=$e(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=ze(e,t,i)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Fe(e,Ke,function(){return Ze(e,u,n)})},set:function(e,t,n){var i,r=je(e),o=!v.scrollboxSize()&&"absolute"===r.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,r),s=n?Je(e,u,n,a,r):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(r[u])-Je(e,u,"border",!1,r)-.5)),s&&(i=te.exec(t))&&"px"!==(i[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ge(0,t,s)}}}),S.cssHooks.marginLeft=qe(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+ne[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(S.cssHooks[r+o].set=Ge)}),S.fn.extend({css:function(e,t){return q(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=je(e),r=t.length;a<r;a++)o[t[a]]=S.css(e,t[a],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,it,rt,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===k.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function ct(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var i,r=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ft(o,e,t){var n,a,i=0,r=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(r||s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),l=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=$(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=S.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(l,c.opts.specialEasing);i<r;i++)if(n=ft.prefilters[i].call(c,o,l,c.opts))return b(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return S.map(l,lt,c),b(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=b(e)?(t=e,["*"]):e.match(L)).length;i<r;i++)n=e[i],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,u,c,l,f="width"in t||"height"in t,d=this,h={},p=e.style,m=e.nodeType&&ae(e),g=K.get(e,"fxshow");for(i in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],ot.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}h[i]=g&&g[i]||S.style(e,i)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(h))for(i in f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=K.get(e,"display")),"none"===(l=S.css(e,"display"))&&(c?l=c:(ce([e],!0),c=e.style.display||c,l=S.css(e,"display"),ce([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===S.css(e,"float")&&(u||(d.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,h)u||(g?"hidden"in g&&(m=g.hidden):g=K.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ce([e],!0),d.done(function(){for(i in m||ce([e]),K.remove(e,"fxshow"),h)S.style(e,i,h[i])})),u=lt(m?g[i]:0,i,d),i in g||(g[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){b(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=S.isEmptyObject(t),o=S.speed(e,n,i),a=function(){var e=ft(this,S.extend({},t),o);(r||K.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,i=K.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&at.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=K.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,i){var r=S.fn[i];S.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ct(i,!0),e,t,n)}}),S.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){S.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,e){return i=S.fx&&S.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,i);t.stop=function(){C.clearTimeout(n)}})},it=k.createElement("input"),rt=k.createElement("select").appendChild(k.createElement("option")),it.type="checkbox",v.checkOn=""!==it.value,v.optSelected=rt.selected,(it=k.createElement("input")).value="t",it.type="radio",v.radioValue="t"===it.value;var dt,ht=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return q(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=S.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ht[t]||S.find.attr;ht[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=ht[o],ht[o]=i,i=null!=a(e,t,n)?o:null,ht[o]=r),i}});var pt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function gt(e){return(e.match(L)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}S.fn.extend({prop:function(e,t){return q(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(b(t))return this.each(function(e){S(this).addClass(t.call(this,e,vt(this)))});if((e=bt(t)).length)for(;n=this[u++];)if(r=vt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=gt(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(b(t))return this.each(function(e){S(this).removeClass(t.call(this,e,vt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;n=this[u++];)if(r=vt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(a=0;o=e[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=gt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(r,t){var o=typeof r,a="string"==o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):b(r)?this.each(function(e){S(this).toggleClass(r.call(this,e,vt(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=S(this),i=bt(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=o||((e=vt(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+gt(vt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=b(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:gt(S.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var _t=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,i){var r,o,a,s,u,c,l,f,d=[n||k],h=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||k,3!==n.nodeType&&8!==n.nodeType&&!_t.test(h+S.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,(e=e[S.expando]?e:new S.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),l=S.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!y(n)){for(s=l.delegateType||h,_t.test(s+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||k)&&d.push(a.defaultView||a.parentWindow||C)}for(r=0;(o=d[r++])&&!e.isPropagationStopped();)f=o,e.type=1<r?s:l.bindType||h,(c=(K.get(o,"events")||Object.create(null))[e.type]&&K.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&Y(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),t)||!Y(n)||u&&b(n[h])&&!y(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,wt),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var i=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(i,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){S.event.simulate(i,e.target,S.event.fix(e))};S.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=K.access(e,i);t||e.addEventListener(n,r,!0),K.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=K.access(e,i)-1;t?K.access(e,i,t):(e.removeEventListener(n,r,!0),K.remove(e,i))}}});var xt=C.location,Ct={guid:Date.now()},kt=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,Dt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function Nt(n,e,i,r){var t;if(Array.isArray(e))S.each(e,function(e,t){i||St.test(n)?r(n,t):Nt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==w(e))r(n,e);else for(t in e)Nt(n+"["+t+"]",e[t],i,r)}S.param=function(e,t){var n,i=[],r=function(e,t){var n=b(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){r(this.name,this.value)});else for(n in e)Nt(n,e[n],t,r);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Et.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var At=/%20/g,Ot=/#.*$/,Pt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Mt={},Bt={},jt="*/".concat("*"),Ft=k.createElement("a");function Ht(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(L)||[];if(b(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function zt(t,r,o,a){var s={},u=t===Bt;function c(e){var i;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||u||s[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function qt(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&S.extend(!0,e,i),e}Ft.href=xt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,S.ajaxSettings),t):qt(S.ajaxSettings,e)},ajaxPrefilter:Ht(Mt),ajaxTransport:Ht(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,f,d,n,h,i,p,m,r,o,g=S.ajaxSetup({},t),v=g.context||g,b=g.context&&(v.nodeType||v.jquery)?S(v):S.event,y=S.Deferred(),_=S.Callbacks("once memory"),w=g.statusCode||{},a={},s={},u="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=It.exec(d);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==p&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)x.always(e[x.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return l&&l.abort(t),c(0,t),this}};if(y.promise(x),g.url=((e||g.url||xt.href)+"").replace(Lt,xt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(L)||[""],null==g.crossDomain){i=k.createElement("a");try{i.href=g.url,i.href=i.href,g.crossDomain=Ft.protocol+"//"+Ft.host!=i.protocol+"//"+i.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),zt(Mt,g,t,x),p)return x;for(r in(m=S.event&&g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Rt.test(g.type),f=g.url.replace(Ot,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(At,"+")):(o=g.url.slice(f.length),g.data&&(g.processData||"string"==typeof g.data)&&(f+=(kt.test(f)?"&":"?")+g.data,delete g.data),!1===g.cache&&(f=f.replace(Pt,"$1"),o=(kt.test(f)?"&":"?")+"_="+Ct.guid+++o),g.url=f+o),g.ifModified&&(S.lastModified[f]&&x.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&x.setRequestHeader("If-None-Match",S.etag[f])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&x.setRequestHeader("Content-Type",g.contentType),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+jt+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,x,g)||p))return x.abort();if(u="abort",_.add(g.complete),x.done(g.success),x.fail(g.error),l=zt(Bt,g,t,x)){if(x.readyState=1,m&&b.trigger("ajaxSend",[x,g]),p)return x;g.async&&0<g.timeout&&(h=C.setTimeout(function(){x.abort("timeout")},g.timeout));try{p=!1,l.send(a,c)}catch(e){if(p)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,i){var r,o,a,s,u,c=t;p||(p=!0,h&&C.clearTimeout(h),l=void 0,d=i||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(g,x,n)),!r&&-1<S.inArray("script",g.dataTypes)&&(g.converters["text script"]=function(){}),s=function(e,t,n,i){var r,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(g,s,x,r),r?(g.ifModified&&((u=x.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=x.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",r?y.resolveWith(v,[o,c,x]):y.rejectWith(v,[x,c,a]),x.statusCode(w),w=void 0,m&&b.trigger(r?"ajaxSuccess":"ajaxError",[x,g,r?o:a]),_.fireWith(v,[x,c]),m&&(b.trigger("ajaxComplete",[x,g]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,i){return b(t)&&(i=i||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:r,dataType:i,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Ut=S.ajaxSettings.xhr();v.cors=!!Ut&&"withCredentials"in Ut,v.ajax=Ut=!!Ut,S.ajaxTransport(function(r){var o,a;if(v.cors||Ut&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Wt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),k.head.appendChild(i[0])},abort:function(){r&&r()}}});var Vt,$t=[],Yt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=C[i],C[i]=function(){o=arguments},n.always(function(){void 0===r?S(C).removeProp(i):C[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,$t.push(i)),o&&b(r)&&r(o[0]),o=r=void 0}),"script"}),v.createHTMLDocument=((Vt=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,t.head.appendChild(i)):t=k),o=!n&&[],(r=E.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var i,r,o},S.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=gt(e.slice(s)),e=e.slice(0,s)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,c=S.css(e,"position"),l=S(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=S.css(e,"top"),u=S.css(e,"left"),r=("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(a=(i=l.position()).top,i.left):(a=parseFloat(o)||0,parseFloat(u)||0),b(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),l.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(i,"marginTop",!0),left:t.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ie})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;S.fn[t]=function(e){return q(this,function(e,t,n){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=qe(v.pixelPosition,function(e,t){if(t)return t=ze(e,n),Be.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){S.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return q(this,function(e,t,n){var i;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=T,S.isFunction=b,S.isWindow=y,S.camelCase=$,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Kt=C.jQuery,Xt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Xt),e&&C.jQuery===S&&(C.jQuery=Kt),S},void 0===e&&(C.jQuery=C.$=S),S}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(s,i){"use strict";function e(e){return 0<=function(e,t){var n,i=/^(\d+)\.(\d+)\.(\d+)/,r=i.exec(e)||[],o=i.exec(t)||[];for(n=1;n<=3;n++){if(+r[n]>+o[n])return 1;if(+r[n]<+o[n])return-1}return 0}(s.fn.jquery,e)}s.migrateVersion="3.3.0",i.console&&i.console.log&&(s&&e("3.0.0")||i.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),s.migrateWarnings&&i.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),i.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion));var n={};function u(e){var t=i.console;s.migrateDeduplicateWarnings&&n[e]||(n[e]=!0,s.migrateWarnings.push(e),t&&t.warn&&!s.migrateMute&&(t.warn("JQMIGRATE: "+e),s.migrateTrace&&t.trace&&t.trace()))}function t(e,t,n,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return u(i),n},set:function(e){u(i),n=e}})}function r(e,t,n,i){e[t]=function(){return u(i),n.apply(this,arguments)}}s.migrateDeduplicateWarnings=!0,s.migrateWarnings=[],void 0===s.migrateTrace&&(s.migrateTrace=!0),s.migrateReset=function(){n={},s.migrateWarnings.length=0},"BackCompat"===i.document.compatMode&&u("jQuery is not compatible with Quirks Mode");var o,a={},c=s.fn.init,l=s.find,f=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,d=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(o in s.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(u("jQuery( '#' ) is not a valid selector"),t[0]=[]),c.apply(this,t)},s.fn.init.prototype=s.fn,s.find=function(t){var n=Array.prototype.slice.call(arguments);if("string"==typeof t&&f.test(t))try{i.document.querySelector(t)}catch(e){t=t.replace(d,function(e,t,n,i){return"["+t+n+'"'+i+'"]'});try{i.document.querySelector(t),u("Attribute selector with '#' must be quoted: "+n[0]),n[0]=t}catch(e){u("Attribute selector with '#' was not fixed: "+n[0])}}return l.apply(this,n)},l)Object.prototype.hasOwnProperty.call(l,o)&&(s.find[o]=l[o]);if(r(s.fn,"size",function(){return this.length},"jQuery.fn.size() is deprecated and removed; use the .length property"),r(s,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"jQuery.parseJSON is deprecated; use JSON.parse"),r(s,"holdReady",s.holdReady,"jQuery.holdReady is deprecated"),r(s,"unique",s.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),t(s.expr,"filters",s.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),t(s.expr,":",s.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.1.1")&&r(s,"trim",function(e){return null==e?"":(e+"").replace(h,"")},"jQuery.trim is deprecated; use String.prototype.trim"),e("3.2.0")&&r(s,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"jQuery.nodeName is deprecated"),e("3.3.0")&&(r(s,"isNumeric",function(e){var t=typeof e;return("number"==t||"string"==t)&&!isNaN(e-parseFloat(e))},"jQuery.isNumeric() is deprecated"),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()}),r(s,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[Object.prototype.toString.call(e)]||"object":typeof e},"jQuery.type is deprecated"),r(s,"isFunction",function(e){return"function"==typeof e},"jQuery.isFunction() is deprecated"),r(s,"isWindow",function(e){return null!=e&&e===e.window},"jQuery.isWindow() is deprecated"),r(s,"isArray",Array.isArray,"jQuery.isArray is deprecated; use Array.isArray")),s.ajax){var p=s.ajax;s.ajax=function(){var e=p.apply(this,arguments);return e.promise&&(r(e,"success",e.done,"jQXHR.success is deprecated and removed"),r(e,"error",e.fail,"jQXHR.error is deprecated and removed"),r(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e}}var m=s.fn.removeAttr,g=s.fn.toggleClass,v=/\S+/g;function b(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}s.fn.removeAttr=function(e){var n=this;return s.each(e.match(v),function(e,t){s.expr.match.bool.test(t)&&(u("jQuery.fn.removeAttr no longer sets boolean properties: "+t),n.prop(t,!1))}),m.apply(this,arguments)};var y,_=!(s.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?g.apply(this,arguments):(u("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&s.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":s.data(this,"__className__")||"")}))}),w=/^[a-z]/,x=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;s.swap&&s.each(["height","width","reliableMarginRight"],function(e,t){var n=s.cssHooks[t]&&s.cssHooks[t].get;n&&(s.cssHooks[t].get=function(){var e;return _=!0,e=n.apply(this,arguments),_=!1,e})}),s.swap=function(e,t,n,i){var r,o,a={};for(o in _||u("jQuery.swap() is undocumented and deprecated"),t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},e("3.4.0")&&"undefined"!=typeof Proxy&&(s.cssProps=new Proxy(s.cssProps||{},{set:function(){return u("JQMIGRATE: jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),s.cssNumber||(s.cssNumber={}),y=s.fn.css,s.fn.css=function(e,t){var n,i=this;return"string"!=typeof e&&s.each(e,function(e,t){s.fn.css.call(i,e,t)}),"number"!=typeof t||(n=b(e),w.test(n)&&x.test(n[0].toUpperCase()+n.slice(1)))||u("Use of number-typed values is deprecated in jQuery.fn.css"),y.apply(this,arguments)};var C=s.data;if(s.data=function(e,t,n){var i,r,o;if(t&&"object"==typeof t&&2===arguments.length){for(o in i=s.hasData(e)&&C.call(this,e),r={},t)o!==b(o)?(u("jQuery.data() always sets/gets camelCased names: "+o),i[o]=t[o]):r[o]=t[o];return C.call(this,e,r),t}return t&&"string"==typeof t&&t!==b(t)&&(i=s.hasData(e)&&C.call(this,e))&&t in i?(u("jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(i[t]=n),i[t]):C.apply(this,arguments)},s.fx){var k,S,D=s.Tween.prototype.run,T=function(e){return e};s.Tween.prototype.run=function(){1<s.easing[this.easing].length&&(u("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),s.easing[this.easing]=T),D.apply(this,arguments)},k=s.fx.interval||13,S="jQuery.fx.interval is deprecated",i.requestAnimationFrame&&Object.defineProperty(s.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return i.document.hidden||u(S),k},set:function(e){u(S),k=e}})}var E=s.fn.load,N=s.event.add,A=s.event.fix;function O(e){var t=i.document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body&&t.body.innerHTML}function P(e){var t=e.replace(I,"<$1></$2>");t!==e&&O(e)!==O(t)&&u("HTML tags must be properly nested and closed: "+e)}s.event.props=[],s.event.fixHooks={},t(s.event.props,"concat",s.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),s.event.fix=function(e){var t,n=e.type,i=this.fixHooks[n],r=s.event.props;if(r.length)for(u("jQuery.event.props are deprecated and removed: "+r.join());r.length;)s.event.addProp(r.pop());if(i&&!i._migrated_&&(i._migrated_=!0,u("jQuery.event.fixHooks are deprecated and removed: "+n),(r=i.props)&&r.length))for(;r.length;)s.event.addProp(r.pop());return t=A.call(this,e),i&&i.filter?i.filter(t,e):t},s.event.add=function(e,t){return e===i&&"load"===t&&"complete"===i.document.readyState&&u("jQuery(window).on('load'...) called after load event occurred"),N.apply(this,arguments)},s.each(["load","unload","error"],function(e,t){s.fn[t]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?E.apply(this,e):(u("jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){s.fn[n]=function(e,t){return u("jQuery.fn."+n+"() event shorthand is deprecated"),0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),s(function(){s(i.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){this===i.document&&u("'ready' event is deprecated")}},s.fn.extend({bind:function(e,t,n){return u("jQuery.fn.bind() is deprecated"),this.on(e,null,t,n)},unbind:function(e,t){return u("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,n,i){return u("jQuery.fn.delegate() is deprecated"),this.on(t,e,n,i)},undelegate:function(e,t,n){return u("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return u("jQuery.fn.hover() is deprecated"),this.on("mouseenter",e).on("mouseleave",t||e)}});var I=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,R=s.htmlPrefilter;s.UNSAFE_restoreLegacyHtmlPrefilter=function(){s.htmlPrefilter=function(e){return P(e),e.replace(I,"<$1></$2>")}},s.htmlPrefilter=function(e){return P(e),R(e)};var L=s.fn.offset;if(s.fn.offset=function(){var e,t=this[0];if(t&&t.nodeType)return e=(t.ownerDocument||i.document).documentElement,s.contains(e,t)?L.apply(this,arguments):(u("jQuery.fn.offset() requires an element connected to a document"),{top:0,left:0});u("jQuery.fn.offset() requires a valid DOM element")},s.ajax){var M=s.param;s.param=function(e,t){var n=s.ajaxSettings&&s.ajaxSettings.traditional;return void 0===t&&n&&(u("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=n),M.call(this,e,t)}}var B=s.fn.andSelf||s.fn.addBack;if(s.fn.andSelf=function(){return u("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),B.apply(this,arguments)},s.Deferred){var j=s.Deferred,F=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]];s.Deferred=function(e){var o=j(),a=o.promise();return o.pipe=a.pipe=function(){var r=arguments;return u("deferred.pipe() is deprecated"),s.Deferred(function(i){s.each(F,function(e,t){var n="function"==typeof r[e]&&r[e];o[t[1]](function(){var e=n&&n.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},e&&e.call(o,o),o},s.Deferred.exceptionHook=j.exceptionHook}return s}),function(pL){var vL,qL=this||eval("this"),rL=qL.document,sL=qL.navigator,tL=qL.jQuery,uL=qL.JSON;tL||"undefined"==typeof jQuery||(tL=jQuery),vL=function(e,i){function n(e,t){return(null===e||typeof e in m)&&e===t}function o(e,t){var n;return function(){n||(n=O.a.setTimeout(function(){n=pL,e()},t))}}function a(e,t){var n;return function(){clearTimeout(n),n=O.a.setTimeout(e,t)}}function c(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function r(e,t){null!==t&&t.s&&t.s()}function s(e,t){var n=this.qd,i=n[_];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var u,t,l,f,d,h,p,O=void 0!==e?e:{};O.b=function(e,t){for(var n=e.split("."),i=O,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=t},O.L=function(e,t,n){e[t]=n},O.version="3.5.1",O.b("version",O.version),O.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},O.a=function(){function f(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}function e(e,t){if(t)for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}function t(e,t){return e.__proto__=t,e}function r(e,t,n,i){var r=e[t].match(d)||[];O.a.D(n.match(d),function(e){O.a.Na(r,e,i)}),e[t]=r.join(" ")}var o=Object.prototype.hasOwnProperty,n={__proto__:[]}instanceof Array,i="function"==typeof Symbol,a={},s={};a[sL&&/Firefox\/2/i.test(sL.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],a.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),f(a,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)s[t[n]]=e});var u,c={propertychange:!0},l=rL&&function(){for(var e=3,t=rL.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:pL}(),d=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i];return pL},Pa:function(e,t){var n=O.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&O.a.D(e,function(e){O.a.A(t,e)<0&&t.push(e)}),t},Mb:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r));return i},jb:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r)&&i.push(e[r]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=O.a.A(O.a.bc(e),t);i<0?n&&e.push(t):n||e.splice(i,1)},Ba:n,extend:e,setPrototypeOf:t,Ab:n?t:e,P:f,Ga:function(e,t,n){if(!e)return e;var i,r={};for(i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},Tb:function(e){for(;e.firstChild;)O.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=O.a.la(e))[0]&&e[0].ownerDocument||rL).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(O.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,r=[];n<i;n++){var o=e[n].cloneNode(!0);r.push(t?O.oa(o):o)}return r},va:function(e,t){if(O.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],r=i.parentNode,o=0,a=t.length;o<a;o++)r.insertBefore(t[o],i);for(o=0,a=n.length;o<a;o++)O.removeNode(n[o])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){l<7?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===pL?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return O.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!O.a.Lb(e,O.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return O.onError?function(){try{return e.apply(this,arguments)}catch(e){throw O.onError&&O.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(O.a.Ac(e),t)},Gc:function(e){setTimeout(function(){throw O.onError&&O.onError(e),e},0)},B:function(t,e,n){var i=O.a.Ac(n);if(n=c[e],O.options.useOnlyNativeEvents||n||!tL)if(n||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(e){i.call(t,e)},o="on"+e;t.attachEvent(o,r),O.a.K.za(t,function(){t.detachEvent(o,r)})}else t.addEventListener(e,i,!1);else u||(u="function"==typeof tL(t).on?"on":"bind"),tL(t)[u](e,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==O.a.R(e)||!e.type||"click"!=t.toLowerCase()||"checkbox"!=(n=e.type)&&"radio"!=n),O.options.useOnlyNativeEvents||!tL||n)if("function"==typeof rL.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=rL.createEvent(s[t]||"HTMLEvents")).initEvent(t,!0,!0,qL,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else tL(e).trigger(t)},f:function(e){return O.O(e)?e():e},bc:function(e){return O.O(e)?e.v():e},Eb:function(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],O.a.D(e.match(d),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?r(t.className,"baseVal",e,n):r(t,"className",e,n))},Bb:function(e,t){var n=O.a.f(t);null!==n&&n!==pL||(n="");var i=O.h.firstChild(e);!i||3!=i.nodeType||O.h.nextSibling(i)?O.h.va(e,[e.ownerDocument.createTextNode(n)]):i.data=n,O.a.Ad(e)},Yc:function(e,t){if(e.name=t,l<=7)try{var n=e.name.replace(/[&<>'"]/g,function(e){return"&#"+e.charCodeAt(0)+";"});e.mergeAttributes(rL.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=l&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(l){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=O.a.f(e),t=O.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return i?Symbol(e):e},Zd:6===l,$d:7===l,W:l,Lc:function(e,t){for(var n=O.a.la(e.getElementsByTagName("input")).concat(O.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],o=n.length-1;0<=o;o--)i(n[o])&&r.push(n[o]);return r},Nd:function(e){return"string"==typeof e&&(e=O.a.Db(e))?uL&&uL.parse?uL.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!uL||!uL.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return uL.stringify(O.a.f(e),t,n)},Od:function(e,t,n){var i=(n=n||{}).params||{},r=n.includeFields||this.Jc,o=e;if("object"==typeof e&&"form"===O.a.R(e)){o=e.action;for(var a=r.length-1;0<=a;a--)for(var s=O.a.Lc(e,r[a]),u=s.length-1;0<=u;u--)i[s[u].name]=s[u].value}t=O.a.f(t);var c=rL.createElement("form");for(var l in c.style.display="none",c.action=o,c.method="post",t)(e=rL.createElement("input")).type="hidden",e.name=l,e.value=O.a.hc(O.a.f(t[l])),c.appendChild(e);f(i,function(e,t){var n=rL.createElement("input");n.type="hidden",n.name=e,n.value=t,c.appendChild(n)}),rL.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),O.b("utils",O.a),O.b("utils.arrayForEach",O.a.D),O.b("utils.arrayFirst",O.a.Lb),O.b("utils.arrayFilter",O.a.jb),O.b("utils.arrayGetDistinctValues",O.a.wc),O.b("utils.arrayIndexOf",O.a.A),O.b("utils.arrayMap",O.a.Mb),O.b("utils.arrayPushAll",O.a.Nb),O.b("utils.arrayRemoveItem",O.a.Pa),O.b("utils.cloneNodes",O.a.Ca),O.b("utils.createSymbolOrString",O.a.Da),O.b("utils.extend",O.a.extend),O.b("utils.fieldsIncludedWithJsonPost",O.a.Jc),O.b("utils.getFormFields",O.a.Lc),O.b("utils.objectMap",O.a.Ga),O.b("utils.peekObservable",O.a.bc),O.b("utils.postJson",O.a.Od),O.b("utils.parseJson",O.a.Nd),O.b("utils.registerEventHandler",O.a.B),O.b("utils.stringifyJson",O.a.hc),O.b("utils.range",O.a.Pd),O.b("utils.toggleDomNodeCssClass",O.a.Eb),O.b("utils.triggerEvent",O.a.Fb),O.b("utils.unwrapObservable",O.a.f),O.b("utils.objectForEach",O.a.P),O.b("utils.addOrRemoveItem",O.a.Na),O.b("utils.setTextContent",O.a.Bb),O.b("unwrap",O.a.f),Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(1===arguments.length)return function(){return n.apply(t,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice(0);return e.push.apply(e,arguments),n.apply(t,e)}}),O.a.g=new function(){var i,r=0,o="__ko__"+(new Date).getTime(),a={};return{get:function(e,t){var n=i(e,!1);return n&&n[t]},set:function(e,t,n){(e=i(e,n!==pL))&&(e[t]=n)},Ub:function(e,t,n){return(e=i(e,!0))[t]||(e[t]=n)},clear:O.a.W?(i=function(e,t){var n=e[o];if(!n||"null"===n||!a[n]){if(!t)return pL;n=e[o]="ko"+r++,a[n]={}}return a[n]},function(e){var t=e[o];return!(!t||(delete a[t],e[o]=null))}):(i=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},function(e){return!!e[o]&&(delete e[o],!0)}),Z:function(){return r+++o}}},O.b("utils.domData",O.a.g),O.b("utils.domData.clear",O.a.g.clear),O.a.K=new function(){function i(e,t){var n=O.a.g.get(e,a);return n===pL&&t&&(n=[],O.a.g.set(e,a,n)),n}function o(e){if(t=i(e,!1))for(var t=t.slice(0),n=0;n<t.length;n++)t[n](e);O.a.g.clear(e),O.a.K.cleanExternalData(e),s[e.nodeType]&&r(e.childNodes,!0)}function r(e,t){for(var n,i=[],r=0;r<e.length;r++)if((!t||8===e[r].nodeType)&&(o(i[i.length]=n=e[r]),e[r]!==n))for(;r--&&-1==O.a.A(i,e[r]););}var a=O.a.g.Z(),t={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{za:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");i(e,!0).push(t)},yb:function(e,t){var n=i(e,!1);n&&(O.a.Pa(n,t),0==n.length&&O.a.g.set(e,a,pL))},oa:function(e){return O.u.G(function(){t[e.nodeType]&&(o(e),s[e.nodeType]&&r(e.getElementsByTagName("*")))}),e},removeNode:function(e){O.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){tL&&"function"==typeof tL.cleanData&&tL.cleanData([e])}}},O.oa=O.a.K.oa,O.removeNode=O.a.K.removeNode,O.b("cleanNode",O.oa),O.b("removeNode",O.removeNode),O.b("utils.domNodeDisposal",O.a.K),O.b("utils.domNodeDisposal.addDisposeCallback",O.a.K.za),O.b("utils.domNodeDisposal.removeDisposeCallback",O.a.K.yb),u=[0,"",""],d={thead:t=[1,"<table>","</table>"],tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],td:l=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:l,option:f=[1,"<select multiple='multiple'>","</select>"],optgroup:f},h=O.a.W<=8,O.a.ua=function(e,t){var n;if(tL){if(tL.parseHTML)n=tL.parseHTML(e,t)||[];else if((n=tL.clean([e],t))&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}}else{(n=t)||(n=rL),i=n.parentWindow||n.defaultView||qL;var r,o=O.a.Db(e).toLowerCase(),a=n.createElement("div");for(o=(r=(o=o.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&d[o[1]]||u)[0],r="ignored<div>"+r[1]+e+r[2]+"</div>","function"==typeof i.innerShiv?a.appendChild(i.innerShiv(r)):(h&&n.body.appendChild(a),a.innerHTML=r,h&&a.parentNode.removeChild(a));o--;)a=a.lastChild;n=O.a.la(a.lastChild.childNodes)}return n},O.a.Md=function(e,t){var n=O.a.ua(e,t);return n.length&&n[0].parentElement||O.a.Yb(n)},O.a.fc=function(e,t){if(O.a.Tb(e),null!==(t=O.a.f(t))&&t!==pL)if("string"!=typeof t&&(t=t.toString()),tL)tL(e).html(t);else for(var n=O.a.ua(t,e.ownerDocument),i=0;i<n.length;i++)e.appendChild(n[i])},O.b("utils.parseHtmlFragment",O.a.ua),O.b("utils.setHtml",O.a.fc),O.aa=(p={},{Xb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return p[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},bd:function(e,t){var n=p[e];if(n===pL)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete p[e]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=O.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,r=t.childNodes,o=r.length;i<o;i++)e(r[i],n)}(e,n);for(var i=0,r=n.length;i<r;i++){var o=n[i].ud,a=[o];t&&O.a.Nb(a,t),O.aa.bd(n[i].Kd,a),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),O.b("memoization",O.aa),O.b("memoization.memoize",O.aa.Xb),O.b("memoization.unmemoize",O.aa.bd),O.b("memoization.parseMemoText",O.aa.Uc),O.b("memoization.unmemoizeDomNodeAndDescendants",O.aa.cd),O.na=function(){function e(){if(o)for(var e,t=o,n=0;s<o;)if(e=r[s++]){if(t<s){if(5e3<=++n){s=o,O.a.Gc(Error("'Too much recursion' after processing "+n+" task groups."));break}t=o}try{e()}catch(e){O.a.Gc(e)}}}function t(){e(),s=o=r.length=0}var n,i,r=[],o=0,a=1,s=0;return{scheduler:qL.MutationObserver?(n=t,i=rL.createElement("div"),new MutationObserver(n).observe(i,{attributes:!0}),function(){i.classList.toggle("foo")}):rL&&"onreadystatechange"in rL.createElement("script")?function(e){var t=rL.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,rL.documentElement.removeChild(t),t=null,e()},rL.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return o||O.na.scheduler(t),r[o++]=e,a++},cancel:function(e){s<=(e-=a-o)&&e<o&&(r[e]=null)},resetForTesting:function(){var e=o-s;return s=o=r.length=0,e},Sd:e}}(),O.b("tasks",O.na),O.b("tasks.schedule",O.na.zb),O.b("tasks.runEarly",O.na.Sd),O.Ta={throttle:function(t,n){t.throttleEvaluation=n;var i=null;return O.$({read:t,write:function(e){clearTimeout(i),i=O.a.setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,i,r;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,r="function"==typeof i?i:"notifyWhenChangesStop"==i?a:o,e.ub(function(e){return r(e,n,t)})},deferred:function(i,e){if(!0!==e)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");i.Hb||(i.Hb=!0,i.ub(function(e){var t,n=!1;return function(){if(!n){O.na.cancel(t),t=O.na.zb(e);try{n=!0,i.notifySubscribers(pL,"dirty")}finally{n=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var m={undefined:1,boolean:1,number:1,string:1};O.b("extenders",O.Ta),O.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,O.L(this,"dispose",this.s),O.L(this,"disposeWhenNodeIsRemoved",this.l)},O.ic.prototype.s=function(){this.Ib||(this.fb&&O.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},O.ic.prototype.l=function(e){this.Jb=e,O.a.K.za(e,this.fb=this.s.bind(this))},O.T=function(){O.a.Ab(this,g),g.qb(this)};var g={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var r=new O.ic(i,t?e.bind(t):e,function(){O.a.Pa(i.U[n],r),i.hb&&i.hb(n)});return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(r),r},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{O.u.xc();for(var i,r=0;i=n[r];++r)i.Ib||i.lc(e)}finally{O.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var n,t,i,r,o,a=this,s=O.O(a);a.gb||(a.gb=a.notifySubscribers,a.notifySubscribers=c);var u=e(function(){a.Ja=!1,s&&r===a&&(r=a.nc?a.nc():a());var e=t||o&&a.sb(i,r);o=t=n=!1,e&&a.gb(i=r)});a.qc=function(e,t){t&&a.Ja||(o=!t),a.ed=a.U.change.slice(0),a.Ja=n=!0,r=e,u()},a.pc=function(e){n||(i=e,a.gb(e,"beforeChange"))},a.rc=function(){o=!0},a.gd=function(){a.sb(i,a.v(!0))&&(t=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var n=0;return O.a.P(this.U,function(e,t){"dirty"!==e&&(n+=t.length)}),n},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var i=this;return e&&O.a.P(e,function(e,t){var n=O.Ta[e];"function"==typeof n&&(i=n(i,t)||i)}),i}};O.L(g,"init",g.qb),O.L(g,"subscribe",g.subscribe),O.L(g,"extend",g.extend),O.L(g,"getSubscriptionsCount",g.Bd),O.a.Ba&&O.a.setPrototypeOf(g,Function.prototype),O.T.fn=g,O.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},O.b("subscribable",O.T),O.b("isSubscribable",O.Qc),O.S=O.u=function(){function i(e){n.push(t),t=e}function r(){t=n.pop()}var t,n=[],o=0;return{xc:i,end:r,cc:function(e){if(t){if(!O.Qc(e))throw Error("Only subscribable things can act as dependencies");t.od.call(t.pd,e,e.fd||(e.fd=++o))}},G:function(e,t,n){try{return i(),e.apply(t,n||[])}finally{r()}},qa:function(){if(t)return t.o.qa()},Va:function(){if(t)return t.o.Va()},Ya:function(){if(t)return t.Ya},o:function(){if(t)return t.o}}}(),O.b("computedContext",O.S),O.b("computedContext.getDependenciesCount",O.S.qa),O.b("computedContext.getDependencies",O.S.Va),O.b("computedContext.isInitial",O.S.Ya),O.b("computedContext.registerDependency",O.S.cc),O.b("ignoreDependencies",O.Yd=O.u.G);var v=O.a.Da("_latestValue");O.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(O.u.cc(t),t[v])}return t[v]=e,O.a.Ba||O.a.extend(t,O.T.fn),O.T.fn.qb(t),O.a.Ab(t,b),O.options.deferUpdates&&O.Ta.deferred(t,!0),t};var b={equalityComparer:n,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate"),this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};O.a.Ba&&O.a.setPrototypeOf(b,O.T.fn);var y=O.ta.Ma="__ko_proto__";b[y]=O.ta,O.O=function(e){if((e="function"==typeof e&&e[y])&&e!==b[y]&&e!==O.o.fn[y])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},O.Za=function(e){return"function"==typeof e&&(e[y]===b[y]||e[y]===O.o.fn[y]&&e.Nc)},O.b("observable",O.ta),O.b("isObservable",O.O),O.b("isWriteableObservable",O.Za),O.b("isWritableObservable",O.Za),O.b("observable.fn",b),O.L(b,"peek",b.v),O.L(b,"valueHasMutated",b.xa),O.L(b,"valueWillMutate",b.ya),O.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=O.ta(e),O.a.Ab(e,O.Ha.fn),e.extend({trackArrayChanges:!0})},O.Ha.fn={remove:function(t){for(var e=this.v(),n=[],i="function"!=typeof t||O.O(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];if(i(o)){if(0===n.length&&this.ya(),e[r]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),e.splice(r,1),r--}}return n.length&&this.xa(),n},removeAll:function(t){if(t!==pL)return t?this.remove(function(e){return 0<=O.a.A(t,e)}):[];var e=this.v(),n=e.slice(0);return this.ya(),e.splice(0,e.length),this.xa(),n},destroy:function(t){var e=this.v(),n="function"!=typeof t||O.O(t)?function(e){return e===t}:t;this.ya();for(var i=e.length-1;0<=i;i--){var r=e[i];n(r)&&(r._destroy=!0)}this.xa()},destroyAll:function(t){return t===pL?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=O.a.A(t,e)}):[]},indexOf:function(e){var t=this();return O.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},O.a.Ba&&O.a.setPrototypeOf(O.Ha.fn,O.ta.fn),O.a.D("pop push reverse shift sort splice unshift".split(" "),function(n){O.Ha.fn[n]=function(){var e=this.v();this.ya(),this.zc(e,n,arguments);var t=e[n].apply(e,arguments);return this.xa(),t===e?this:t}}),O.a.D(["slice"],function(t){O.Ha.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),O.Pc=function(e){return O.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},O.b("observableArray",O.Ha),O.b("isObservableArray",O.Pc),O.Ta.trackArrayChanges=function(n,e){if(n.Ob={},e&&"object"==typeof e&&O.a.extend(n.Ob,e),n.Ob.sparse=!0,!n.zc){var t,i,r,f=!1,d=null,h=0,o=n.Qa,a=n.hb;n.Qa=function(e){o&&o.call(n,e),"arrayChange"===e&&function(){function e(){if(h){var e,t=[].concat(n.v()||[]);n.Wa("arrayChange")&&((!d||1<h)&&(d=O.a.Pb(r,t,n.Ob)),e=d),r=t,d=null,h=0,e&&e.length&&n.notifySubscribers(e,"arrayChange")}}f?e():(f=!0,i=n.subscribe(function(){++h},null,"spectate"),r=[].concat(n.v()||[]),d=null,t=n.subscribe(e))}()},n.hb=function(e){a&&a.call(n,e),"arrayChange"!==e||n.Wa("arrayChange")||(t&&t.s(),i&&i.s(),i=t=null,f=!1,r=pL)},n.zc=function(e,t,n){function i(e,t,n){return r[r.length]={status:e,value:t,index:n}}if(f&&!h){var r=[],o=e.length,a=n.length,s=0;switch(t){case"push":s=o;case"unshift":for(t=0;t<a;t++)i("added",n[t],s+t);break;case"pop":s=o-1;case"shift":o&&i("deleted",e[s],s);break;case"splice":t=Math.min(Math.max(0,n[0]<0?o+n[0]:n[0]),o),o=1===a?o:Math.min(t+(n[1]||0),o),a=t+a-2,s=Math.max(o,a);for(var u=[],c=[],l=2;t<s;++t,++l)t<o&&c.push(i("deleted",e[t],t)),t<a&&u.push(i("added",n[l],t));O.a.Kc(c,u);break;default:return}d=r}}}};var _=O.a.Da("_state");O.o=O.$=function(e,t,n){function i(){if(0<arguments.length){if("function"!=typeof r)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return r.apply(o.nb,arguments),this}return o.ra||O.u.cc(i),(o.ka||o.J&&i.Xa())&&i.ha(),o.X}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var r=n.write,o={X:pL,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:n.read,nb:t||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Rb:null,I:{},V:0,Ic:null};return i[_]=o,i.Nc="function"==typeof r,O.a.Ba||O.a.extend(i,O.T.fn),O.T.fn.qb(i),O.a.Ab(i,w),n.pure?(o.wb=!0,o.J=!0,O.a.extend(i,x)):n.deferEvaluation&&O.a.extend(i,C),O.options.deferUpdates&&O.Ta.deferred(i,!0),o.l&&(o.jc=!0,o.l.nodeType||(o.l=null)),o.J||n.deferEvaluation||i.ha(),o.l&&i.ja()&&O.a.K.za(o.l,o.Rb=function(){i.s()}),i};var w={equalityComparer:n,qa:function(){return this[_].V},Va:function(){var n=[];return O.a.P(this[_].I,function(e,t){n[t.Ka]=t.da}),n},Vb:function(t){if(!this[_].V)return!1;var e=this.Va();return-1!==O.a.A(e,t)||!!O.a.Lb(e,function(e){return e.Vb&&e.Vb(t)})},uc:function(e,t,n){if(this[_].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[_].I[e]=n).Ka=this[_].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[_].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[_].rb&&this.Ia(!1)},ja:function(){var e=this[_];return e.ka||0<e.V},Rd:function(){this.Ja?this[_].ka&&(this[_].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[_].Ic),this[_].Ic=O.a.setTimeout(function(){e.ha(!0)},t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[_],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!O.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[_],n=!1,i=t.wb?pL:!t.V;n={qd:this,mb:t.I,Qb:t.V},O.u.xc({pd:n,od:s,o:this,Ya:i}),t.I={},t.V=0;var r=this.yd(t,n);return(n=t.V?this.sb(t.X,r):(this.s(),!0))&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=r,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),i&&this.notifySubscribers(t.X,"awake"),n},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{O.u.end(),t.Qb&&!e.J&&O.a.P(t.mb,r),e.sa=e.ka=!1}},v:function(e){var t=this[_];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){O.T.fn.ub.call(this,e),this.nc=function(){return this[_].J||(this[_].sa?this.ha():this[_].ka=!1),this[_].X},this.Ia=function(e){this.pc(this[_].X),this[_].ka=!0,e&&(this[_].sa=!0),this.qc(this,!e)}},s:function(){var e=this[_];!e.J&&e.I&&O.a.P(e.I,function(e,t){t.s&&t.s()}),e.l&&e.Rb&&O.a.K.yb(e.l,e.Rb),e.I=pL,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=pL,e.Sa=pL,e.Wc=pL,this.Nc||(e.nb=pL)}},x={Qa:function(e){var r=this,o=r[_];if(!o.ra&&o.J&&"change"==e){if(o.J=!1,o.sa||r.Xa())o.I=null,o.V=0,r.ha()&&r.Gb();else{var n=[];O.a.P(o.I,function(e,t){n[t.Ka]=e}),O.a.D(n,function(e,t){var n=o.I[e],i=r.$c(n.da);i.Ka=t,i.La=n.La,o.I[e]=i}),r.Xa()&&r.ha()&&r.Gb()}o.ra||r.notifySubscribers(o.X,"awake")}},hb:function(e){var n=this[_];n.ra||"change"!=e||this.Wa("change")||(O.a.P(n.I,function(e,t){t.s&&(n.I[e]={da:t.da,Ka:t.Ka,La:t.La},t.s())}),n.J=!0,this.notifySubscribers(pL,"asleep"))},ob:function(){var e=this[_];return e.J&&(e.sa||this.Xa())&&this.ha(),O.T.fn.ob.call(this)}},C={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};O.a.Ba&&O.a.setPrototypeOf(w,O.T.fn);var k,S=O.ta.Ma;w[S]=O.o,O.Oc=function(e){return"function"==typeof e&&e[S]===w[S]},O.Fd=function(e){return O.Oc(e)&&e[_]&&e[_].wb},O.b("computed",O.o),O.b("dependentObservable",O.o),O.b("isComputed",O.Oc),O.b("isPureComputed",O.Fd),O.b("computed.fn",w),O.L(w,"peek",w.v),O.L(w,"dispose",w.s),O.L(w,"isActive",w.ja),O.L(w,"getDependenciesCount",w.qa),O.L(w,"getDependencies",w.Va),O.xb=function(e,t){return"function"==typeof e?O.o(e,t,{pure:!0}):((e=O.a.extend({},e)).pure=!0,O.o(e,t))},O.b("pureComputed",O.xb),function(){function s(i,r,o){if(o=o||new e,"object"!=typeof(i=r(i))||null===i||i===pL||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var a=i instanceof Array?[]:{};return o.save(i,a),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(i,function(e){var t=r(i[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":a[e]=t;break;case"object":case"undefined":var n=o.get(t);a[e]=n!==pL?n:s(t,r,o)}}),a}function e(){this.keys=[],this.values=[]}O.ad=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return s(e,function(e){for(var t=0;O.O(e)&&t<10;t++)e=e();return e})},O.toJSON=function(e,t,n){return e=O.ad(e),O.a.hc(e,t,n)},e.prototype={constructor:e,save:function(e,t){var n=O.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=O.a.A(this.keys,e))?this.values[e]:pL}}}(),O.b("toJS",O.ad),O.b("toJSON",O.toJSON),O.Wd=function(i,e,r){function t(t){var e=O.xb(i,r).extend({ma:"always"}),n=e.subscribe(function(e){e&&(n.s(),t(e))});return e.notifySubscribers(e.v()),n}return"function"!=typeof Promise||e?t(e.bind(r)):new Promise(t)},O.b("when",O.Wd),O.w={M:function(e){switch(O.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?O.a.g.get(e,O.c.options.$b):O.a.W<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?O.w.M(e.options[e.selectedIndex]):pL;default:return e.value}},cb:function(e,t,n){switch(O.a.R(e)){case"option":"string"==typeof t?(O.a.g.set(e,O.c.options.$b,pL),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(O.a.g.set(e,O.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=pL);for(var i,r=-1,o=0,a=e.options.length;o<a;++o)if((i=O.w.M(e.options[o]))==t||""===i&&t===pL){r=o;break}(n||0<=r||t===pL&&1<e.size)&&(e.selectedIndex=r,6===O.a.W&&O.a.setTimeout(function(){e.selectedIndex=r},0));break;default:null!==t&&t!==pL||(t=""),e.value=t}}},O.b("selectExtensions",O.w),O.b("selectExtensions.readValue",O.w.M),O.b("selectExtensions.writeValue",O.w.cb),O.m=function(){function i(e){123===(e=O.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],i=(e+="\n,").match(f),r=[],o=0;if(1<i.length){for(var a,s=0;a=i[s];++s){var u=a.charCodeAt(0);if(44===u){if(o<=0){n.push(t&&r.length?{key:t,value:r.join("")}:{unknown:t||r.join("")}),t=o=0,r=[];continue}}else if(58===u){if(!o&&!t&&1===r.length){t=r.pop();continue}}else{if(47===u&&1<a.length&&(47===a.charCodeAt(1)||42===a.charCodeAt(1)))continue;47===u&&s&&1<a.length?(u=i[s-1].match(d))&&!h[u[0]]&&(i=(e=e.substr(e.indexOf(a)+1)).match(f),s=-1,a="/"):40===u||123===u||91===u?++o:41===u||125===u||93===u?--o:t||r.length||34!==u&&39!==u||(a=a.slice(1,-1))}r.push(a)}if(0<o)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var c=["true","false","null","undefined"],l=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,f=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),d=/[\])"'A-Za-z0-9_$]+$/,h={in:1,return:1,typeof:1},p={};return{Ra:[],wa:p,ac:i,vb:function(e,t){function r(e,t){var n;if(!u){var i=O.getBindingHandler(e);if(i&&i.preprocess&&!(t=i.preprocess(t,e,r)))return;(i=p[e])&&(n=t,i=n=!(0<=O.a.A(c,n))&&null!==(i=n.match(l))&&(i[1]?"Object("+i[1]+")"+i[2]:n)),i&&a.push("'"+("string"==typeof p[e]?p[e]:e)+"':function(_z){"+n+"=_z}")}s&&(t="function(){return "+t+" }"),o.push("'"+e+"':"+t)}var o=[],a=[],s=(t=t||{}).valueAccessors,u=t.bindingParams,n="string"==typeof e?i(e):e;return O.a.D(n,function(e){r(e.key||e.unknown,e.value)}),a.length&&r("_ko_property_writers","{"+a.join(",")+" }"),o.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,r){e&&O.O(e)?!O.Za(e)||r&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),O.b("expressionRewriting",O.m),O.b("expressionRewriting.bindingRewriteValidators",O.m.Ra),O.b("expressionRewriting.parseObjectLiteral",O.m.ac),O.b("expressionRewriting.preProcessBindings",O.m.vb),O.b("expressionRewriting._twoWayBindings",O.m.wa),O.b("jsonExpressionRewriting",O.m),O.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",O.m.vb),function(){function o(e){return 8==e.nodeType&&n.test(t?e.text:e.nodeValue)}function a(e){return 8==e.nodeType&&r.test(t?e.text:e.nodeValue)}function i(e,t){for(var n=e,i=1,r=[];n=n.nextSibling;){if(a(n)&&(O.a.g.set(n,c,!0),0==--i))return r;r.push(n),o(n)&&i++}if(!t)throw Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function s(e,t){var n=i(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var t=rL&&"\x3c!--test--\x3e"===rL.createComment("test").text,n=t?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,r=t?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0},c="__ko_matchedEndComment__";O.h={ea:{},childNodes:function(e){return o(e)?i(e):e.childNodes},Ea:function(e){if(o(e))for(var t=0,n=(e=O.h.childNodes(e)).length;t<n;t++)O.removeNode(e[t]);else O.a.Tb(e)},va:function(e,t){if(o(e)){O.h.Ea(e);for(var n=e.nextSibling,i=0,r=t.length;i<r;i++)n.parentNode.insertBefore(t[i],n)}else O.a.va(e,t)},Vc:function(e,t){var n;o(e)?(n=e.nextSibling,e=e.parentNode):n=e.firstChild,n?t!==n&&e.insertBefore(t,n):e.appendChild(t)},Wb:function(e,t,n){n?(n=n.nextSibling,o(e)&&(e=e.parentNode),n?t!==n&&e.insertBefore(t,n):e.appendChild(t)):O.h.Vc(e,t)},firstChild:function(e){if(o(e))return!e.nextSibling||a(e.nextSibling)?null:e.nextSibling;if(e.firstChild&&a(e.firstChild))throw Error("Found invalid end comment, as the first child of "+e);return e.firstChild},nextSibling:function(e){if(o(e)&&(e=s(e)),e.nextSibling&&a(e.nextSibling)){var t=e.nextSibling;if(a(t)&&!O.a.g.get(t,c))throw Error("Found end comment without a matching opening comment, as child of "+e);return null}return e.nextSibling},Cd:o,Vd:function(e){return(e=(t?e.text:e.nodeValue).match(n))?e[1]:null},Sc:function(e){if(u[O.a.R(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n,i=null;if(n=t.firstChild)do{if(i)i.push(n);else if(o(n)){var r=s(n,!0);r?n=r:i=[n]}else a(n)&&(i=[n])}while(n=n.nextSibling);if(n=i)for(i=t.nextSibling,r=0;r<n.length;r++)i?e.insertBefore(n[r],i):e.appendChild(n[r])}}while(t=t.nextSibling)}}}}(),O.b("virtualElements",O.h),O.b("virtualElements.allowedBindings",O.h.ea),O.b("virtualElements.emptyNode",O.h.Ea),O.b("virtualElements.insertAfter",O.h.Wb),O.b("virtualElements.prepend",O.h.Vc),O.b("virtualElements.setDomNodeChildren",O.h.va),O.ga=function(){this.nd={}},O.a.extend(O.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||O.j.getComponentNameForNode(e);case 8:return O.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return O.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return O.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return O.h.Vd(e);default:return null}},parseBindingsString:function(t,e,n,i){try{var r,o=this.nd,a=t+(i&&i.valueAccessors||"");if(!(r=o[a])){var s,u="with($context){with($data||{}){return{"+O.m.vb(t,i)+"}}}";s=new Function("$context","$element",u),r=o[a]=s}return r(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),O.ga.instance=new O.ga,O.b("bindingProvider",O.ga),function(){function i(e){var t=(e=O.a.g.get(e,b))&&e.N;t&&(e.N=null,t.Tc())}function r(e,t,n){this.node=e,this.yc=t,this.kb=[],this.H=!1,t.N||O.a.K.za(e,i),n&&n.N&&(n.N.kb.push(e),this.Kb=n)}function o(e){return function(){return e}}function h(e){return e()}function a(n){return O.a.Ga(O.u.G(n),function(e,t){return function(){return n()[t]}})}function p(e,t){return a(this.getBindings.bind(this,e,t))}function s(e,t){var n=O.h.firstChild(t);if(n){var i,r=O.ga.instance,o=r.preprocessNode;if(o){for(;i=n;)n=O.h.nextSibling(i),o.call(r,i);n=O.h.firstChild(t)}for(;i=n;)n=O.h.nextSibling(i),u(e,i)}O.i.ma(t,O.i.H)}function u(e,t){var n=e,i=1===t.nodeType;i&&O.h.Sc(t),(i||O.ga.instance.nodeHasBindings(t))&&(n=c(t,null,e).bindingContextForDescendants),n&&!f[O.a.R(t)]&&s(n,t)}function c(r,e,t){var o,n=O.a.g.Ub(r,b,{}),i=n.hd;if(!e){if(i)throw Error("You cannot apply bindings multiple times to the same element.");n.hd=!0}if(i||(n.context=t),n.Zb||(n.Zb={}),e&&"function"!=typeof e)o=e;else{var a=O.ga.instance,s=a.getBindingAccessors||p,u=O.$(function(){return(o=e?e(t,r):s.call(a,r,t))&&(t[m]&&t[m](),t[g]&&t[g]()),o},null,{l:r});o&&u.ja()||(u=null)}var c,l=t;if(o){var f=function(){return O.a.Ga(u?u():o,h)},d=u?function(e){return function(){return h(u()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&h(d(e))},f.has=function(e){return e in o},O.i.H in o&&O.i.subscribe(r,O.i.H,function(){var e=(0,o[O.i.H])();if(e){var t=O.h.childNodes(r);t.length&&e(t,O.Ec(t[0]))}}),O.i.pa in o&&(l=O.i.Cb(r,t),O.i.subscribe(r,O.i.pa,function(){var e=(0,o[O.i.pa])();e&&O.h.firstChild(r)&&e(r)})),n=function(i){var r=[],o={},a=[];return O.a.P(i,function t(e){if(!o[e]){var n=O.getBindingHandler(e);n&&(n.after&&(a.push(e),O.a.D(n.after,function(e){if(i[e]){if(-1!==O.a.A(a,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));t(e)}}),a.length--),r.push({key:e,Mc:n})),o[e]=!0}}),r}(o),O.a.D(n,function(e){var t=e.Mc.init,n=e.Mc.update,i=e.key;if(8===r.nodeType&&!O.h.ea[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");try{"function"==typeof t&&O.u.G(function(){var e=t(r,d(i),f,l.$data,l);if(e&&e.controlsDescendantBindings){if(c!==pL)throw Error("Multiple bindings ("+c+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=i}}),"function"==typeof n&&O.$(function(){n(r,d(i),f,l.$data,l)},null,{l:r})}catch(e){throw e.message='Unable to process binding "'+i+": "+o[i]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:n=c===pL,bindingContextForDescendants:n&&l}}function l(e,t){return e&&e instanceof O.fa?e:new O.fa(e,pL,pL,t)}var m=O.a.Da("_subscribable"),d=O.a.Da("_ancestorBindingInfo"),g=O.a.Da("_dataDependency");O.c={};var f={script:!0,textarea:!0,template:!0};O.getBindingHandler=function(e){return O.c[e]};var v={};O.fa=function(e,n,i,r,t){function o(){var e=l?c():c,t=O.a.f(e);return n?(O.a.extend(s,n),d in n&&(s[d]=n[d])):(s.$parents=[],s.$root=t,s.ko=O),s[m]=a,u?t=s.$data:(s.$rawData=e,s.$data=t),i&&(s[i]=t),r&&r(s,n,t),n&&n[m]&&!O.S.o().Vb(n[m])&&n[m](),f&&(s[g]=f),s.$data}var a,s=this,u=e===v,c=u?pL:e,l="function"==typeof c&&!O.O(c),f=t&&t.dataDependency;t&&t.exportDependencies?o():((a=O.xb(o)).v(),a.ja()?a.equalityComparer=null:s[m]=pL)},O.fa.prototype.createChildContext=function(t,n,i,e){if(!e&&n&&"object"==typeof n&&(n=(e=n).as,i=e.extend),n&&e&&e.noChildContext){var r="function"==typeof t&&!O.O(t);return new O.fa(v,this,null,function(e){i&&i(e),e[n]=r?t():t},e)}return new O.fa(t,this,n,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},e)},O.fa.prototype.extend=function(t,e){return new O.fa(v,this,null,function(e){O.a.extend(e,"function"==typeof t?t(e):t)},e)};var b=O.a.g.Z();r.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},r.prototype.sd=function(e){O.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},r.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,O.a.K.yb(this.node,i),O.i.ma(this.node,O.i.pa),this.Tc())},O.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,r){var o=O.a.g.Ub(e,b,{});return o.Fa||(o.Fa=new O.T),r&&r.notifyImmediately&&o.Zb[t]&&O.u.G(n,i,[e]),o.Fa.subscribe(n,i,t)},ma:function(e,t){var n=O.a.g.get(e,b);if(n&&(n.Zb[t]=!0,n.Fa&&n.Fa.notifySubscribers(e,t),t==O.i.H))if(n.N)n.N.Cc();else if(n.N===pL&&n.Fa&&n.Fa.Wa(O.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,t){var n=O.a.g.Ub(e,b,{});return n.N||(n.N=new r(e,n,t[d])),t[d]==n?t:t.extend(function(e){e[d]=n})}},O.Td=function(e){return(e=O.a.g.get(e,b))&&e.context},O.ib=function(e,t,n){return 1===e.nodeType&&O.h.Sc(e),c(e,t,l(n))},O.ld=function(e,t,n){return n=l(n),O.ib(e,function(e,t,n){return"function"==typeof e?a(e.bind(null,t,n)):O.a.Ga(e,o)}(t,n,e),n)},O.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||s(l(e),t)},O.vc=function(e,t,n){if(!tL&&qL.jQuery&&(tL=qL.jQuery),arguments.length<2){if(!(t=rL.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");u(l(e,n),t)},O.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?pL:O.Td(e)},O.Ec=function(e){return(e=O.Dc(e))?e.$data:pL},O.b("bindingHandlers",O.c),O.b("bindingEvent",O.i),O.b("bindingEvent.subscribe",O.i.subscribe),O.b("bindingEvent.startPossiblyAsyncContentBinding",O.i.Cb),O.b("applyBindings",O.vc),O.b("applyBindingsToDescendants",O.Oa),O.b("applyBindingAccessorsToNode",O.ib),O.b("applyBindingsToNode",O.ld),O.b("contextFor",O.Dc),O.b("dataFor",O.Ec)}(),function(s){function i(i,e){var r,o=Object.prototype.hasOwnProperty.call(a,i)?a[i]:s;o?o.subscribe(e):((o=a[i]=new O.T).subscribe(e),function(e,n){u("getConfig",[e],function(t){t?u("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}(i,function(e,t){var n=!(!t||!t.synchronous);c[i]={definition:e,Gd:n},delete a[i],r||n?o.notifySubscribers(e):O.na.zb(function(){o.notifySubscribers(e)})}),r=!0)}function u(t,n,i,r){r||(r=O.j.loaders.slice(0));var e=r.shift();if(e){var o=e[t];if(o){var a=!1;if(o.apply(e,n.concat(function(e){a?i(null):null!==e?i(e):u(t,n,i,r)}))!==s&&(a=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else u(t,n,i,r)}else i(null)}var a={},c={};O.j={get:function(e,t){var n=Object.prototype.hasOwnProperty.call(c,e)?c[e]:s;n?n.Gd?O.u.G(function(){t(n.definition)}):O.na.zb(function(){t(n.definition)}):i(e,t)},Bc:function(e){delete c[e]},oc:u},O.j.loaders=[],O.b("components",O.j),O.b("components.get",O.j.get),O.b("components.clearCachedDefinition",O.j.Bc)}(),function(){function r(e){switch(O.a.R(e)){case"script":return O.a.ua(e.text);case"textarea":return O.a.ua(e.value);case"template":if(o(e.content))return O.a.Ca(e.content.childNodes)}return O.a.Ca(e.childNodes)}function o(e){return qL.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function u(e,t,n){"string"==typeof t.require?i||qL.require?(i||qL.require)([t.require],function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),n(e)}):e("Uses require, but no AMD loader is present"):n(t)}function a(t){return function(e){throw Error("Component '"+t+"': "+e)}}var n={};O.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(O.j.tb(e))throw Error("Component "+e+" is already registered");n[e]=t},O.j.tb=function(e){return Object.prototype.hasOwnProperty.call(n,e)},O.j.unregister=function(e){delete n[e],O.j.Bc(e)},O.j.Fc={getConfig:function(e,t){t(O.j.tb(e)?n[e]:null)},loadComponent:function(t,e,n){var i=a(t);u(i,e,function(e){!function(t,e,n,i){function r(){0==--a&&i(o)}var o={},a=2,s=n.template;n=n.viewModel,s?u(e,s,function(e){O.j.oc("loadTemplate",[t,e],function(e){o.template=e,r()})}):r(),n?u(e,n,function(e){O.j.oc("loadViewModel",[t,e],function(e){o[c]=e,r()})}):r()}(t,i,e,n)})},loadTemplate:function(e,t,n){if(e=a(e),"string"==typeof t)n(O.a.ua(t));else if(t instanceof Array)n(t);else if(o(t))n(O.a.la(t.childNodes));else if(t.element)if(t=t.element,qL.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)n(r(t));else if("string"==typeof t){var i=rL.getElementById(t);i?n(r(i)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i(function(e){return new n(e)});else if("function"==typeof n[c])i(n[c]);else if("instance"in n){var r=n.instance;i(function(){return r})}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(a(e),t,n)}};var c="createViewModel";O.b("components.register",O.j.register),O.b("components.isRegistered",O.j.tb),O.b("components.unregister",O.j.unregister),O.b("components.defaultLoader",O.j.Fc),O.j.loaders.push(O.j.Fc),O.j.dd=n}(),function(){O.j.getComponentNameForNode=function(e){var t=O.a.R(e);if(O.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||O.a.W<=8&&e.tagName===t))return t},O.j.tc=function(e,t,n,i){if(1===t.nodeType){var r=O.j.getComponentNameForNode(t);if(r){if((e=e||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:r,params:function(n,e){if(t=n.getAttribute("params")){var t=a.parseBindingsString(t,e,n,{valueAccessors:!0,bindingParams:!0}),i=(t=O.a.Ga(t,function(e){return O.o(e,null,{l:n})}),O.a.Ga(t,function(t){var e=t.v();return t.ja()?O.o({read:function(){return O.a.f(t())},write:O.Za(e)&&function(e){t()(e)},l:n}):e}));return Object.prototype.hasOwnProperty.call(i,"$raw")||(i.$raw=t),i}return{$raw:{}}}(t,n)};e.component=i?function(){return o}:o}}return e};var i,t,a=new O.ga;O.a.W<9&&(O.j.register=(t=O.j.register,function(e){return t.apply(this,arguments)}),rL.createDocumentFragment=(i=rL.createDocumentFragment,function(){var e,t=i(),n=O.j.dd;for(e in n);return t}))}(),k=0,O.c.component={init:function(a,t,e,n,s){function u(){var e=c&&c.dispose;"function"==typeof e&&e.call(c),f&&f.s(),l=c=f=null}var c,l,f,d=O.a.la(O.h.childNodes(a));return O.h.Ea(a),O.a.K.za(a,u),O.o(function(){var n,i,e=O.a.f(t());if("string"==typeof e?n=e:(n=O.a.f(e.name),i=O.a.f(e.params)),!n)throw Error("No component name specified");var r=O.i.Cb(a,s),o=l=++k;O.j.get(n,function(e){if(l===o){if(u(),!e)throw Error("Unknown component '"+n+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=O.a.Ca(t),O.h.va(n,e)}(n,e,a);var t=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,i,{element:a,templateNodes:d});e=r.createChildContext(t,{extend:function(e){e.$component=t,e.$componentTemplateNodes=d}}),t&&t.koDescendantsComplete&&(f=O.i.subscribe(a,O.i.pa,t.koDescendantsComplete,t)),c=t,O.Oa(e,a)}})},null,{l:a}),{controlsDescendantBindings:!0}}},O.h.ea.component=!0;var D={class:"className",for:"htmlFor"};O.c.attr={update:function(r,e){var t=O.a.f(e())||{};O.a.P(t,function(e,t){t=O.a.f(t);var n=e.indexOf(":"),i=(n="lookupNamespaceURI"in r&&0<n&&r.lookupNamespaceURI(e.substr(0,n)),!1===t||null===t||t===pL);i?n?r.removeAttributeNS(n,e):r.removeAttribute(e):t=t.toString(),O.a.W<=8&&e in D?(e=D[e],i?r.removeAttribute(e):r[e]=t):i||(n?r.setAttributeNS(n,e,t):r.setAttribute(e,t)),"name"===e&&O.a.Yc(r,i?"":t)})}},O.c.checked={after:["value","attr"],init:function(o,a,s){function e(){var e=o.checked,t=u();if(!O.S.Ya()&&(e||!l&&!O.S.qa())){var n=O.u.G(a);if(f){var i=d?n.v():n,r=h;r!==(h=t)?e&&(O.a.Na(i,t,!0),O.a.Na(i,r,!1)):O.a.Na(i,t,e),d&&O.Za(n)&&n(i)}else c&&(t===pL?t=e:e||(t=pL)),O.m.eb(n,s,"checked",t,!0)}}var u=O.xb(function(){return s.has("checkedValue")?O.a.f(s.get("checkedValue")):n?s.has("value")?O.a.f(s.get("value")):o.value:void 0}),c="checkbox"==o.type,l="radio"==o.type;if(c||l){var t=a(),f=c&&O.a.f(t)instanceof Array,d=!(f&&t.push&&t.splice),n=l||f,h=f?u():pL;l&&!o.name&&O.c.uniqueName.init(o,function(){return!0}),O.o(e,null,{l:o}),O.a.B(o,"click",e),O.o(function(){var e=O.a.f(a()),t=u();f?(o.checked=0<=O.a.A(e,t),h=t):o.checked=c&&t===pL?!!e:u()===e},null,{l:o}),t=pL}}},O.m.wa.checked=!0,O.c.checkedValue={update:function(e,t){e.value=O.a.f(t())}},O.c.class={update:function(e,t){var n=O.a.Db(O.a.f(t()));O.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,O.a.Eb(e,n,!0)}},O.c.css={update:function(n,e){var t=O.a.f(e());null!==t&&"object"==typeof t?O.a.P(t,function(e,t){t=O.a.f(t),O.a.Eb(n,e,t)}):O.c.class.update(n,e)}},O.c.enable={update:function(e,t){var n=O.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},O.c.disable={update:function(e,t){O.c.enable.update(e,function(){return!O.a.f(t())})}},O.c.event={init:function(e,o,a,s,u){var t=o()||{};O.a.P(t,function(r){"string"==typeof r&&O.a.B(e,r,function(e){var t,n=o()[r];if(n){try{var i=O.a.la(arguments);s=u.$data,i.unshift(s),t=n.apply(s,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===a.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},O.c.foreach={Rc:function(n){return function(){var e=n(),t=O.a.bc(e);return t&&"number"!=typeof t.length?(O.a.f(e),{foreach:t.data,as:t.as,noChildContext:t.noChildContext,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:O.ba.Ma}):{foreach:e,templateEngine:O.ba.Ma}}},init:function(e,t){return O.c.template.init(e,O.c.foreach.Rc(t))},update:function(e,t,n,i,r){return O.c.template.update(e,O.c.foreach.Rc(t),n,i,r)}},O.m.Ra.foreach=!1,O.h.ea.foreach=!0,O.c.hasfocus={init:function(i,r,o){function e(e){i.__ko_hasfocusUpdating=!0;var t=i.ownerDocument;if("activeElement"in t){var n;try{n=t.activeElement}catch(e){n=t.body}e=n===i}t=r(),O.m.eb(t,o,"hasfocus",e,!0),i.__ko_hasfocusLastValue=e,i.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),n=e.bind(null,!1);O.a.B(i,"focus",t),O.a.B(i,"focusin",t),O.a.B(i,"blur",n),O.a.B(i,"focusout",n),i.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!O.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),O.u.G(O.a.Fb,null,[e,n?"focusin":"focusout"]))}},O.m.wa.hasfocus=!0,O.c.hasFocus=O.c.hasfocus,O.m.wa.hasFocus="hasfocus",O.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){O.a.fc(e,t())}},function(){function e(e,h,p){O.c[e]={init:function(r,o,e,t,a){var s,u,c,l,f,d={};if(h){t=e.get("as");var n=e.get("noChildContext");d={as:t,noChildContext:n,exportDependencies:f=!(t&&n)}}return l=(c="render"==e.get("completeOn"))||e.has(O.i.pa),O.o(function(){var e,t=O.a.f(o()),n=!p!=!t,i=!u;(f||n!==s)&&(l&&(a=O.i.Cb(r,a)),n&&(h&&!f||(d.dataDependency=O.S.o()),e=h?a.createChildContext("function"==typeof t?t:o,d):O.S.qa()?a.extend(null,d):a),i&&O.S.qa()&&(u=O.a.Ca(O.h.childNodes(r),!0)),n?(i||O.h.va(r,O.a.Ca(u)),O.Oa(e,r)):(O.h.Ea(r),c||O.i.ma(r,O.i.H)),s=n)},null,{l:r}),{controlsDescendantBindings:!0}}},O.m.Ra[e]=!1,O.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),O.c.let={init:function(e,t,n,i,r){return t=r.extend(t),O.Oa(t,e),{controlsDescendantBindings:!0}}},O.h.ea.let=!0;var T={};O.c.options={init:function(e){if("select"!==O.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(i,e,r){function t(){return O.a.jb(i.options,function(e){return e.selected})}function o(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function n(e,t){if(h&&c)O.i.ma(i,O.i.H);else if(d.length){var n=0<=O.a.A(d,O.w.M(t[0]));O.a.Zc(t[0],n),h&&!n&&O.u.G(O.a.Fb,null,[i,"change"])}}var a=i.multiple,s=0!=i.length&&a?i.scrollTop:null,u=O.a.f(e()),c=r.get("valueAllowUnset")&&r.has("value"),l=r.get("optionsIncludeDestroyed");e={};var f,d=[];c||(a?d=O.a.Mb(t(),O.w.M):0<=i.selectedIndex&&d.push(O.w.M(i.options[i.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),f=O.a.jb(u,function(e){return l||e===pL||null===e||!O.a.f(e._destroy)}),r.has("optionsCaption")&&null!==(u=O.a.f(r.get("optionsCaption")))&&u!==pL&&f.unshift(T));var h=!1;e.beforeRemove=function(e){i.removeChild(e)},u=n,r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(u=function(e,t){n(0,t),O.u.G(r.get("optionsAfterRender"),null,[t[0],e!==T?e:pL])}),O.a.ec(i,f,function(e,t,n){return n.length&&(d=!c&&n[0].selected?[O.w.M(n[0])]:[],h=!0),t=i.ownerDocument.createElement("option"),e===T?(O.a.Bb(t,r.get("optionsCaption")),O.w.cb(t,pL)):(n=o(e,r.get("optionsValue"),e),O.w.cb(t,O.a.f(n)),e=o(e,r.get("optionsText"),n),O.a.Bb(t,e)),[t]},e,u),c||(a?d.length&&t().length<d.length:d.length&&0<=i.selectedIndex?O.w.M(i.options[i.selectedIndex])!==d[0]:d.length||0<=i.selectedIndex)&&O.u.G(O.a.Fb,null,[i,"change"]),(c||O.S.Ya())&&O.i.ma(i,O.i.H),O.a.wd(i),s&&20<Math.abs(s-i.scrollTop)&&(i.scrollTop=s)}},O.c.options.$b=O.a.g.Z(),O.c.selectedOptions={init:function(i,r,n){function e(){var e=r(),t=[];O.a.D(i.getElementsByTagName("option"),function(e){e.selected&&t.push(O.w.M(e))}),O.m.eb(e,n,"selectedOptions",t)}function t(){var n=O.a.f(r()),e=i.scrollTop;n&&"number"==typeof n.length&&O.a.D(i.getElementsByTagName("option"),function(e){var t=0<=O.a.A(n,O.w.M(e));e.selected!=t&&O.a.Zc(e,t)}),i.scrollTop=e}if("select"!=O.a.R(i))throw Error("selectedOptions binding applies only to SELECT elements");var o;O.i.subscribe(i,O.i.H,function(){o?e():(O.a.B(i,"change",e),o=O.o(t,null,{l:i}))},null,{notifyImmediately:!0})},update:function(){}},O.m.wa.selectedOptions=!0,O.c.style={update:function(i,e){var t=O.a.f(e()||{});O.a.P(t,function(e,t){if(null!==(t=O.a.f(t))&&t!==pL&&!1!==t||(t=""),tL)tL(i).css(e,t);else if(/^--/.test(e))i.style.setProperty(e,t);else{e=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var n=i.style[e];(i.style[e]=t)===n||i.style[e]!=n||isNaN(t)||(i.style[e]=t+"px")}})}},O.c.submit={init:function(i,r,e,t,o){if("function"!=typeof r())throw Error("The value for a submit binding must be a function");O.a.B(i,"submit",function(e){var t,n=r();try{t=n.call(o.$data,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},O.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){O.a.Bb(e,t())}},O.h.ea.text=!0,function(){if(qL&&qL.navigator){var f,d,h,p,m,e=function(e){if(e)return parseFloat(e[1])},t=qL.navigator.userAgent;(f=qL.opera&&qL.opera.version&&parseInt(qL.opera.version()))||(m=e(t.match(/Edge\/([^ ]+)$/)))||e(t.match(/Chrome\/([^ ]+)/))||(d=e(t.match(/Version\/([^ ]+) Safari/)))||(h=e(t.match(/Firefox\/([^ ]+)/)))||(p=O.a.W||e(t.match(/MSIE ([^ ]+)/)))||(p=e(t.match(/rv:([^ )]+)/)))}if(8<=p&&p<10)var i=O.a.g.Z(),r=O.a.g.Z(),o=function(e){var t=this.activeElement;(t=t&&O.a.g.get(t,r))&&t(e)},g=function(e,t){var n=e.ownerDocument;O.a.g.get(n,i)||(O.a.g.set(n,i,!0),O.a.B(n,"selectionchange",o)),O.a.g.set(e,r,t)};O.c.textInput={init:function(n,i,t){function e(e,t){O.a.B(n,e,t)}function r(){a||(s=n.value,a=O.a.setTimeout(o,4))}function o(){clearTimeout(a),s=a=pL;var e=n.value;u!==e&&(u=e,O.m.eb(i(),t,"textInput",e))}var a,s,u=n.value,c=9==O.a.W?r:o,l=!1;p&&e("keypress",o),p<11&&e("propertychange",function(e){l||"value"!==e.propertyName||c(e)}),8==p&&(e("keyup",o),e("keydown",o)),g&&(g(n,c),e("dragend",r)),(!p||9<=p)&&e("input",c),d<5&&"textarea"===O.a.R(n)?(e("keydown",r),e("paste",r),e("cut",r)):f<11?e("keydown",r):h<4?(e("DOMAutoComplete",o),e("dragdrop",o),e("drop",o)):m&&"number"===n.type&&e("keydown",r),e("change",o),e("blur",o),O.o(function e(){var t=O.a.f(i());null!==t&&t!==pL||(t=""),s!==pL&&t===s?O.a.setTimeout(e,4):n.value!==t&&(l=!0,n.value=t,l=!1,u=n.value)},null,{l:n})}},O.m.wa.textInput=!0,O.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),O.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++O.c.uniqueName.rd;O.a.Yc(e,n)}}},O.c.uniqueName.rd=0,O.c.using={init:function(e,t,n,i,r){var o;return n.has("as")&&(o={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=r.createChildContext(t,o),O.Oa(t,e),{controlsDescendantBindings:!0}}},O.h.ea.using=!0,O.c.value={init:function(n,i,r){var o=O.a.R(n),e="input"==o;if(!e||"checkbox"!=n.type&&"radio"!=n.type){var t=[],a=r.get("valueUpdate"),s=!1,u=null;a&&(t="string"==typeof a?[a]:O.a.wc(a),O.a.Pa(t,"change"));var c,l,f=function(){u=null,s=!1;var e=i(),t=O.w.M(n);O.m.eb(e,r,"value",t)};!O.a.W||!e||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=O.a.A(t,"propertychange")||(O.a.B(n,"propertychange",function(){s=!0}),O.a.B(n,"focus",function(){s=!1}),O.a.B(n,"blur",function(){s&&f()})),O.a.D(t,function(e){var t=f;O.a.Ud(e,"after")&&(t=function(){u=O.w.M(n),O.a.setTimeout(f,0)},e=e.substring(5)),O.a.B(n,e,t)}),c=e&&"file"==n.type?function(){var e=O.a.f(i());null===e||e===pL||""===e?n.value="":O.u.G(f)}:function(){var e=O.a.f(i()),t=O.w.M(n);null!==u&&e===u?O.a.setTimeout(c,0):e===t&&t!==pL||("select"===o?(t=r.get("valueAllowUnset"),O.w.cb(n,e,t),t||e===O.w.M(n)||O.u.G(f)):O.w.cb(n,e))},"select"===o?O.i.subscribe(n,O.i.H,function(){l?r.get("valueAllowUnset")?c():f():(O.a.B(n,"change",f),l=O.o(c,null,{l:n}))},null,{notifyImmediately:!0}):(O.a.B(n,"change",f),O.o(c,null,{l:n}))}else O.ib(n,{checkedValue:i})},update:function(){}},O.m.wa.value=!0,O.c.visible={update:function(e,t){var n=O.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},O.c.hidden={update:function(e,t){O.c.visible.update(e,function(){return!O.a.f(t())})}},O.c.click={init:function(e,t,n,i,r){return O.c.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,i,r)}},O.ca=function(){},O.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},O.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},O.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||rL).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new O.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new O.C.ia(e);throw Error("Unknown template type: "+e)},O.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},O.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},O.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},O.b("templateEngine",O.ca),O.kc=function(){function a(e,t,n,i){e=O.m.ac(e);for(var r=O.m.Ra,o=0;o<e.length;o++){var a=e[o].key;if(Object.prototype.hasOwnProperty.call(r,a)){var s=r[a];if("function"==typeof s){if(a=s(e[o].value))throw Error(a)}else if(!s)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+O.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return O.kc.Ld(e,t)},n)},Ld:function(e,o){return e.replace(t,function(e,t,n,i,r){return a(r,t,n,o)}).replace(n,function(e,t){return a(t,"\x3c!-- ko --\x3e","#comment",o)})},md:function(i,r){return O.aa.Xb(function(e,t){var n=e.nextSibling;n&&n.nodeName.toLowerCase()===r&&O.ib(n,i,t)})}}}(),O.b("__tr_ambtns",O.kc.md),function(){O.C={},O.C.F=function(e){if(this.F=e){var t=O.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},O.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"==e?O.a.fc(this.F,t):this.F[e]=t};var t=O.a.g.Z()+"_";O.C.F.prototype.data=function(e){if(1===arguments.length)return O.a.g.get(this.F,t+e);O.a.g.set(this.F,t+e,arguments[1])};var r=O.a.g.Z();O.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var t=O.a.g.get(e,r)||{},n=t.lb||(3===this.ab?e.content:4===this.ab?e:pL);if(!n||t.jd){var i=this.text();i&&i!==t.bb&&(n=O.a.Md(i,e.ownerDocument),O.a.g.set(e,r,{lb:n,bb:i,jd:!0}))}return n}t=arguments[0],this.ab!==pL&&this.text(""),O.a.g.set(e,r,{lb:t})},O.C.ia=function(e){this.F=e},O.C.ia.prototype=new O.C.F,O.C.ia.prototype.constructor=O.C.ia,O.C.ia.prototype.text=function(){if(0==arguments.length){var e=O.a.g.get(this.F,r)||{};return e.bb===pL&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}O.a.g.set(this.F,r,{bb:arguments[0]})},O.b("templateSources",O.C),O.b("templateSources.domElement",O.C.F),O.b("templateSources.anonymousTemplate",O.C.ia)}(),function(){function i(e,t,n){var i;for(t=O.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=O.h.nextSibling(i))}function d(e,t){if(e.length){var r=e[0],o=e[e.length-1],n=r.parentNode,a=O.ga.instance,s=a.preprocessNode;if(s){if(i(r,o,function(e,t){var n=e.previousSibling,i=s.call(a,e);i&&(e===r&&(r=i[0]||t),e===o&&(o=i[i.length-1]||n))}),e.length=0,!r)return;r===o?e.push(r):(e.push(r,o),O.a.Ua(e,n))}i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||O.vc(t,e)}),i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||O.aa.cd(e,[t])}),O.a.Ua(e,n)}}function u(e){return e.nodeType?e:0<e.length?e[0]:null}function h(e,t,n,i,r){r=r||{};var o=(e&&u(e)||n||{}).ownerDocument,a=r.templateEngine||c;if(O.kc.xd(n,a,o),"number"!=typeof(n=a.renderTemplate(n,i,r,o)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(o=!1,t){case"replaceChildren":O.h.va(e,n),o=!0;break;case"replaceNode":O.a.Xc(e,n),o=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return o&&(d(n,i),r.afterRender&&O.u.G(r.afterRender,null,[n,i[r.as||"$data"]]),"replaceChildren"==t&&O.i.ma(e,O.i.H)),n}function p(e,t,n){return O.O(e)?e():"function"==typeof e?e(t,n):e}var c;O.gc=function(e){if(e!=pL&&!(e instanceof O.ca))throw Error("templateEngine must inherit from ko.templateEngine");c=e},O.dc=function(n,i,r,o,a){if(((r=r||{}).templateEngine||c)==pL)throw Error("Set a template engine before calling renderTemplate");if(a=a||"replaceChildren",o){var s=u(o);return O.$(function(){var e=i&&i instanceof O.fa?i:new O.fa(i,null,null,null,{exportDependencies:!0}),t=p(n,e.$data,e);e=h(o,a,t,e,r),"replaceNode"==a&&(s=u(o=e))},null,{Sa:function(){return!s||!O.a.Sb(s)},l:s&&"replaceNode"==a?s.parentNode:s})}return O.aa.Xb(function(e){O.dc(n,i,r,e,"replaceNode")})},O.Qd=function(i,t,r,o,a){function n(e,t){O.u.G(O.a.ec,null,[o,e,u,r,s,t]),O.i.ma(o,O.i.H)}function s(e,t){d(t,c),r.afterRender&&r.afterRender(t,e),c=null}function u(e,t){c=a.createChildContext(e,{as:l,noChildContext:r.noChildContext,extend:function(e){e.$index=t,l&&(e[l+"Index"]=t)}});var n=p(i,e,c);return h(o,"ignoreTargetNode",n,c,r)}var c,l=r.as,f=!1===r.includeDestroyed||O.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!O.Pc(t))return O.$(function(){var e=O.a.f(t)||[];void 0===e.length&&(e=[e]),f&&(e=O.a.jb(e,function(e){return e===pL||null===e||!O.a.f(e._destroy)})),n(e)},null,{l:o});n(t.v());var e=t.subscribe(function(e){n(t(),e)},null,"arrayChange");return e.l(o),e};var a=O.a.g.Z(),r=O.a.g.Z();O.c.template={init:function(e,t){var n=O.a.f(t());if("string"==typeof n||"name"in n)O.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],O.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&O.a.g.get(i,r)||(i=O.a.Yb(n),O.a.g.set(i,r,!0)),new O.C.ia(e).nodes(i)}else{if(!(0<(n=O.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=O.a.Yb(n),new O.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,r){var o=t();n=!0,i=null,"string"==typeof(t=O.a.f(o))?t={}:(o="name"in t?t.name:e,"if"in t&&(n=O.a.f(t.if)),n&&"ifnot"in t&&(n=!O.a.f(t.ifnot)),n&&!o&&(n=!1)),"foreach"in t?i=O.Qd(o,n&&t.foreach||[],t,e,r):n?(n=r,"data"in t&&(n=r.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),i=O.dc(o,n,t,e)):O.h.Ea(e),r=i,(t=O.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),O.a.g.set(e,a,!r||r.ja&&!r.ja()?pL:r)}},O.m.Ra.template=function(e){return 1==(e=O.m.ac(e)).length&&e[0].unknown||O.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},O.h.ea.template=!0}(),O.b("setTemplateEngine",O.gc),O.b("renderTemplate",O.dc),O.a.Kc=function(e,t,n){var i,r,o,a,s;if(e.length&&t.length)for(i=r=0;(!n||i<n)&&(a=e[r]);++r){for(o=0;s=t[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(o,1),i=o=0;break}i+=o}},O.a.Pb=function(){function i(e,t,n,i,r){var o,a,s,u,c,l=Math.min,f=Math.max,d=[],h=e.length,p=t.length,m=p-h||1,g=h+p+1;for(o=0;o<=h;o++)for(u=s,d.push(s=[]),c=l(p,o+m),a=f(0,o-1);a<=c;a++)s[a]=a?o?e[o-1]===t[a-1]?u[a-1]:l(u[a]||g,s[a-1]||g)+1:a+1:o+1;for(l=[],f=[],m=[],o=h,a=p;o||a;)p=d[o][a]-1,a&&p===d[o][a-1]?f.push(l[l.length]={status:n,value:t[--a],index:a}):o&&p===d[o-1][a]?m.push(l[l.length]={status:i,value:e[--o],index:o}):(--a,--o,r.sparse||l.push({status:"retained",value:t[a]}));return O.a.Kc(m,f,!r.dontLimitMoves&&10*h),l.reverse()}return function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},t=t||[],(e=e||[]).length<t.length?i(e,t,"added","deleted",n):i(t,e,"deleted","added",n)}}(),O.b("utils.compareArrays",O.a.Pb),function(){function E(t,n,i,r,o){var a=[],e=O.$(function(){var e=n(i,o,O.a.Ua(a,t))||[];0<a.length&&(O.a.Xc(a,e),r&&O.u.G(r,null,[i,e,o])),a.length=0,O.a.Nb(a,e)},null,{l:t,Sa:function(){return!O.a.kd(a)}});return{Y:a,$:e.ja()?e:pL}}var N=O.a.g.Z(),A=O.a.g.Z();O.a.ec=function(t,e,n,i,r,o){function a(e){c={Aa:e,pb:O.ta(v++)},m.push(c),p||x.push(c)}function s(e){c=h[e],v!==c.pb.v()&&w.push(c),c.pb(v++),O.a.Ua(c.Y,t),m.push(c)}function u(t,n){if(t)for(var i=0,e=n.length;i<e;i++)O.a.D(n[i].Y,function(e){t(e,i,n[i].Aa)})}void 0===(e=e||[]).length&&(e=[e]),i=i||{};var c,l,f,d,h=O.a.g.get(t,N),p=!h,m=[],g=0,v=0,b=[],y=[],_=[],w=[],x=[],C=0;if(p)O.a.D(e,a);else{if(!o||h&&h._countWaitingForRemove){var k=O.a.Mb(h,function(e){return e.Aa});o=O.a.Pb(k,e,{dontLimitMoves:i.dontLimitMoves,sparse:!0})}var S,D,T;for(k=0;S=o[k];k++)switch(D=S.moved,T=S.index,S.status){case"deleted":for(;g<T;)s(g++);D===pL&&((c=h[g]).$&&(c.$.s(),c.$=pL),O.a.Ua(c.Y,t).length&&(i.beforeRemove&&(m.push(c),C++,c.Aa===A?c=null:_.push(c)),c&&b.push.apply(b,c.Y))),g++;break;case"added":for(;v<T;)s(g++);D!==pL?(y.push(m.length),s(D)):a(S.value)}for(;v<e.length;)s(g++);m._countWaitingForRemove=C}O.a.g.set(t,N,m),u(i.beforeMove,w),O.a.D(b,i.beforeRemove?O.oa:O.removeNode);try{d=t.ownerDocument.activeElement}catch(e){}if(y.length)for(;(k=y.shift())!=pL;){for(c=m[k],l=pL;k;)if((f=m[--k].Y)&&f.length){l=f[f.length-1];break}for(e=0;g=c.Y[e];l=g,e++)O.h.Wb(t,g,l)}for(k=0;c=m[k];k++){for(c.Y||O.a.extend(c,E(t,n,c.Aa,r,c.pb)),e=0;g=c.Y[e];l=g,e++)O.h.Wb(t,g,l);!c.Ed&&r&&(r(c.Aa,c.Y,c.pb),c.Ed=!0,l=c.Y[c.Y.length-1])}for(d&&t.ownerDocument.activeElement!=d&&d.focus(),u(i.beforeRemove,_),k=0;k<_.length;++k)_[k].Aa=A;u(i.afterMove,w),u(i.afterAdd,x)}}(),O.b("utils.setDomNodeChildrenFromArrayMapping",O.a.ec),O.ba=function(){this.allowTemplateRewriting=!1},O.ba.prototype=new O.ca,O.ba.prototype.constructor=O.ba,O.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=O.a.W<9||!e.nodes?null:e.nodes())?O.a.la(t.cloneNode(!0).childNodes):(e=e.text(),O.a.ua(e,i))},O.ba.Ma=new O.ba,O.gc(O.ba.Ma),O.b("nativeTemplateEngine",O.ba),function(){O.$a=function(){var o=this.Hd=function(){if(!tL||!tL.tmpl)return 0;try{if(0<=tL.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,n,i){if(i=i||rL,n=n||{},o<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=e.data("precompiled");return r||(r=e.text()||"",r=tL.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),e.data("precompiled",r)),e=[t.$data],t=tL.extend({koBindingContext:t},n.templateOptions),(t=tL.tmpl(r,e,t)).appendTo(i.createElement("div")),tL.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){rL.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<o&&(tL.tmpl.tag.ko_code={open:"__.push($1 || '');"},tL.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},O.$a.prototype=new O.ca,O.$a.prototype.constructor=O.$a;var e=new O.$a;0<e.Hd&&O.gc(e),O.b("jqueryTmplTemplateEngine",O.$a)}()},"function"==typeof define&&define.amd?define(["exports","require"],vL):"object"==typeof exports&&"object"==typeof module?vL(module.exports||exports):vL(qL.ko={})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(E){var e,t,n,i;function r(e,t){var n,i,r,o=e.nodeName.toLowerCase();return"area"===o?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=E("img[usemap='#"+i+"']")[0])&&a(r))):(/^(input|select|textarea|button|object)$/.test(o)?!e.disabled:"a"===o&&e.href||t)&&a(e)}function a(e){return E.expr.filters.visible(e)&&!E(e).parents().addBack().filter(function(){return"hidden"===E.css(this,"visibility")}).length}E.ui=E.ui||{},E.extend(E.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),E.fn.extend({scrollParent:function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=E(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:E(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&E(this).removeAttr("id")})}}),E.extend(E.expr[":"],{data:E.expr.createPseudo?E.expr.createPseudo(function(t){return function(e){return!!E.data(e,t)}}):function(e,t,n){return!!E.data(e,n[3])},focusable:function(e){return r(e,!isNaN(E.attr(e,"tabindex")))},tabbable:function(e){var t=E.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&r(e,!n)}}),E("<a>").outerWidth(1).jquery||E.each(["Width","Height"],function(e,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:E.fn.innerWidth,innerHeight:E.fn.innerHeight,outerWidth:E.fn.outerWidth,outerHeight:E.fn.outerHeight};function a(e,t,n,i){return E.each(r,function(){t-=parseFloat(E.css(e,"padding"+this))||0,n&&(t-=parseFloat(E.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(E.css(e,"margin"+this))||0)}),t}E.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){E(this).css(i,a(this,e)+"px")})},E.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){E(this).css(i,a(this,e,!0,t)+"px")})}}),E.fn.addBack||(E.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),E("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(E.fn.removeData=(t=E.fn.removeData,function(e){return arguments.length?t.call(this,E.camelCase(e)):t.call(this)})),E.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),E.fn.extend({focus:(i=E.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){E(e).focus(),n&&n.call(e)},t)}):i.apply(this,arguments)}),disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(n+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n,i=E(this[0]);i.length&&i[0]!==document;){if(("absolute"===(t=i.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0}}),E.ui.plugin={add:function(e,t,n){var i,r=E.ui[e].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var o,s=0,u=Array.prototype.slice;E.cleanData=(o=E.cleanData,function(e){var t,n,i;for(i=0;null!=(n=e[i]);i++)try{(t=E._data(n,"events"))&&t.remove&&E(n).triggerHandler("remove")}catch(e){}o(e)}),E.widget=function(e,n,t){var i,r,o,a,s={},u=e.split(".")[0];return e=e.split(".")[1],i=u+"-"+e,t||(t=n,n=E.Widget),E.expr[":"][i.toLowerCase()]=function(e){return!!E.data(e,i)},E[u]=E[u]||{},r=E[u][e],o=E[u][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},E.extend(o,r,{version:t.version,_proto:E.extend({},t),_childConstructors:[]}),(a=new n).options=E.widget.extend({},a.options),E.each(t,function(t,i){var r,o;E.isFunction(i)?s[t]=(r=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):s[t]=i}),o.prototype=E.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:i}),r?(E.each(r._childConstructors,function(e,t){var n=t.prototype;E.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete r._childConstructors):n._childConstructors.push(o),E.widget.bridge(e,o),o},E.widget.extend=function(e){for(var t,n,i=u.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&void 0!==n&&(E.isPlainObject(n)?e[t]=E.isPlainObject(e[t])?E.widget.extend({},e[t],n):E.widget.extend({},n):e[t]=n);return e},E.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;E.fn[o]=function(n){var e="string"==typeof n,i=u.call(arguments,1),r=this;return e?this.each(function(){var e,t=E.data(this,a);return"instance"===n?(r=t,!1):t?E.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&void 0!==e?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:E.error("no such method '"+n+"' for "+o+" widget instance"):E.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=E.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=E.data(this,a);e?(e.option(n||{}),e._init&&e._init()):E.data(this,a,new t(n,this))})),r}},E.Widget=function(){},E.Widget._childConstructors=[],E.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=E(t||this.defaultElement||this)[0],this.element=E(t),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=E(),this.hoverable=E(),this.focusable=E(),t!==this&&(E.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=E(t.style?t.ownerDocument:t.document||t),this.window=E(this.document[0].defaultView||this.document[0].parentWindow)),this.options=E.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:E.noop,_getCreateEventData:E.noop,_create:E.noop,_init:E.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(E.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:E.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return E.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=E.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,e){var u,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=u=E(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,u=this.widget()),E.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!E(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||E.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?u.delegate(o,r,n):s.bind(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=E(this.bindings.not(e).get()),this.focusable=E(this.focusable.not(e).get()),this.hoverable=E(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){E(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){E(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){E(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){E(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=E.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(E.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},E.each({show:"fadeIn",hide:"fadeOut"},function(o,a){E.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var i,r=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!E.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&E.effects&&E.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){E(this)[o](),n&&n.call(t[0]),e()})}});E.widget;var c=!1;E(document).mouseup(function(){c=!1});E.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===E.data(e.target,t.widgetName+".preventClickEvent"))return E.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&E(e.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===E.data(e.target,this.widgetName+".preventClickEvent")&&E.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(E.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&E.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){E.ui=E.ui||{};var r,x,C=Math.max,k=Math.abs,S=Math.round,i=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,u=/%$/,t=E.fn.position;function D(e,t,n){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?n/100:1)]}function T(e,t){return parseInt(E.css(e,t),10)||0}E.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,t,n=E("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return E("body").append(n),e=i.offsetWidth,n.css("overflow","scroll"),e===(t=i.offsetWidth)&&(t=n[0].clientWidth),n.remove(),r=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?E.position.scrollbarWidth():0,height:i?E.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=E(e||window),n=E.isWindow(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:i,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:n||i?t.width():t.outerWidth(),height:n||i?t.height():t.outerHeight()}}},E.fn.position=function(f){if(!f||!f.of)return t.apply(this,arguments);f=E.extend({},f);var d,h,p,m,g,e,v=E(f.of),b=E.position.getWithinInfo(f.within),y=E.position.getScrollInfo(b),_=(f.collision||"flip").split(" "),w={};return e=function(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:E.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}(v),v[0].preventDefault&&(f.at="left top"),h=e.width,p=e.height,m=e.offset,g=E.extend({},m),E.each(["my","at"],function(){var e,t,n=(f[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",e=a.exec(n[0]),t=a.exec(n[1]),w[this]=[e?e[0]:0,t?t[0]:0],f[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===f.at[0]?g.left+=h:"center"===f.at[0]&&(g.left+=h/2),"bottom"===f.at[1]?g.top+=p:"center"===f.at[1]&&(g.top+=p/2),d=D(w.at,h,p),g.left+=d[0],g.top+=d[1],this.each(function(){var n,e,a=E(this),s=a.outerWidth(),u=a.outerHeight(),t=T(this,"marginLeft"),i=T(this,"marginTop"),r=s+t+T(this,"marginRight")+y.width,o=u+i+T(this,"marginBottom")+y.height,c=E.extend({},g),l=D(w.my,a.outerWidth(),a.outerHeight());"right"===f.my[0]?c.left-=s:"center"===f.my[0]&&(c.left-=s/2),"bottom"===f.my[1]?c.top-=u:"center"===f.my[1]&&(c.top-=u/2),c.left+=l[0],c.top+=l[1],x||(c.left=S(c.left),c.top=S(c.top)),n={marginLeft:t,marginTop:i},E.each(["left","top"],function(e,t){E.ui.position[_[e]]&&E.ui.position[_[e]][t](c,{targetWidth:h,targetHeight:p,elemWidth:s,elemHeight:u,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+l[0],d[1]+l[1]],my:f.my,at:f.at,within:b,elem:a})}),f.using&&(e=function(e){var t=m.left-c.left,n=t+h-s,i=m.top-c.top,r=i+p-u,o={target:{element:v,left:m.left,top:m.top,width:h,height:p},element:{element:a,left:c.left,top:c.top,width:s,height:u},horizontal:n<0?"left":0<t?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};h<s&&k(t+n)<h&&(o.horizontal="center"),p<u&&k(i+r)<p&&(o.vertical="middle"),C(k(t),k(n))>C(k(i),k(r))?o.important="horizontal":o.important="vertical",f.using.call(this,e,o)}),a.offset(E.extend(c,{using:e}))})},E.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,s=r-a,u=a+t.collisionWidth-o-r;t.collisionWidth>o?0<s&&u<=0?(n=e.left+s+t.collisionWidth-o-r,e.left+=s-n):e.left=0<u&&s<=0?r:u<s?r+o-t.collisionWidth:r:0<s?e.left+=s:0<u?e.left-=u:e.left=C(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,s=r-a,u=a+t.collisionHeight-o-r;t.collisionHeight>o?0<s&&u<=0?(n=e.top+s+t.collisionHeight-o-r,e.top+=s-n):e.top=0<u&&s<=0?r:u<s?r+o-t.collisionHeight:r:0<s?e.top+=s:0<u?e.top-=u:e.top=C(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-s,l=u+t.collisionWidth-a-s,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];c<0?((n=e.left+f+d+h+t.collisionWidth-a-o)<0||n<k(c))&&(e.left+=f+d+h):0<l&&(0<(i=e.left-t.collisionPosition.marginLeft+f+d+h-s)||k(i)<l)&&(e.left+=f+d+h)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,s=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-s,l=u+t.collisionHeight-a-s,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];c<0?((i=e.top+f+d+h+t.collisionHeight-a-o)<0||i<k(c))&&(e.top+=f+d+h):0<l&&(0<(n=e.top-t.collisionPosition.marginTop+f+d+h-s)||k(n)<l)&&(e.top+=f+d+h)}},flipfit:{left:function(){E.ui.position.flip.left.apply(this,arguments),E.ui.position.fit.left.apply(this,arguments)},top:function(){E.ui.position.flip.top.apply(this,arguments),E.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,n,i,r,o=document.getElementsByTagName("body")[0],a=document.createElement("div");for(r in e=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&E.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)e.style[r]=n[r];e.appendChild(a),(t=o||document.documentElement).insertBefore(e,t.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=E(a).offset().left,x=10<i&&i<11,e.innerHTML="",t.removeChild(e)}()}();E.ui.position,E.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=E(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():E()}},_createIcons:function(){var e=this.options.icons;e&&(E("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))):this._activate(t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=E.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),r=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:r=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[n-1]}r&&(E(e.target).attr("tabIndex",-1),E(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===E.ui.keyCode.UP&&e.ctrlKey&&E(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=E()):!1===e.active?this._activate(0):this.active.length&&!E.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=E()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=E(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i),n.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(n=i.height(),this.element.siblings(":visible").each(function(){var e=E(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.headers.each(function(){n-=E(this).outerHeight(!0)}),this.headers.next().each(function(){E(this).height(Math.max(0,n-E(this).innerHeight()+E(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.headers.next().each(function(){n=Math.max(n,E(this).css("height","").height())}).height(n))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:E.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):E()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&E.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,n=this.active,i=E(e.currentTarget),r=i[0]===n[0],o=r&&t.collapsible,a=o?E():i.next(),s=n.next(),u={oldHeader:n,oldPanel:s,newHeader:o?E():i,newPanel:a};e.preventDefault(),r&&!t.collapsible||!1===this._trigger("beforeActivate",e,u)||(t.active=!o&&this.headers.index(i),this.active=r?E():i,this._toggle(u),n.removeClass("ui-accordion-header-active ui-state-active"),t.icons&&n.children(".ui-accordion-header-icon").removeClass(t.icons.activeHeader).addClass(t.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),t.icons&&i.children(".ui-accordion-header-icon").removeClass(t.icons.header).addClass(t.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=n,this.options.animate?this._animate(t,n,e):(n.hide(),t.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(E(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){var i,r,o,a=this,s=0,u=e.css("box-sizing"),c=e.length&&(!n.length||e.index()<n.index()),l=this.options.animate||{},f=c&&l.down||l,d=function(){a._toggleComplete(t)};return"number"==typeof f&&(o=f),"string"==typeof f&&(r=f),r=r||f.easing||l.easing,o=o||f.duration||l.duration,n.length?e.length?(i=e.show().outerHeight(),n.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===u&&(s+=t.now):"content"!==a.options.heightStyle&&(t.now=Math.round(i-n.outerHeight()-s),s=0)}})):n.animate(this.hideProps,o,r,d):e.animate(this.showProps,o,r,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),E.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=E(e.target);!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&E(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var t=E(e.currentTarget);t.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(e){this._delay(function(){E.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=E(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var t,n,i,r,o=!0;switch(e.keyCode){case E.ui.keyCode.PAGE_UP:this.previousPage(e);break;case E.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case E.ui.keyCode.HOME:this._move("first","first",e);break;case E.ui.keyCode.END:this._move("last","last",e);break;case E.ui.keyCode.UP:this.previous(e);break;case E.ui.keyCode.DOWN:this.next(e);break;case E.ui.keyCode.LEFT:this.collapse(e);break;case E.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case E.ui.keyCode.ENTER:case E.ui.keyCode.SPACE:this._activate(e);break;case E.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",i=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,t=this._filterMenuItems(i),(t=r&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var e,t=this,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=E(this),t=e.parent(),n=E("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),(e=n.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=E(this);t._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!E.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i,r,o,a;this._hasScroll()&&(t=parseFloat(E.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(E.css(this.activeMenu[0],"paddingTop"))||0,i=e.offset().top-this.activeMenu.offset().top-t-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+a&&this.activeMenu.scrollTop(r+i-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=E.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:E(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!E(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=E(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=E(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||E(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(E.trim(E(this).text()))})}});E.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,o="input"===e;this.isMultiLine=t||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var t=E.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!i){var t=E.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=E("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];E(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===n||E.contains(n,e.target)||t.close()})})},menufocus:function(e,t){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){E(e.target).trigger(e.originalEvent)});i=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(n=t.item.attr("aria-label")||i.value)&&E.trim(n).length&&(this.liveRegion.children().hide(),E("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=E("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?E(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var n,i,r=this;E.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(E.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){r.xhr&&r.xhr.abort(),r.xhr=E.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;e&&(!e||t||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return E.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:E.map(e,function(e){return"string"==typeof e?{label:e,value:e}:E.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(E.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;E.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return E("<li>").text(t.label).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),E.extend(E.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(E.ui.autocomplete.escapeRegex(t),"i");return E.grep(e,function(e){return n.test(e.label||e.value||e)})}}),E.widget("ui.autocomplete",E.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),E("<div>").text(t).appendTo(this.liveRegion))}});E.ui.autocomplete;var l,f="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=E(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},p=function(e){var t=e.name,n=e.form,i=E([]);return t&&(t=t.replace(/'/g,"\\'"),i=n?E(n).find("[name='"+t+"'][type=radio]"):E("[name='"+t+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),i};E.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,e="checkbox"===this.type||"radio"===this.type,i=e?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===l&&E(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||E(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),e&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;E(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];p(e).not(e).map(function(){return E(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;E(this).addClass("ui-state-active"),l=this,t.document.one("mouseup",function(){l=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;E(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==E.ui.keyCode.SPACE&&e.keyCode!==E.ui.keyCode.ENTER||E(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){E(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===E.ui.keyCode.SPACE&&E(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?p(this.element[0]).each(function(){E(this).is(":checked")?E(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):E(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(d),t=E("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",E.trim(t)))):r.push("ui-button-text-only"),e.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),E.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction"),t=this.element.find(this.options.items),n=t.filter(":ui-button");t.not(":ui-button").button(),n.button("refresh"),this.buttons=t.map(function(){return E(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return E(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var m;E.ui.button;function g(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},E.extend(this._defaults,this.regional[""]),this.regional.en=E.extend(!0,{},this.regional[""]),this.regional["en-US"]=E.extend(!0,{},this.regional.en),this.dpDiv=v(E("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){E(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&E(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&E(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",b)}function b(){E.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(E(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),E(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&E(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&E(this).addClass("ui-datepicker-next-hover"))}function y(e,t){for(var n in E.extend(e,t),t)null==t[n]&&(e[n]=t[n]);return e}E.extend(E.ui,{datepicker:{version:"1.11.4"}}),E.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return y(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,i,r;i="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(E(e),i)).settings=E.extend({},t||{}),"input"===n?this._connectDatepicker(e,r):i&&this._inlineDatepicker(e,r)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?v(E("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=E(e);t.append=E([]),t.trigger=E([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),E.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n,i,r,o=this._get(t,"appendText"),a=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=E("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(n=this._get(t,"showOn"))&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=E(this._get(t,"buttonImageOnly")?E("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):E("<button type='button'></button>").addClass(this._triggerClass).html(r?E("<img/>").attr({src:r,alt:i,title:i}):i)),e[a?"before":"after"](t.trigger),t.trigger.click(function(){return E.datepicker._datepickerShowing&&E.datepicker._lastInput===e[0]?E.datepicker._hideDatepicker():(E.datepicker._datepickerShowing&&E.datepicker._lastInput!==e[0]&&E.datepicker._hideDatepicker(),E.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(r=i=n=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var n=E(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv),E.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,r){var o,a,s,u,c,l=this._dialogInst;return l||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=E("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),E("body").append(this._dialogInput),(l=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},E.data(this._dialogInput[0],"datepicker",l)),y(l.settings,i||{}),t=t&&t.constructor===Date?this._formatDate(l,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+u,s/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),l.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),E.blockUI&&E.blockUI(this.dpDiv),E.data(this._dialogInput[0],"datepicker",l),this},_destroyDatepicker:function(e){var t,n=E(e),i=E.data(e,"datepicker");n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),E.removeData(e,"datepicker"),"input"===t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||n.removeClass(this.markerClassName).empty(),m===i&&(m=null))},_enableDatepicker:function(t){var e,n,i=E(t),r=E.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=E.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,n,i=E(t),r=E.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=E.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return E.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,r,o,a,s=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?E.extend({},E.datepicker._defaults):s?"all"===t?E.extend({},s.settings):this._get(s,t):null;i=t||{},"string"==typeof t&&((i={})[t]=n),s&&(this._curInst===s&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),y(s.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(s.settings.minDate=this._formatDate(s,o)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(E(e),s),this._autoSize(s),this._setDate(s,r),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t,n,i,r=E.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,E.datepicker._datepickerShowing)switch(e.keyCode){case 9:E.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=E("td."+E.datepicker._dayOverClass+":not(."+E.datepicker._currentClass+")",r.dpDiv))[0]&&E.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,i[0]),(t=E.datepicker._get(r,"onSelect"))?(n=E.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[n,r])):E.datepicker._hideDatepicker(),!1;case 27:E.datepicker._hideDatepicker();break;case 33:E.datepicker._adjustDate(e.target,e.ctrlKey?-E.datepicker._get(r,"stepBigMonths"):-E.datepicker._get(r,"stepMonths"),"M");break;case 34:E.datepicker._adjustDate(e.target,e.ctrlKey?+E.datepicker._get(r,"stepBigMonths"):+E.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&E.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&E.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&E.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&E.datepicker._adjustDate(e.target,e.ctrlKey?-E.datepicker._get(r,"stepBigMonths"):-E.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&E.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&E.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&E.datepicker._adjustDate(e.target,e.ctrlKey?+E.datepicker._get(r,"stepBigMonths"):+E.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&E.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?E.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n,i=E.datepicker._getInst(e.target);if(E.datepicker._get(i,"constrainInput"))return t=E.datepicker._possibleChars(E.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!t||-1<t.indexOf(n)},_doKeyUp:function(e){var t=E.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{E.datepicker.parseDate(E.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,E.datepicker._getFormatConfig(t))&&(E.datepicker._setDateFromField(t),E.datepicker._updateAlternate(t),E.datepicker._updateDatepicker(t))}catch(e){}return!0},_showDatepicker:function(e){var t,n,i,r,o,a,s;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=E("input",e.parentNode)[0]),E.datepicker._isDisabledDatepicker(e)||E.datepicker._lastInput===e)||(t=E.datepicker._getInst(e),E.datepicker._curInst&&E.datepicker._curInst!==t&&(E.datepicker._curInst.dpDiv.stop(!0,!0),t&&E.datepicker._datepickerShowing&&E.datepicker._hideDatepicker(E.datepicker._curInst.input[0])),!1!==(i=(n=E.datepicker._get(t,"beforeShow"))?n.apply(e,[e,t]):{})&&(y(t.settings,i),t.lastVal=null,E.datepicker._lastInput=e,E.datepicker._setDateFromField(t),E.datepicker._inDialog&&(e.value=""),E.datepicker._pos||(E.datepicker._pos=E.datepicker._findPos(e),E.datepicker._pos[1]+=e.offsetHeight),r=!1,E(e).parents().each(function(){return!(r|="fixed"===E(this).css("position"))}),o={left:E.datepicker._pos[0],top:E.datepicker._pos[1]},E.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),E.datepicker._updateDatepicker(t),o=E.datepicker._checkOffset(t,o,r),t.dpDiv.css({position:E.datepicker._inDialog&&E.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(a=E.datepicker._get(t,"showAnim"),s=E.datepicker._get(t,"duration"),t.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(E(e))+1),E.datepicker._datepickerShowing=!0,E.effects&&E.effects.effect[a]?t.dpDiv.show(a,E.datepicker._get(t,"showOptions"),s):t.dpDiv[a||"show"](a?s:null),E.datepicker._shouldFocusInput(t)&&t.input.focus(),E.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(m=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&b.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===E.datepicker._curInst&&E.datepicker._datepickerShowing&&E.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:E(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:E(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-o:0,t.left-=n&&t.left===e.input.offset().left?E(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+a?E(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&i<s?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+r>u&&r<u?Math.abs(r+a):0),t},_findPos:function(e){for(var t,n=this._getInst(e),i=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||E.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return[(t=E(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,n,i,r,o=this._curInst;!o||e&&o!==E.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){E.datepicker._tidyDialog(o)},E.effects&&(E.effects.effect[t]||E.effects[t])?o.dpDiv.hide(t,E.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?n:null,i),t||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),E.blockUI&&(E.unblockUI(),E("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(E.datepicker._curInst){var t=E(e.target),n=E.datepicker._getInst(t[0]);(t[0].id===E.datepicker._mainDivId||0!==t.parents("#"+E.datepicker._mainDivId).length||t.hasClass(E.datepicker.markerClassName)||t.closest("."+E.datepicker._triggerClass).length||!E.datepicker._datepickerShowing||E.datepicker._inDialog&&E.blockUI)&&(!t.hasClass(E.datepicker.markerClassName)||E.datepicker._curInst===n)||E.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=E(e),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,t+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var t,n=E(e),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(e,t,n){var i=E(e),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(e,t,n,i){var r,o=E(e);E(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=E("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=E(e);this._selectDate(t,"")},_selectDate:function(e,t){var n,i=E(e),r=this._getInst(i[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,n,i,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),i=this.formatDate(t,n,this._getFormatConfig(e)),E(r).each(function(){E(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,o,e){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var i,t,r,a,s=0,u=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),l=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,f=(e?e.dayNames:null)||this._defaults.dayNames,d=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,h=(e?e.monthNames:null)||this._defaults.monthNames,p=-1,m=-1,g=-1,v=-1,b=!1,y=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t},_=function(e){var t=y(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?n:1)+","+n+"}"),r=o.substring(s).match(i);if(!r)throw"Missing number at position "+s;return s+=r[0].length,parseInt(r[0],10)},w=function(e,t,n){var i=-1,r=E.map(y(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(E.each(r,function(e,t){var n=t[1];if(o.substr(s,n.length).toLowerCase()===n.toLowerCase())return i=t[0],s+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+s},x=function(){if(o.charAt(s)!==n.charAt(i))throw"Unexpected literal at position "+s;s++};for(i=0;i<n.length;i++)if(b)"'"!==n.charAt(i)||y("'")?x():b=!1;else switch(n.charAt(i)){case"d":g=_("d");break;case"D":w("D",l,f);break;case"o":v=_("o");break;case"m":m=_("m");break;case"M":m=w("M",d,h);break;case"y":p=_("y");break;case"@":p=(a=new Date(_("@"))).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"!":p=(a=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(s<o.length&&(r=o.substr(s),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=c?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(t=this._getDaysInMonth(p,m-1)))break;m++,g-=t}if((a=this._daylightSavingAdjust(new Date(p,m-1,g))).getFullYear()!==p||a.getMonth()+1!==m||a.getDate()!==g)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,e,t){if(!e)return"";var i,r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,a=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,s=(t?t.monthNames:null)||this._defaults.monthNames,u=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t},c=function(e,t,n){var i=""+t;if(u(e))for(;i.length<n;)i="0"+i;return i},l=function(e,t,n,i){return u(e)?i[t]:n[t]},f="",d=!1;if(e)for(i=0;i<n.length;i++)if(d)"'"!==n.charAt(i)||u("'")?f+=n.charAt(i):d=!1;else switch(n.charAt(i)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=l("D",e.getDay(),r,o);break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=l("M",e.getMonth(),a,s);break;case"y":f+=u("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?f+="'":d=!0;break;default:f+=n.charAt(i)}return f},_possibleChars:function(n){var i,e="",t=!1,r=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t};for(i=0;i<n.length;i++)if(t)"'"!==n.charAt(i)||r("'")?e+=n.charAt(i):t=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":r("'")?e+="'":t=!0;break;default:e+=n.charAt(i)}return e},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(s,e,t){var n,i,r=null==e||""===e?t:"string"==typeof e?function(e){try{return E.datepicker.parseDate(E.datepicker._get(s,"dateFormat"),e,E.datepicker._getFormatConfig(s))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?E.datepicker._getDate(s):null)||new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(e);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),r=Math.min(r,E.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),r=Math.min(r,E.datepicker._getDaysInMonth(n,i))}a=o.exec(e)}return new Date(n,i,r)}(e):"number"==typeof e?isNaN(e)?t:(n=e,(i=new Date).setDate(i.getDate()+n),i):new Date(e.getTime());return(r=r&&"Invalid Date"===r.toString()?t:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){E.datepicker._adjustDate(n,-t,"M")},next:function(){E.datepicker._adjustDate(n,+t,"M")},hide:function(){E.datepicker._hideDatepicker()},today:function(){E.datepicker._gotoToday(n)},selectDay:function(){return E.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return E.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return E.datepicker._selectMonthYear(n,this,"Y"),!1}};E(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,D,T,E,N,A,O,P,I,R,L,M,B,j,F,H=new Date,z=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),q=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),$=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),Q=this._get(e,"stepMonths"),K=1!==$[0]||1!==$[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-$[0]*$[1]+1,J.getDate())),t=G&&t<G?G:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-Q,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+Q,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?X:z,a=V?this.formatDate(a,s,this._getFormatConfig(e)):a,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?u:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(q?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,f=this._get(e,"showWeek"),d=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",x=0;x<$[0];x++){for(C="",this.maxRows=4,k=0;k<$[1];k++){if(S=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),D=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",1<$[1])switch(k){case 0:T+=" ui-datepicker-group-first",D=" ui-corner-"+(q?"right":"left");break;case $[1]-1:T+=" ui-datepicker-group-last",D=" ui-corner-"+(q?"left":"right");break;default:T+=" ui-datepicker-group-middle",D=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===x?q?o:i:"")+(/all|right/.test(D)&&0===x?q?i:o:"")+this._generateMonthYearHeader(e,Z,ee,G,J,0<x||0<k,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)E+="<th scope='col'"+(5<=(w+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[N=(w+l)%7]+"'>"+h[N]+"</span></th>";for(T+=E+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),O=(this._getFirstDayOfMonth(ee,Z)-l+7)%7,P=Math.ceil((O+A)/7),I=K&&this.maxRows>P?this.maxRows:P,this.maxRows=I,R=this._daylightSavingAdjust(new Date(ee,Z,1-O)),L=0;L<I;L++){for(T+="<tr>",M=f?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(R)+"</td>":"",w=0;w<7;w++)B=g?g.apply(e.input?e.input[0]:null,[R]):[!0,""],F=(j=R.getMonth()!==Z)&&!b||!B[0]||G&&R<G||J&&J<R,M+="<td class='"+(5<=(w+l+6)%7?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(R.getTime()===S.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===R.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+B[1]+(R.getTime()===X.getTime()?" "+this._currentClass:"")+(R.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===z.getTime()?" ui-state-highlight":"")+(R.getTime()===X.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);T+=M+"</tr>"}11<++Z&&(Z=0,ee++),C+=T+="</tbody></table>"+(K?"</div>"+(0<$[0]&&k===$[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=C}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var u,c,l,f,d,h,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(u=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;l<12;l++)(!u||l>=i.getMonth())&&(!c||l<=r.getMonth())&&(_+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+s[l]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=(h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(f[0]),m=Math.max(p,h(f[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&i<r?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,u=this._get(e,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),E.fn.datepicker=function(e){if(!this.length)return this;E.datepicker.initialized||(E(document).mousedown(E.datepicker._checkExternalClick),E.datepicker.initialized=!0),0===E("#"+E.datepicker._mainDivId).length&&E("body").append(E.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?E.datepicker["_"+e+"Datepicker"].apply(E.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?E.datepicker["_"+e+"Datepicker"].apply(E.datepicker,[this].concat(t)):E.datepicker._attachDatepicker(this,e)}):E.datepicker["_"+e+"Datepicker"].apply(E.datepicker,[this[0]].concat(t))},E.datepicker=new g,E.datepicker.initialized=!1,E.datepicker.uuid=(new Date).getTime(),E.datepicker.version="1.11.4";E.datepicker;E.widget("ui.draggable",E.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return this._blurActiveElement(e),!(this.helper||t.disabled||0<E(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=E(this);return E("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=this.document[0];if(this.handleElement.is(e.target))try{t.activeElement&&"body"!==t.activeElement.nodeName.toLowerCase()&&E(t.activeElement).blur()}catch(e){}},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),E.ui.ddmanager&&(E.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===E(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),E.ui.ddmanager&&!t.dropBehaviour&&E.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),E.ui.ddmanager&&E.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",E.ui.ddmanager&&E.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return E.ui.ddmanager&&!this.options.dropBehaviour&&(n=E.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||E.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?E(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),E.ui.ddmanager&&E.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),E.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!E(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=E.isFunction(t.helper),i=n?E(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),E.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&E.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,r=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=E(i.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,E(r).width()-this.helperProportions.width-this.margins.left,(E(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[E(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,E(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,E(window).scrollLeft()+E(window).width()-this.helperProportions.width-this.margins.left,E(window).scrollTop()+(E(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,t,n){return n=n||this._uiHash(),E.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),E.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),E.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=E.extend({},e,{item:n.element});n.sortables=[],E(n.options.connectToSortable).each(function(){var e=E(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=E.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,E.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,r){E.each(r.sortables,function(){var e=!1,t=this;t.positionAbs=r.positionAbs,t.helperProportions=r.helperProportions,t.offset.click=r.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,E.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&E.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,r._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=r.offset.click.top,t.offset.click.left=r.offset.click.left,t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top,r._trigger("toSortable",n),r.dropped=t.element,E.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,t.fromOutside=r),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,E.each(r.sortables,function(){this.refreshPositions()}))})}}),E.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=E("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(e,t,n){var i=n.options;i._cursor&&E("body").css("cursor",i._cursor)}}),E.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var i=E(t.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,t,n){var i=n.options;i._opacity&&E(t.helper).css("opacity",i._opacity)}}),E.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-E(a).scrollTop()<i.scrollSensitivity?r=E(a).scrollTop(E(a).scrollTop()-i.scrollSpeed):E(window).height()-(e.pageY-E(a).scrollTop())<i.scrollSensitivity&&(r=E(a).scrollTop(E(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-E(a).scrollLeft()<i.scrollSensitivity?r=E(a).scrollLeft(E(a).scrollLeft()-i.scrollSpeed):E(window).width()-(e.pageX-E(a).scrollLeft())<i.scrollSensitivity&&(r=E(a).scrollLeft(E(a).scrollLeft()+i.scrollSpeed)))),!1!==r&&E.ui.ddmanager&&!i.dropBehaviour&&E.ui.ddmanager.prepareOffsets(n,e)}}),E.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],E(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=E(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){var i,r,o,a,s,u,c,l,f,d,h=n.options,p=h.snapTolerance,m=t.offset.left,g=m+n.helperProportions.width,v=t.offset.top,b=v+n.helperProportions.height;for(f=n.snapElements.length-1;0<=f;f--)u=(s=n.snapElements[f].left-n.margins.left)+n.snapElements[f].width,l=(c=n.snapElements[f].top-n.margins.top)+n.snapElements[f].height,g<s-p||u+p<m||b<c-p||l+p<v||!E.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)?(n.snapElements[f].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,E.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(c-b)<=p,r=Math.abs(l-v)<=p,o=Math.abs(s-g)<=p,a=Math.abs(u-m)<=p,i&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:l,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),d=i||r||o||a,"outer"!==h.snapMode&&(i=Math.abs(c-v)<=p,r=Math.abs(l-b)<=p,o=Math.abs(s-m)<=p,a=Math.abs(u-g)<=p,i&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:l-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[f].snapping&&(i||r||o||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,E.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=i||r||o||a||d)}}),E.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,r=n.options,o=E.makeArray(E(r.stack)).sort(function(e,t){return(parseInt(E(e).css("zIndex"),10)||0)-(parseInt(E(t).css("zIndex"),10)||0)});o.length&&(i=parseInt(E(o[0]).css("zIndex"),10)||0,E(o).each(function(e){E(this).css("zIndex",i+e)}),this.css("zIndex",i+o.length))}}),E.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var i=E(t.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,t,n){var i=n.options;i._zIndex&&E(t.helper).css("zIndex",i._zIndex)}});E.ui.draggable;E.widget("ui.resizable",E.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){if("hidden"===E(e).css("overflow"))return!1;var n,i=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)},_create:function(){var e,t,n,i,o=this,r=this.options;if(this.element.addClass("ui-resizable"),E.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(E("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(E(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=E(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)n=E.trim(e[t]),(i=E("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:r.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(e){var t,n,i,r;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=E(this.handles[t]),this._on(this.handles[t],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=E(this.handles[t],this.element),r=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),r.autoHide&&(this._handles.hide(),E(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(E(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(E(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){E(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)((n=E(this.handles[t])[0])===e.target||E.contains(n,e.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(t+=E(r.containment).scrollLeft()||0,n+=E(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=E(".ui-resizable-"+this.axis).css("cursor"),E("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,n,i=this.originalMousePosition,r=this.axis,o=e.pageX-i.left||0,a=e.pageY-i.top||0,s=this._change[r];return this._updatePrevProperties(),s&&(t=s.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),E.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,r,o,a,s,u=this.options,c=this;return this._helper&&(i=(n=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,s=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(E.extend(o,{top:s,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),E("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),a&&l&&(e.top=u-t.minHeight),r&&l&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||E("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return E.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return E.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return E.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return E.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){E.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),E.ui.plugin.add("resizable","animate",{stop:function(t){var n=E(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-o},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(E.extend(s,c&&u?{top:c,left:u}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&E(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),E.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,r,o,a,s=E(this).resizable("instance"),u=s.options,c=s.element,l=u.containment,f=l instanceof E?l.get(0):/parent/.test(l)?c.parent().get(0):l;f&&(s.containerElement=E(f),/document/.test(l)||l===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:E(document),left:0,top:0,width:E(document).width(),height:E(document).height()||document.body.parentNode.scrollHeight}):(n=E(f),i=[],E(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=s._num(n.css("padding"+t))}),s.containerOffset=n.offset(),s.containerPosition=n.position(),s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},e=s.containerOffset,t=s.containerSize.height,r=s.containerSize.width,o=s._hasScroll(f,"left")?f.scrollWidth:r,a=s._hasScroll(f)?f.scrollHeight:t,s.parentData={element:f,left:e.left,top:e.top,width:o,height:a}))},resize:function(e){var t,n,i,r,o=E(this).resizable("instance"),a=o.options,s=o.containerOffset,u=o.position,c=o._aspectRatio||e.shiftKey,l={top:0,left:0},f=o.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(l=s),u.left<(o._helper?s.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-s.left:o.position.left-l.left),c&&(o.size.height=o.size.width/o.aspectRatio,d=!1),o.position.left=a.helper?s.left:0),u.top<(o._helper?s.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-s.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,d=!1),o.position.top=o._helper?s.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),t=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-l.left:o.offset.left-s.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-l.top:o.offset.top-s.top)),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,c&&(o.size.height=o.size.width/o.aspectRatio,d=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,d=!1)),d||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=E(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,r=e.containerElement,o=E(e.helper),a=o.offset(),s=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(r.css("position"))&&E(this).css({left:a.left-i.left-n.left,width:s,height:u}),e._helper&&!t.animate&&/static/.test(r.css("position"))&&E(this).css({left:a.left-i.left-n.left,width:s,height:u})}}),E.ui.plugin.add("resizable","alsoResize",{start:function(){var e=E(this).resizable("instance").options;E(e.alsoResize).each(function(){var e=E(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,n){var t=E(this).resizable("instance"),i=t.options,r=t.originalSize,o=t.originalPosition,a={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};E(i.alsoResize).each(function(){var e=E(this),i=E(this).data("ui-resizable-alsoresize"),r={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];E.each(t,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&0<=n&&(r[t]=n||null)}),e.css(r)})},stop:function(){E(this).removeData("resizable-alsoresize")}}),E.ui.plugin.add("resizable","ghost",{start:function(){var e=E(this).resizable("instance"),t=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=E(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=E(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),E.ui.plugin.add("resizable","grid",{resize:function(){var e,t=E(this).resizable("instance"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,a=t.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=s[0]||1,c=s[1]||1,l=Math.round((i.width-r.width)/u)*u,f=Math.round((i.height-r.height)/c)*c,d=r.width+l,h=r.height+f,p=n.maxWidth&&n.maxWidth<d,m=n.maxHeight&&n.maxHeight<h,g=n.minWidth&&n.minWidth>d,v=n.minHeight&&n.minHeight>h;n.grid=s,g&&(d+=u),v&&(h+=c),p&&(d-=u),m&&(h-=c),/^(se|s|e)$/.test(a)?(t.size.width=d,t.size.height=h):/^(ne)$/.test(a)?(t.size.width=d,t.size.height=h,t.position.top=o.top-f):/^(sw)$/.test(a)?(t.size.width=d,t.size.height=h,t.position.left=o.left-l):((h-c<=0||d-u<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<h-c?(t.size.height=h,t.position.top=o.top-f):(h=c-e.height,t.size.height=h,t.position.top=o.top+r.height-h),0<d-u?(t.size.width=d,t.position.left=o.left-l):(d=u-e.width,t.size.width=d,t.position.left=o.left+r.width-d))}});E.ui.resizable,E.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=E(this).css(e).offset().top;t<0&&E(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&E.fn.draggable&&this._makeDraggable(),this.options.resizable&&E.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?E(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:E.noop,enable:E.noop,close:function(e){var t,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(t=this.document[0].activeElement)&&"body"!==t.nodeName.toLowerCase()&&E(t).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+E(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=E(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(e){function t(){var e=this.document[0].activeElement;this.uiDialog[0]===e||E.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=E("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===E.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===E.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),i=t.filter(":last");e.target!==i[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){i.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=E("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){E(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=E("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=E("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=E("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=E("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var r=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),E.isEmptyObject(e)||E.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(E.each(e,function(e,t){var n,i;t=E.isFunction(t)?{click:t,text:e}:t,t=E.extend({type:"button"},t),n=t.click,t.click=function(){n.apply(r.element[0],arguments)},i={icons:t.icons,text:t.showText},delete t.icons,delete t.showText,E("<button></button>",t).button(i).appendTo(r.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var r=this,o=this.options;function a(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){E(this).addClass("ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",e,a(t))},drag:function(e,t){r._trigger("drag",e,a(t))},stop:function(e,t){var n=t.offset.left-r.document.scrollLeft(),i=t.offset.top-r.document.scrollTop();o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},E(this).removeClass("ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",e,a(t))}})},_makeResizable:function(){var o=this,a=this.options,e=a.resizable,t=this.uiDialog.css("position"),n="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,t){E(this).addClass("ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",e,s(t))},resize:function(e,t){o._trigger("resize",e,s(t))},stop:function(e,t){var n=o.uiDialog.offset(),i=n.left-o.document.scrollLeft(),r=n.top-o.document.scrollTop();a.height=o.uiDialog.height(),a.width=o.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:o.window},E(this).removeClass("ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=E(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=E.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};E.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=E(this);return E("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!E(e.target).closest(".ui-dialog").length||!!E(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=E("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});E.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=E.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){E.ui.ddmanager.droppables[e]=E.ui.ddmanager.droppables[e]||[],E.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=E.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){if("accept"===e)this.accept=E.isFunction(t)?t:function(e){return e.is(t)};else if("scope"===e){var n=E.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(t)}this._super(e,t)},_activate:function(e){var t=E.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=E.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=E.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=E.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||E.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=E(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&E.ui.intersect(n,E.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),E.ui.intersect=function(){function d(e,t,n){return t<=e&&e<t+n}return function(e,t,n,i){if(!t.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,s=o+e.helperProportions.height,u=t.offset.left,c=t.offset.top,l=u+t.proportions().width,f=c+t.proportions().height;switch(n){case"fit":return u<=r&&a<=l&&c<=o&&s<=f;case"intersect":return u<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<l&&c<o+e.helperProportions.height/2&&s-e.helperProportions.height/2<f;case"pointer":return d(i.pageY,c,t.proportions().height)&&d(i.pageX,u,t.proportions().width);case"touch":return(c<=o&&o<=f||c<=s&&s<=f||o<c&&f<s)&&(u<=r&&r<=l||u<=a&&a<=l||r<u&&l<a);default:return!1}}}(),E.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=E.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(i=0;i<a.length;i++)if(a[i]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return E.each((E.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&E.ui.intersect(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||E.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,a){o.options.refreshPositions&&E.ui.ddmanager.prepareOffsets(o,a),E.each(E.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,n,i=E.ui.intersect(o,this,this.options.tolerance,a),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;r&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return E(this).droppable("instance").options.scope===t})).length&&((e=E(n[0]).droppable("instance")).greedyChild="isover"===r)),e&&"isover"===r&&(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,a),e&&"isout"===r&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))}})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||E.ui.ddmanager.prepareOffsets(e,t)}};E.ui.droppable;var _,w="ui-effects-",x=E;E.effects={effect:{}},function(l,f){var c,d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=l.Color=function(e,t,n,i){return new l.Color.fn.parse(e,t,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=h.support={},t=l("<p>")[0],g=l.each;function v(e,t,n){var i=m[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function s(a){var s=h(),u=s._rgba=[];return a=a.toLowerCase(),g(e,function(e,t){var n,i=t.re.exec(a),r=i&&t.parse(i),o=t.space||"rgba";if(r)return n=s[o](r),s[p[o].cache]=n[p[o].cache],u=s._rgba=n._rgba,!1}),u.length?("0,0,0,0"===u.join()&&l.extend(u,c.transparent),s):c[a]}function u(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}t.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<t.style.backgroundColor.indexOf("rgba"),g(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=l.extend(h.prototype,{parse:function(r,e,t,n){if(r===f)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=l(r).css(e),e=f);var o=this,i=l.type(r),a=this._rgba=[];return e!==f&&(r=[r,e,t,n],i="array"),"string"===i?this.parse(s(r)||c._default):"array"===i?(g(p.rgba.props,function(e,t){a[t.idx]=v(r[t.idx],t)}),this):"object"===i?(g(p,r instanceof h?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,n){var i=n.cache;g(n.props,function(e,t){if(!o[i]&&n.to){if("alpha"===e||null==r[e])return;o[i]=n.to(o._rgba)}o[i][t.idx]=v(r[e],t,!0)}),o[i]&&l.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(e){var r=h(e),o=!0,a=this;return g(p,function(e,t){var n,i=r[t.cache];return i&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],g(t.props,function(e,t){if(null!=i[t.idx])return o=i[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],i=this;return g(p,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,a){var s=h(e),t=s._space(),n=p[t],i=0===this.alpha()?h("transparent"):this,u=i[n.cache]||n.to(i._rgba),c=u.slice();return s=s[n.cache],g(n.props,function(e,t){var n=t.idx,i=u[n],r=s[n],o=m[t.type]||{};null!==r&&(null===i?c[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),c[n]=v((r-i)*a+i,t)))}),this[t](c)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=h(e)._rgba;return h(l.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=l.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=l.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+l.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),u=Math.min(i,r,o),c=s-u,l=s+u,f=.5*l;return t=u===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0==c?0:f<=.5?c/l:c/(2-l),[Math.round(t)%360,n,f,null==a?1:a]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*u(a,o,t+1/3)),Math.round(255*u(a,o,t)),Math.round(255*u(a,o,t-1/3)),r]},g(p,function(u,e){var n=e.props,a=e.cache,s=e.to,c=e.from;h.fn[u]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===f)return this[a].slice();var t,i=l.type(e),r="array"===i||"object"===i?e:arguments,o=this[a].slice();return g(n,function(e,t){var n=r["object"===i?e:t.idx];null==n&&(n=o[t.idx]),o[t.idx]=v(n,t)}),c?((t=h(c(o)))[a]=o,t):h(o)},g(n,function(a,s){h.fn[a]||(h.fn[a]=function(e){var t,n=l.type(e),i="alpha"===a?this._hsla?"hsla":"rgba":u,r=this[i](),o=r[s.idx];return"undefined"===n?o:("function"===n&&(e=e.call(this,o),n=l.type(e)),null==e&&s.empty?this:("string"===n&&(t=d.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),r[s.idx]=e,this[i](r)))})})}),h.hook=function(e){var t=e.split(" ");g(t,function(e,o){l.cssHooks[o]={set:function(e,t){var n,i,r="";if("transparent"!==t&&("string"!==l.type(t)||(n=s(t)))){if(t=h(n||t),!a.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&i&&i.style;)try{r=l.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},l.fx.step[o]=function(e){e.colorInit||(e.start=h(e.elem,o),e.end=h(e.end),e.colorInit=!0),l.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),l.cssHooks.borderColor={expand:function(n){var i={};return g(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},c=l.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(x),function(){var o,r,a,s=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function c(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(r[E.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(r[t]=i[t]);return r}E.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){E.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(x.style(e.elem,t,e.end),e.setAttr=!0)}}),E.fn.addBack||(E.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),E.effects.animateClass=function(r,e,t,n){var o=E.speed(e,t,n);return this.queue(function(){var e,n=E(this),t=n.attr("class")||"",i=o.children?n.find("*").addBack():n;i=i.map(function(){return{el:E(this),start:c(this)}}),(e=function(){E.each(s,function(e,t){r[t]&&n[t+"Class"](r[t])})})(),i=i.map(function(){return this.end=c(this.el[0]),this.diff=function(e,t){var n,i,r={};for(n in t)i=t[n],e[n]!==i&&(u[n]||!E.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",t),i=i.map(function(){var e=this,t=E.Deferred(),n=E.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),E.when.apply(E,i.get()).done(function(){e(),E.each(arguments,function(){var t=this.el;E.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(n[0])})})},E.fn.extend({addClass:(a=E.fn.addClass,function(e,t,n,i){return t?E.effects.animateClass.call(this,{add:e},t,n,i):a.apply(this,arguments)}),removeClass:(r=E.fn.removeClass,function(e,t,n,i){return 1<arguments.length?E.effects.animateClass.call(this,{remove:e},t,n,i):r.apply(this,arguments)}),toggleClass:(o=E.fn.toggleClass,function(e,t,n,i,r){return"boolean"==typeof t||void 0===t?n?E.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,r):o.apply(this,arguments):E.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,r){return E.effects.animateClass.call(this,{add:t,remove:e},n,i,r)}})}(),function(){function i(e,t,n,i){return E.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),E.isFunction(t)&&(i=t,n=null,t={}),("number"==typeof t||E.fx.speeds[t])&&(i=n,n=t,t={}),E.isFunction(n)&&(i=n,n=null),t&&E.extend(e,t),n=n||t.duration,e.duration=E.fx.off?0:"number"==typeof n?n:n in E.fx.speeds?E.fx.speeds[n]:E.fx.speeds._default,e.complete=i||t.complete,e}function n(e){return!(e&&"number"!=typeof e&&!E.fx.speeds[e])||("string"==typeof e&&!E.effects.effect[e]||(!!E.isFunction(e)||"object"==typeof e&&!e.effect))}var r,o,a;E.extend(E.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(w+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(void 0===(n=e.data(w+t[i]))&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=E("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return n.wrap(e),(n[0]===r||E.contains(n[0],r))&&E(r).focus(),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(E.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),E.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||E.contains(e[0],t))&&E(t).focus()),e},setTransition:function(i,e,r,o){return o=o||{},E.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(o[t]=n[0]*r+n[1])}),o}}),E.fn.extend({effect:function(){var o=i.apply(this,arguments),e=o.mode,t=o.queue,a=E.effects.effect[o.effect];if(E.fx.off||!a)return e?this[e](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)});function n(e){var t=E(this),n=o.complete,i=o.mode;function r(){E.isFunction(n)&&n.call(t[0]),E.isFunction(e)&&e()}(t.is(":hidden")?"hide"===i:"show"===i)?(t[i](),r()):a.call(t[0],o,r)}return!1===t?this.each(n):this.queue(t||"fx",n)},show:(a=E.fn.show,function(e){if(n(e))return a.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(o=E.fn.hide,function(e){if(n(e))return o.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(r=E.fn.toggle,function(e){if(n(e)||"boolean"==typeof e)return r.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var n=this.css(e),i=[];return E.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i}})}(),_={},E.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){_[e]=function(e){return Math.pow(e,t+2)}}),E.extend(_,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),E.each(_,function(e,t){E.easing["easeIn"+e]=t,E.easing["easeOut"+e]=function(e){return 1-t(1-e)},E.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});E.effects,E.effects.effect.blind=function(e,t){var n,i,r,o=E(this),a=["position","top","bottom","left","right","height","width"],s=E.effects.setMode(o,e.mode||"hide"),u=e.direction||"up",c=/up|down|vertical/.test(u),l=c?"height":"width",f=c?"top":"left",d=/up|left|vertical|horizontal/.test(u),h={},p="show"===s;o.parent().is(".ui-effects-wrapper")?E.effects.save(o.parent(),a):E.effects.save(o,a),o.show(),i=(n=E.effects.createWrapper(o).css({overflow:"hidden"}))[l](),r=parseFloat(n.css(f))||0,h[l]=p?i:0,d||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),h[f]=p?r:i+r),p&&(n.css(l,0),d||n.css(f,r+i)),n.animate(h,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===s&&o.hide(),E.effects.restore(o,a),E.effects.removeWrapper(o),t()}})},E.effects.effect.bounce=function(e,t){var n,i,r,o=E(this),a=["position","top","bottom","left","right","height","width"],s=E.effects.setMode(o,e.mode||"effect"),u="hide"===s,c="show"===s,l=e.direction||"up",f=e.distance,d=e.times||5,h=2*d+(c||u?1:0),p=e.duration/h,m=e.easing,g="up"===l||"down"===l?"top":"left",v="up"===l||"left"===l,b=o.queue(),y=b.length;for((c||u)&&a.push("opacity"),E.effects.save(o,a),o.show(),E.effects.createWrapper(o),f||(f=o["top"==g?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[g]=0,o.css("opacity",0).css(g,v?2*-f:2*f).animate(r,p,m)),u&&(f/=Math.pow(2,d-1)),n=(r={})[g]=0;n<d;n++)(i={})[g]=(v?"-=":"+=")+f,o.animate(i,p,m).animate(r,p,m),f=u?2*f:f/2;u&&((i={opacity:0})[g]=(v?"-=":"+=")+f,o.animate(i,p,m)),o.queue(function(){u&&o.hide(),E.effects.restore(o,a),E.effects.removeWrapper(o),t()}),1<y&&b.splice.apply(b,[1,0].concat(b.splice(y,1+h))),o.dequeue()},E.effects.effect.clip=function(e,t){var n,i,r,o=E(this),a=["position","top","bottom","left","right","height","width"],s="show"===E.effects.setMode(o,e.mode||"hide"),u="vertical"===(e.direction||"vertical"),c=u?"height":"width",l=u?"top":"left",f={};E.effects.save(o,a),o.show(),n=E.effects.createWrapper(o).css({overflow:"hidden"}),r=(i="IMG"===o[0].tagName?n:o)[c](),s&&(i.css(c,0),i.css(l,r/2)),f[c]=s?r:0,f[l]=s?0:r/2,i.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){s||o.hide(),E.effects.restore(o,a),E.effects.removeWrapper(o),t()}})},E.effects.effect.drop=function(e,t){var n,i=E(this),r=["position","top","bottom","left","right","opacity","height","width"],o=E.effects.setMode(i,e.mode||"hide"),a="show"===o,s=e.direction||"left",u="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s?"pos":"neg",l={opacity:a?1:0};E.effects.save(i,r),i.show(),E.effects.createWrapper(i),n=e.distance||i["top"==u?"outerHeight":"outerWidth"](!0)/2,a&&i.css("opacity",0).css(u,"pos"==c?-n:n),l[u]=(a?"pos"==c?"+=":"-=":"pos"==c?"-=":"+=")+n,i.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),E.effects.restore(i,r),E.effects.removeWrapper(i),t()}})},E.effects.effect.explode=function(e,t){var n,i,r,o,a,s,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,l=E(this),f="show"===E.effects.setMode(l,e.mode||"hide"),d=l.show().css("visibility","hidden").offset(),h=Math.ceil(l.outerWidth()/c),p=Math.ceil(l.outerHeight()/u),m=[];function g(){m.push(this),m.length===u*c&&function(){l.css({visibility:"visible"}),E(m).remove(),f||l.hide();t()}()}for(n=0;n<u;n++)for(o=d.top+n*p,s=n-(u-1)/2,i=0;i<c;i++)r=d.left+i*h,a=i-(c-1)/2,l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*h,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:p,left:r+(f?a*h:0),top:o+(f?s*p:0),opacity:f?0:1}).animate({left:r+(f?0:a*h),top:o+(f?0:s*p),opacity:f?1:0},e.duration||500,e.easing,g)},E.effects.effect.fade=function(e,t){var n=E(this),i=E.effects.setMode(n,e.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:e.duration,easing:e.easing,complete:t})},E.effects.effect.fold=function(e,t){var n,i,r=E(this),o=["position","top","bottom","left","right","height","width"],a=E.effects.setMode(r,e.mode||"hide"),s="show"===a,u="hide"===a,c=e.size||15,l=/([0-9]+)%/.exec(c),f=!!e.horizFirst,d=s!=f,h=d?["width","height"]:["height","width"],p=e.duration/2,m={},g={};E.effects.save(r,o),r.show(),n=E.effects.createWrapper(r).css({overflow:"hidden"}),i=d?[n.width(),n.height()]:[n.height(),n.width()],l&&(c=parseInt(l[1],10)/100*i[u?0:1]),s&&n.css(f?{height:0,width:c}:{height:c,width:0}),m[h[0]]=s?i[0]:c,g[h[1]]=s?i[1]:0,n.animate(m,p,e.easing).animate(g,p,e.easing,function(){u&&r.hide(),E.effects.restore(r,o),E.effects.removeWrapper(r),t()})},E.effects.effect.highlight=function(e,t){var n=E(this),i=["backgroundImage","backgroundColor","opacity"],r=E.effects.setMode(n,e.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),E.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),E.effects.restore(n,i),t()}})},E.effects.effect.size=function(o,e){var t,n,a,s=E(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],u=["width","height","overflow"],r=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=E.effects.setMode(s,o.mode||"effect"),d=o.restore||"effect"!==f,h=o.scale||"both",p=o.origin||["middle","center"],m=s.css("position"),g=d?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&s.show(),t={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===o.mode&&"show"===f?(s.from=o.to||v,s.to=o.from||t):(s.from=o.from||("show"===f?v:t),s.to=o.to||("hide"===f?v:t)),a={from:{y:s.from.height/t.height,x:s.from.width/t.width},to:{y:s.to.height/t.height,x:s.to.width/t.width}},"box"!==h&&"both"!==h||(a.from.y!==a.to.y&&(g=g.concat(c),s.from=E.effects.setTransition(s,c,a.from.y,s.from),s.to=E.effects.setTransition(s,c,a.to.y,s.to)),a.from.x!==a.to.x&&(g=g.concat(l),s.from=E.effects.setTransition(s,l,a.from.x,s.from),s.to=E.effects.setTransition(s,l,a.to.x,s.to))),"content"!==h&&"both"!==h||a.from.y!==a.to.y&&(g=g.concat(r).concat(u),s.from=E.effects.setTransition(s,r,a.from.y,s.from),s.to=E.effects.setTransition(s,r,a.to.y,s.to)),E.effects.save(s,g),s.show(),E.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),p&&(n=E.effects.getBaseline(p,t),s.from.top=(t.outerHeight-s.outerHeight())*n.y,s.from.left=(t.outerWidth-s.outerWidth())*n.x,s.to.top=(t.outerHeight-s.to.outerHeight)*n.y,s.to.left=(t.outerWidth-s.to.outerWidth)*n.x),s.css(s.from),"content"!==h&&"both"!==h||(c=c.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),u=i.concat(c).concat(l),s.find("*[width]").each(function(){var e=E(this),t=e.height(),n=e.width(),i=e.outerHeight(),r=e.outerWidth();d&&E.effects.save(e,u),e.from={height:t*a.from.y,width:n*a.from.x,outerHeight:i*a.from.y,outerWidth:r*a.from.x},e.to={height:t*a.to.y,width:n*a.to.x,outerHeight:t*a.to.y,outerWidth:n*a.to.x},a.from.y!==a.to.y&&(e.from=E.effects.setTransition(e,c,a.from.y,e.from),e.to=E.effects.setTransition(e,c,a.to.y,e.to)),a.from.x!==a.to.x&&(e.from=E.effects.setTransition(e,l,a.from.x,e.from),e.to=E.effects.setTransition(e,l,a.to.x,e.to)),e.css(e.from),e.animate(e.to,o.duration,o.easing,function(){d&&E.effects.restore(e,u)})})),s.animate(s.to,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===f&&s.hide(),E.effects.restore(s,g),d||("static"===m?s.css({position:"relative",top:s.to.top,left:s.to.left}):E.each(["top","left"],function(r,e){s.css(e,function(e,t){var n=parseInt(t,10),i=r?s.to.left:s.to.top;return"auto"===t?i+"px":n+i+"px"})})),E.effects.removeWrapper(s),e()}})},E.effects.effect.scale=function(e,t){var n=E(this),i=E.extend(!0,{},e),r=E.effects.setMode(n,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",s=e.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==a?o/100:1,l="vertical"!==a?o/100:1;i.effect="size",i.queue=!1,i.complete=t,"effect"!==r&&(i.origin=s||["middle","center"],i.restore=!0),i.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:u),i.to={height:u.height*c,width:u.width*l,outerHeight:u.outerHeight*c,outerWidth:u.outerWidth*l},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},E.effects.effect.puff=function(e,t){var n=E(this),i=E.effects.setMode(n,e.mode||"hide"),r="hide"===i,o=parseInt(e.percent,10)||150,a=o/100,s={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};E.extend(e,{effect:"scale",queue:!1,fade:!0,mode:i,complete:t,percent:r?o:100,from:r?s:{height:s.height*a,width:s.width*a,outerHeight:s.outerHeight*a,outerWidth:s.outerWidth*a}}),n.effect(e)},E.effects.effect.pulsate=function(e,t){var n,i=E(this),r=E.effects.setMode(i,e.mode||"show"),o="show"===r,a="hide"===r,s=o||"hide"===r,u=2*(e.times||5)+(s?1:0),c=e.duration/u,l=0,f=i.queue(),d=f.length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),l=1),n=1;n<u;n++)i.animate({opacity:l},c,e.easing),l=1-l;i.animate({opacity:l},c,e.easing),i.queue(function(){a&&i.hide(),t()}),1<d&&f.splice.apply(f,[1,0].concat(f.splice(d,1+u))),i.dequeue()},E.effects.effect.shake=function(e,t){var n,i=E(this),r=["position","top","bottom","left","right","height","width"],o=E.effects.setMode(i,e.mode||"effect"),a=e.direction||"left",s=e.distance||20,u=e.times||3,c=2*u+1,l=Math.round(e.duration/c),f="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,h={},p={},m={},g=i.queue(),v=g.length;for(E.effects.save(i,r),i.show(),E.effects.createWrapper(i),h[f]=(d?"-=":"+=")+s,p[f]=(d?"+=":"-=")+2*s,m[f]=(d?"-=":"+=")+2*s,i.animate(h,l,e.easing),n=1;n<u;n++)i.animate(p,l,e.easing).animate(m,l,e.easing);i.animate(p,l,e.easing).animate(h,l/2,e.easing).queue(function(){"hide"===o&&i.hide(),E.effects.restore(i,r),E.effects.removeWrapper(i),t()}),1<v&&g.splice.apply(g,[1,0].concat(g.splice(v,1+c))),i.dequeue()},E.effects.effect.slide=function(e,t){var n,i=E(this),r=["position","top","bottom","left","right","width","height"],o=E.effects.setMode(i,e.mode||"show"),a="show"===o,s=e.direction||"left",u="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,l={};E.effects.save(i,r),i.show(),n=e.distance||i["top"==u?"outerHeight":"outerWidth"](!0),E.effects.createWrapper(i).css({overflow:"hidden"}),a&&i.css(u,c?isNaN(n)?"-"+n:-n:n),l[u]=(a?c?"+=":"-=":c?"-=":"+=")+n,i.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),E.effects.restore(i,r),E.effects.removeWrapper(i),t()}})},E.effects.effect.transfer=function(e,t){var n=E(this),i=E(e.to),r="fixed"===i.css("position"),o=E("body"),a=r?o.scrollTop():0,s=r?o.scrollLeft():0,u=i.offset(),c={top:u.top-a,left:u.left-s,height:i.innerHeight(),width:i.innerWidth()},l=n.offset(),f=E("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:l.top-a,left:l.left-s,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),t()})},E.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=E("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=E("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),E.widget("ui.selectable",E.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=E(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=E(this),t=e.offset();E.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=E("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=E(e.filter,this.element[0]),this._trigger("start",n),E(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=E.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),E(n.target).parents().addBack().each(function(){var e,t=E.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var e,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=n.pageX,u=n.pageY;return s<o&&(e=s,s=o,o=e),u<a&&(e=u,u=a,a=e),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each(function(){var e=E.data(this,"selectable-item"),t=!1;e&&e.element!==i.element[0]&&("touch"===r.tolerance?t=!(e.left>s||e.right<o||e.top>u||e.bottom<a):"fit"===r.tolerance&&(t=e.left>o&&e.right<s&&e.top>a&&e.bottom<u),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,i._trigger("selecting",n,{selecting:e.element}))):(e.selecting&&((n.metaKey||n.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),i._trigger("unselecting",n,{unselecting:e.element}))),e.selected&&(n.metaKey||n.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,E(".ui-unselecting",this.element[0]).each(function(){var e=E.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),E(".ui-selecting",this.element[0]).each(function(){var e=E.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),E.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=E("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=E("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),E("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=E("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var i=this;this.menu=E("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=E("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,t){e.preventDefault(),i._setSelection(),i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var n=t.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",e,{item:n}),i.isOpen||i._select(n,e)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(E.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(n,e){var i=this,r="";E.each(e,function(e,t){t.optgroup!==r&&(E("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:t.optgroup}).appendTo(n),r=t.optgroup),i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=E("<li>");return t.disabled&&n.addClass("ui-state-disabled"),this._setText(n,t.label),n.appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(E(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case E.ui.keyCode.TAB:case E.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case E.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case E.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case E.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case E.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case E.ui.keyCode.LEFT:this._move("prev",e);break;case E.ui.keyCode.RIGHT:this._move("next",e);break;case E.ui.keyCode.HOME:case E.ui.keyCode.PAGE_UP:this._move("first",e);break;case E.ui.keyCode.END:case E.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?E(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var r=[];e.each(function(e,t){var n=E(t),i=n.parent("optgroup");r.push({element:n,index:e,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")})}),this.items=r},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),E.widget("ui.slider",E.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(t=n.values&&n.values.length||1,i.length>t&&(i.slice(t).remove(),i=i.slice(0,t)),e=i.length;e<t;e++)r.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(E(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){E(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:E.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=E("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var t,n,i,r,o,a,s,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-u.values(e));(t<i||i===t&&(e===u._lastChangedValue||u.values(e)===c.min))&&(i=t,r=E(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),a=r.offset(),s=!E(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r;return 1<(n=("horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/t)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),r=this._valueMin()+n*i,this._trimAlignValue(r)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i<n||1===t&&n<i)&&(n=i),n!==this.values(t)&&((r=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,i,r;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!E.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,i=e,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,t){var n,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),E.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t),this._super(e,t),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=0<n?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,e,i,r,o=this.options.range,a=this.options,s=this,u=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(e){n=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100,c["horizontal"===s.orientation?"left":"bottom"]=n+"%",E(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===e&&s.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===e&&s.range[u?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===e&&s.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===e&&s.range[u?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(e=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(e-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var t,n,i,r=E(e.target).data("ui-slider-handle-index");switch(e.keyCode){case E.ui.keyCode.HOME:case E.ui.keyCode.END:case E.ui.keyCode.PAGE_UP:case E.ui.keyCode.PAGE_DOWN:case E.ui.keyCode.UP:case E.ui.keyCode.RIGHT:case E.ui.keyCode.DOWN:case E.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,E(e.target).addClass("ui-state-active"),!1===this._start(e,r)))return}switch(i=this.options.step,t=n=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case E.ui.keyCode.HOME:n=this._valueMin();break;case E.ui.keyCode.END:n=this._valueMax();break;case E.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case E.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case E.ui.keyCode.UP:case E.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+i);break;case E.ui.keyCode.DOWN:case E.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-i)}this._slide(e,r,n)},keyup:function(e){var t=E(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),E(e.target).removeClass("ui-state-active"))}}}),E.widget("ui.sortable",E.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return t<=e&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),E.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),E(e.target).parents().each(function(){if(E.data(this,r.widgetName+"-item")===r)return n=E(this),!1}),E.data(e.target,r.widgetName+"-item")===r&&(n=E(e.target)),!!n&&(!(this.options.handle&&!t&&(E(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},E.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=E("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return E.ui.ddmanager&&(E.ui.ddmanager.current=this),E.ui.ddmanager&&!o.dropBehaviour&&E.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&E.ui.ddmanager&&!o.dropBehaviour&&E.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||E.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&E.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),E.ui.ddmanager&&E.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(E.ui.ddmanager&&!this.options.dropBehaviour&&E.ui.ddmanager.drop(this,e),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,E(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),E.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?E(this.domPosition.prev).after(this.currentItem):E(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},E(e).each(function(){var e=(E(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(E(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,u=s+e.height,c=this.offset.click.top,l=this.offset.click.left,f="x"===this.options.axis||s<i+c&&i+c<u,d="y"===this.options.axis||o<t+l&&t+l<a,h=f&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,o=[],a=[],s=this._connectWith();if(s&&e)for(t=s.length-1;0<=t;t--)for(n=(i=E(s[t],this.document[0])).length-1;0<=n;n--)(r=E.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([E.isFunction(r.options.items)?r.options.items.call(r.element):E(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function u(){o.push(this)}for(a.push([E.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):E(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=a.length-1;0<=t;t--)a[t][0].each(u);return E(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=E.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,r,o,a,s,u,c=this.items,l=[[E.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):E(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(t=f.length-1;0<=t;t--)for(n=(i=E(f[t],this.document[0])).length-1;0<=n;n--)(r=E.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(l.push([E.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):E(r.options.items,r.element),r]),this.containers.push(r));for(t=l.length-1;0<=t;t--)for(o=l[t][1],n=0,u=(a=l[t][0]).length;n<u;n++)(s=E(a[n])).data(this.widgetName+"-item",o),c.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?E(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=E("<"+e+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===e?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),E("<tr>",n.document[0]).appendTo(t)):"tr"===e?n._createTrPlaceholder(n.currentItem,t):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=E(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){E("<td>&#160;</td>",n.document[0]).attr("colspan",E(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,n,i,r,o,a,s,u,c,l,f=null,d=null;for(t=this.containers.length-1;0<=t;t--)if(!E.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(f&&E.contains(this.containers[t].element[0],f.element[0]))continue;f=this.containers[t],d=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,r=null,o=(c=f.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",l=c?"clientX":"clientY",n=this.items.length-1;0<=n;n--)E.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[o],u=!1,e[l]-s>this.items[n][a]/2&&(u=!0),Math.abs(e[l]-s)<i&&(i=Math.abs(e[l]-s),r=this.items[n],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=E.isFunction(t.helper)?E(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||E("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!t.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!t.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),E.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&E.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&E.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=E(i.containment)[0],t=E(i.containment).offset(),n="hidden"!==E(e).css("overflow"),this.containment=[t.left+(parseInt(E(e).css("borderLeftWidth"),10)||0)+(parseInt(E(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(E(e).css("borderTopWidth"),10)||0)+(parseInt(E(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(E(e).css("borderLeftWidth"),10)||0)-(parseInt(E(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(E(e).css("borderTopWidth"),10)||0)-(parseInt(E(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&E.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&E.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1]:t,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===E.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||E([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});function C(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}var k;E.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},r=this.element;return E.each(["min","max","step"],function(e,t){var n=r.attr(t);void 0!==n&&n.length&&(i[t]=n)}),i},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,E(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(E(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,E(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&0<e.height()&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(e){var t=this.options,n=E.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,t.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?E.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:C(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:C(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:C(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:C(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:C(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());C(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),E.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(k=/#.*$/,function(e){var t,n;t=(e=e.cloneNode(!1)).href.replace(k,""),n=location.href.replace(k,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible),this._processTabs(),e.active=this._initialActive(),E.isArray(e.disabled)&&(e.disabled=E.unique(e.disabled.concat(E.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=E(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(e,t){if(E(t).attr("aria-controls")===i)return n=e,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0),!e&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):E()}},_tabKeydown:function(e){var t=E(this.document[0].activeElement).closest("li"),n=this.tabs.index(t),i=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case E.ui.keyCode.RIGHT:case E.ui.keyCode.DOWN:n++;break;case E.ui.keyCode.UP:case E.ui.keyCode.LEFT:i=!1,n--;break;case E.ui.keyCode.END:n=this.anchors.length-1;break;case E.ui.keyCode.HOME:n=0;break;case E.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case E.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===E.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===E.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===E.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){var n=this.tabs.length-1;for(;-1!==E.inArray((n<e&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=E.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!E.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=E()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=E()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){E(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){E(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return E("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=E(),this.anchors.each(function(e,t){var n,i,r,o=E(t).uniqueId().attr("id"),a=E(t).closest("li"),s=a.attr("aria-controls");u._isLocal(t)?(r=(n=t.hash).substring(1),i=u.element.find(u._sanitizeSelector(n))):(n="#"+(r=a.attr("aria-controls")||E({}).uniqueId()[0].id),(i=u.element.find(n)).length||(i=u._createPanel(r)).insertAfter(u.panels[e-1]||u.tablist),i.attr("aria-live","polite")),i.length&&(u.panels=u.panels.add(i)),s&&a.data("ui-tabs-aria-controls",s),a.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return E("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){E.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var t,n=0;t=this.tabs[n];n++)!0===e||-1!==E.inArray(n,e)?E(t).addClass("ui-state-disabled").attr("aria-disabled","true"):E(t).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&E.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=E(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=E(this).outerHeight(!0)}),this.panels.each(function(){E(this).height(Math.max(0,n-E(this).innerHeight()+E(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,E(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,i=E(e.currentTarget).closest("li"),r=i[0]===n[0],o=r&&t.collapsible,a=o?E():this._getPanelForTab(i),s=n.length?this._getPanelForTab(n):E(),u={oldTab:n,oldPanel:s,newTab:o?E():i,newPanel:a};e.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!t.collapsible||!1===this._trigger("beforeActivate",e,u)||(t.active=!o&&this.tabs.index(i),this.active=r?E():i,this.xhr&&this.xhr.abort(),s.length||a.length||E.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),e),this._toggle(e,u))},_toggle:function(e,t){var n=this,i=t.newPanel,r=t.oldPanel;function o(){n.running=!1,n._trigger("activate",e,t)}function a(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,o):(i.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),a()),r.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?t.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===E(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),t=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:E.noop}))},_findActive:function(e){return!1===e?E():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){E.data(this,"ui-tabs-destroy")?E(this).remove():E(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=E(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(e=void 0!==n&&(n=this._getIndex(n),E.isArray(e)?E.map(e,function(e){return e!==n?e:null}):E.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==E.inArray(e,t))return;t=E.isArray(t)?E.merge([e],t).sort():[e]}this._setupDisabled(t)}},load:function(e,i){e=this._getIndex(e);var r=this,n=this.tabs.eq(e),t=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),a={tab:n,panel:o},s=function(e,t){"abort"===t&&r.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(t[0])||(this.xhr=E.ajax(this._ajaxSettings(t,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),r._trigger("load",i,a),s(n,t)},1)}).fail(function(e,t){setTimeout(function(){s(e,t)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,t){return r._trigger("beforeLoad",n,E.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){var t=E(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),E.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=E(this).attr("title")||"";return E("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",E.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),i=E.inArray(t,n);-1!==i&&n.splice(i,1),e.removeData("ui-tooltip-id"),(n=E.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=E("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,t){var n=this;if("disabled"===e)return this[t?"_disable":"_enable"](),void(this.options[e]=t);this._super(e,t),"content"===e&&E.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_disable:function(){var i=this;E.each(this.tooltips,function(e,t){var n=E.Event("blur");n.target=n.currentTarget=t.element[0],i.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=E(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=E(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,t=E(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=E(this);t.data("ui-tooltip-open")&&((e=E.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i)return this._open(n,t,i);(e=i.call(t[0],function(e){r._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,t,e))})}))&&this._open(n,t,e)},_open:function(e,t,n){var i,r,o,a,s=E.extend({},this.options.position);function u(e){s.of=e,r.is(":hidden")||r.position(s)}n&&((i=this._find(t))?i.tooltip.find(".ui-tooltip-content").html(n):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),r=i.tooltip,this._addDescribedBy(t,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(a=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=n,E("<div>").html(a).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:u}),u(e)):r.position(E.extend({of:t},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(u(s.of),clearInterval(o))},E.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,n){var t={keyup:function(e){if(e.keyCode===E.ui.keyCode.ESCAPE){var t=E.Event(e);t.currentTarget=n[0],this.close(t,!0)}}};n[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,n,t)},close:function(e){var t,n=this,i=E(e?e.currentTarget:this.element),r=this._find(i);r?(t=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(E(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&E.each(this.parents,function(e,t){E(t.element).attr("title",t.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:t}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(e){var t=E("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=t.uniqueId().attr("id");return E("<div>").addClass("ui-tooltip-content").appendTo(t),t.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var r=this;E.each(this.tooltips,function(e,t){var n=E.Event("blur"),i=t.element;n.target=n.currentTarget=i[0],r.close(n,!0),E("#"+e).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,n=e.ui.mouse.prototype,i=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,o(e,"mouseover"),o(e,"mousemove"),o(e,"mousedown"))},n._touchMove=function(e){t&&(this._touchMoved=!0,o(e,"mousemove"))},n._touchEnd=function(e){t&&(o(e,"mouseup"),o(e,"mouseout"),this._touchMoved||o(e,"click"),t=!1)},n._mouseInit=function(){this.element.bind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),i.call(this)},n._mouseDestroy=function(){this.element.unbind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),r.call(this)}}function o(e,t){if(!(1<e.originalEvent.touches.length)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}}(jQuery),function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,n){"use strict";var o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),s=!0,u=!1,c=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"];if((0,i.eventListenerOptionsSupported)()){var r=EventTarget.prototype.addEventListener;o=r,EventTarget.prototype.addEventListener=function(e,t,n){var i="object"===(void 0===n?"undefined":a(n))&&null!==n,r=i?n.capture:n;(n=i?function(e){var t=Object.getOwnPropertyDescriptor(e,"passive");return t&&!0!==t.writable&&void 0===t.set?Object.assign({},e):e}(n):{}).passive=function(e,t){return void 0!==e?e:-1!==c.indexOf(t)&&s}(n.passive,e),n.capture=void 0===r?u:r,o.call(this,e,t,n)},EventTarget.prototype.addEventListener._original=o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventListenerOptionsSupported=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}}]),function(e){"use strict";var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,l=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),f=l&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),d=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,h=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(l||d)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,n,i,r,o,a,s,u,c;if(!(t=e.match(h)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],r=e.slice(t[0].length),o=i?atob(r):decodeURIComponent(r),a=new ArrayBuffer(o.length),s=new Uint8Array(a),u=0;u<o.length;u+=1)s[u]=o.charCodeAt(u);return l?new Blob([f?s:a],{type:n}):((c=new d).append(a),c.getBlob(n))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:r.toDataURL&&o&&(r.msToBlob?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.msToBlob(t))})}:r.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(o(i.toDataURL(t,n)))})})),"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof module&&module.exports?module.exports=o:e.dataURLtoBlob=o}(window),function(u){"use strict";var t=u.URL||u.webkitURL;function c(e){return!!t&&t.createObjectURL(e)}function n(e){return!!t&&t.revokeObjectURL(e)}function l(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||n(e)}function f(e,t,n,i){if(!u.FileReader)return!1;var r=new FileReader;r.onload=function(){t.call(r,this.result)},n&&(r.onabort=r.onerror=function(){n.call(r,this.error)});var o=r[i||"readAsDataURL"];return o?(o.call(r,e),r):void 0}function d(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function h(a,e,s){function t(n,i){var r,o=document.createElement("img");function t(e,t){n!==i?e instanceof Error?i(e):((t=t||{}).image=e,n(t)):n&&n(e,t)}function e(e,t){t&&u.console&&console.log(t),e&&d("Blob",e)?r=c(a=e):(r=a,s&&s.crossOrigin&&(o.crossOrigin=s.crossOrigin)),o.src=r}return o.onerror=function(e){l(r,s),i&&i.call(o,e)},o.onload=function(){l(r,s);var e={originalWidth:o.naturalWidth||o.width,originalHeight:o.naturalHeight||o.height};try{h.transform(o,s,t,a,e)}catch(e){i&&i(e)}},"string"==typeof a?(h.requiresMetaData(s)?h.fetchBlob(a,e,s):e(),o):d("Blob",a)||d("File",a)?(r=c(a))?(o.src=r,o):f(a,function(e){o.src=e},i):void 0}return u.Promise&&"function"!=typeof e?(s=e,new Promise(t)):t(e,e)}h.requiresMetaData=function(e){return e&&e.meta},h.fetchBlob=function(e,t){t()},h.transform=function(e,t,n,i,r){n(e,r)},h.global=u,h.readFile=f,h.isInstanceOf=d,h.createObjectURL=c,h.revokeObjectURL=n,"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof module&&module.exports?module.exports=h:u.loadImage=h}("undefined"!=typeof window&&window||this),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(x){"use strict";var o=x.transform;x.createCanvas=function(e,t,n){if(n&&x.global.OffscreenCanvas)return new OffscreenCanvas(e,t);var i=document.createElement("canvas");return i.width=e,i.height=t,i},x.transform=function(e,t,n,i,r){o.call(x,x.scale(e,t,r),t,n,i,r)},x.transformCoordinates=function(){},x.getTransformedOptions=function(e,t){var n,i,r,o,a=t.aspectRatio;if(!a)return t;for(i in n={},t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.crop=!0,a<(r=e.naturalWidth||e.width)/(o=e.naturalHeight||e.height)?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},x.drawImage=function(e,t,n,i,r,o,a,s,u){var c=t.getContext("2d");return!1===u.imageSmoothingEnabled?(c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1):u.imageSmoothingQuality&&(c.imageSmoothingQuality=u.imageSmoothingQuality),c.drawImage(e,n,i,r,o,0,0,a,s),c},x.requiresCanvas=function(e){return e.canvas||e.crop||!!e.aspectRatio},x.scale=function(e,t,n){t=t||{},n=n||{};var i,r,o,a,s,u,c,l,f,d,h,p,m=e.getContext||x.requiresCanvas(t)&&!!x.global.HTMLCanvasElement,g=e.naturalWidth||e.width,v=e.naturalHeight||e.height,b=g,y=v;function _(){var e=Math.max((o||b)/b,(a||y)/y);1<e&&(b*=e,y*=e)}function w(){var e=Math.min((i||b)/b,(r||y)/y);e<1&&(b*=e,y*=e)}if(m&&(c=(t=x.getTransformedOptions(e,t,n)).left||0,l=t.top||0,t.sourceWidth?(s=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(c=g-s-t.right)):s=g-c-(t.right||0),t.sourceHeight?(u=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(l=v-u-t.bottom)):u=v-l-(t.bottom||0),b=s,y=u),i=t.maxWidth,r=t.maxHeight,o=t.minWidth,a=t.minHeight,m&&i&&r&&t.crop?(h=s/u-(b=i)/(y=r))<0?(u=r*s/i,void 0===t.top&&void 0===t.bottom&&(l=(v-u)/2)):0<h&&(s=i*u/r,void 0===t.left&&void 0===t.right&&(c=(g-s)/2)):((t.contain||t.cover)&&(o=i=i||o,a=r=r||a),t.cover?(w(),_()):(_(),w())),m){if(1<(f=t.pixelRatio)&&(!e.style.width||Math.floor(parseFloat(e.style.width,10))!==Math.floor(g/f))&&(b*=f,y*=f),x.orientationCropBug&&!e.getContext&&(c||l||s!==g||u!==v)&&(h=e,e=x.createCanvas(g,v,!0),x.drawImage(h,e,0,0,g,v,g,v,t)),0<(d=t.downsamplingRatio)&&d<1&&b<s&&y<u)for(;b<s*d;)p=x.createCanvas(s*d,u*d,!0),x.drawImage(e,p,c,l,s,u,p.width,p.height,t),l=c=0,s=p.width,u=p.height,e=p;return p=x.createCanvas(b,y),x.transformCoordinates(p,t,n),1<f&&(p.style.width=p.width/f+"px"),x.drawImage(e,p,c,l,s,u,b,y,t).setTransform(1,0,0,1,0,0),p}return e.width=b,e.height=y,e}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(a){"use strict";var s=a.global,u=a.transform,i=s.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),p=s.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,t){t=t||this.byteLength-e;var n=new Uint8Array(this,e,t),i=new Uint8Array(t);return i.set(n),i.buffer},m={jpeg:{65505:[],65517:[]}};function c(t,e,f,d){var h=this;function n(c,l){if(!(s.DataView&&i&&t&&12<=t.size&&"image/jpeg"===t.type))return c(d);var e=f.maxMetaDataSize||262144;a.readFile(i.call(t,0,e),function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return l(new Error("Invalid JPEG file: Missing JPEG marker."));for(var n,i,r,o,a=2,s=t.byteLength-4,u=a;a<s&&(65504<=(n=t.getUint16(a))&&n<=65519||65534===n);){if(a+(i=t.getUint16(a+2)+2)>t.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((r=m.jpeg[n])&&!f.disableMetaDataParsers)for(o=0;o<r.length;o+=1)r[o].call(h,t,a,i,d,f);u=a+=i}!f.disableImageHead&&6<u&&(d.imageHead=p.call(e,0,u)),c(d)},l,"readAsArrayBuffer")||c(d)}return f=f||{},s.Promise&&"function"!=typeof e?(d=f=e||{},new Promise(n)):(d=d||{},n(e,e))}function r(e,t,n){return e&&t&&n?new Blob([n,i.call(e,t.byteLength)],{type:"image/jpeg"}):null}a.transform=function(t,n,i,r,o){a.requiresMetaData(n)?c(r,function(e){e!==o&&(s.console&&console.log(e),e=o),u.call(a,t,n,i,r,e)},n,o=o||{}):u.apply(a,arguments)},a.blobSlice=i,a.bufferSlice=p,a.replaceHead=function(t,n,i){var e={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!i&&s.Promise)return c(t,e).then(function(e){return r(t,e.imageHead,n)});c(t,function(e){i(r(t,e.imageHead,n))},e)},a.parseMetaData=c,a.metaDataParsers=m}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(e){"use strict";var o=e.global;o.fetch&&o.Request&&o.Response&&o.Response.prototype.blob?e.fetchBlob=function(e,t,n){function i(e){return e.blob()}if(o.Promise&&"function"!=typeof t)return fetch(new Request(e,t)).then(i);fetch(new Request(e,n)).then(i).then(t).catch(function(e){t(null,e)})}:o.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,t,r){function n(t,n){r=r||{};var i=new XMLHttpRequest;i.open(r.method||"GET",e),r.headers&&Object.keys(r.headers).forEach(function(e){i.setRequestHeader(e,r.headers[e])}),i.withCredentials="include"===r.credentials,i.responseType="blob",i.onload=function(){t(i.response)},i.onerror=i.onabort=i.ontimeout=function(e){t===n?n(null,e):n(e)},i.send(r.body)}return o.Promise&&"function"!=typeof t?(r=t,new Promise(n)):n(t,t)})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):e(window.loadImage)}(function(m){"use strict";var t,n,r=m.transform,i=m.requiresCanvas,o=m.requiresMetaData,l=m.transformCoordinates,g=m.getTransformedOptions;function a(e,t){var n=e&&e.orientation;return!0===n&&!m.orientation||1===n&&m.orientation||(!t||m.orientation)&&1<n&&n<9}function v(e,t){return e!==t&&(1===e&&1<t&&t<9||1<e&&e<9)}function b(e,t){if(1<t&&t<9)switch(e){case 2:case 4:return 4<t;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}}(t=m).global.document&&((n=document.createElement("img")).onload=function(){var e;t.orientation=2===n.width&&3===n.height,t.orientation&&((e=t.createCanvas(1,1,!0).getContext("2d")).drawImage(n,1,1,1,1,0,0,1,1),t.orientationCropBug="255,255,255,255"!==e.getImageData(0,0,1,1).data.toString())},n.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="),m.requiresCanvas=function(e){return a(e)||i.call(m,e)},m.requiresMetaData=function(e){return a(e,!0)||o.call(m,e)},m.transform=function(e,t,o,n,i){r.call(m,e,t,function(e,t){var n,i,r;!t||4<(n=m.orientation&&t.exif&&t.exif.get("Orientation"))&&n<9&&(i=t.originalWidth,r=t.originalHeight,t.originalWidth=r,t.originalHeight=i),o(e,t)},n,i)},m.getTransformedOptions=function(e,t,n){var i=g.call(m,e,t),r=n.exif&&n.exif.get("Orientation"),o=i.orientation,a=m.orientation&&r;if(!0===o&&(o=r),!v(o,a))return i;var s,u,c=i.top,l=i.right,f=i.bottom,d=i.left,h={};for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(h[p]=i[p]);if((4<(h.orientation=o)&&!(4<a)||o<5&&4<a)&&(h.maxWidth=i.maxHeight,h.maxHeight=i.maxWidth,h.minWidth=i.minHeight,h.minHeight=i.minWidth,h.sourceWidth=i.sourceHeight,h.sourceHeight=i.sourceWidth),1<a){switch(a){case 2:l=i.left,d=i.right;break;case 3:c=i.bottom,l=i.left,f=i.top,d=i.right;break;case 4:c=i.bottom,f=i.top;break;case 5:c=i.left,l=i.bottom,f=i.right,d=i.top;break;case 6:c=i.left,l=i.top,f=i.right,d=i.bottom;break;case 7:c=i.right,l=i.top,f=i.left,d=i.bottom;break;case 8:c=i.right,l=i.bottom,f=i.left,d=i.top}b(o,a)&&(s=c,u=l,c=f,l=d,f=s,d=u)}switch(h.top=c,h.right=l,h.bottom=f,h.left=d,o){case 2:h.right=d,h.left=l;break;case 3:h.top=f,h.right=d,h.bottom=c,h.left=l;break;case 4:h.top=f,h.bottom=c;break;case 5:h.top=d,h.right=f,h.bottom=l,h.left=c;break;case 6:h.top=l,h.right=f,h.bottom=d,h.left=c;break;case 7:h.top=l,h.right=c,h.bottom=d,h.left=f;break;case 8:h.top=d,h.right=c,h.bottom=l,h.left=f}return h},m.transformCoordinates=function(e,t,n){l.call(m,e,t,n);var i=t.orientation,r=m.orientation&&n.exif&&n.exif.get("Orientation");if(v(i,r)){var o=e.getContext("2d"),a=e.width,s=e.height,u=a,c=s;switch((4<i&&!(4<r)||i<5&&4<r)&&(e.width=s,e.height=a),4<i&&(u=s,c=a),r){case 2:o.translate(u,0),o.scale(-1,1);break;case 3:o.translate(u,c),o.rotate(Math.PI);break;case 4:o.translate(0,c),o.scale(1,-1);break;case 5:o.rotate(-.5*Math.PI),o.scale(-1,1);break;case 6:o.rotate(-.5*Math.PI),o.translate(-u,0);break;case 7:o.rotate(-.5*Math.PI),o.translate(-u,c),o.scale(1,-1);break;case 8:o.rotate(.5*Math.PI),o.translate(0,-c)}switch(b(i,r)&&(o.translate(u,c),o.rotate(Math.PI)),i){case 2:o.translate(a,0),o.scale(-1,1);break;case 3:o.translate(a,s),o.rotate(Math.PI);break;case 4:o.translate(0,s),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-s);break;case 7:o.rotate(.5*Math.PI),o.translate(a,-s),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-a,0)}}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(o){"use strict";function m(e){e&&(Object.defineProperty(this,"map",{value:this.ifds[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}m.prototype.ifds={ifd1:{name:"Thumbnail",map:m.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965}},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},m.prototype.get=function(e){return this[e]||this[this.map[e]]};var p={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}};function g(e,t,n){return(!e||e[n])&&(!t||!0!==t[n])}function v(e,t,n,i,r,o,a,s){var u,c,l,f,d,h;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((c=n+2+12*(u=e.getUint16(n,i)))+4>e.byteLength)){for(l=0;l<u;l+=1)f=n+2+12*l,g(a,s,d=e.getUint16(f,i))&&(h=function(e,t,n,i,r,o){var a,s,u,c,l,f,d=p[i];if(d){if(!((s=4<(a=d.size*r)?t+e.getUint32(n+8,o):n+8)+a>e.byteLength)){if(1===r)return d.getValue(e,s,o);for(u=[],c=0;c<r;c+=1)u[c]=d.getValue(e,s+c*d.size,o);if(d.ascii){for(l="",c=0;c<u.length&&"\0"!==(f=u[c]);c+=1)l+=f;return l}return u}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}(e,t,f,e.getUint16(f+2,i),e.getUint32(f+4,i),i),r[d]=h,o&&(o[d]=f));return e.getUint32(c,i)}console.log("Invalid Exif data: Invalid directory size.")}}p[7]=p[1],o.parseExifData=function(c,e,t,l,n){if(!n.disableExif){var f,i,r,d=n.includeExifTags,h=n.excludeExifTags||{34665:{37500:!0}},p=e+10;if(1165519206===c.getUint32(e+4))if(p+8>c.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===c.getUint16(e+8)){switch(c.getUint16(p)){case 18761:f=!0;break;case 19789:f=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===c.getUint16(p+2,f)?(i=c.getUint32(p+4,f),l.exif=new m,n.disableExifOffsets||(l.exifOffsets=new m,l.exifTiffOffset=p,l.exifLittleEndian=f),(i=v(c,p,p+i,f,l.exif,l.exifOffsets,d,h))&&g(d,h,"ifd1")&&(l.exif.ifd1=i,l.exifOffsets&&(l.exifOffsets.ifd1=p+i)),Object.keys(l.exif.ifds).forEach(function(e){var t,n,i,r,o,a,s,u;n=e,i=c,r=p,o=f,a=d,s=h,(u=(t=l).exif[n])&&(t.exif[n]=new m(n),t.exifOffsets&&(t.exifOffsets[n]=new m(n)),v(i,r,r+u,o,t.exif[n],t.exifOffsets&&t.exifOffsets[n],a&&a[n],s&&s[n]))}),(r=l.exif.ifd1)&&r[513]&&(r[513]=function(e,t,n){if(n){if(!(t+n>e.byteLength))return new Blob([o.bufferSlice.call(e.buffer,t,t+n)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(c,p+r[513],r[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},o.metaDataParsers.jpeg[65505].push(o.parseExifData),o.exifWriters={274:function(e,t,n){var i=t.exifOffsets[274];return i&&new DataView(e,i+8,2).setUint16(0,n,t.exifLittleEndian),e}},o.writeExifData=function(e,t,n,i){o.exifWriters[t.exif.map[n]](e,t,i)},o.ExifMap=m}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";var r=e.ExifMap.prototype;r.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},r.tags.ifd1=r.tags,r.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180Â° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90Â° CW",6:"Rotate 90Â° CW",7:"Horizontal flip + Rotate 90Â° CW",8:"Rotate 90Â° CCW"}},r.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},r.getAll=function(){var e,t,n,i={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?i[this.ifds[e].name]=t.getAll():(n=this.tags[e])&&(i[n]=this.getText(n)));return i},r.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.ifds[e].name:t},function(){var e,t,n,i=r.tags;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e))if(t=r.ifds[e])for(e in n=i[e])Object.prototype.hasOwnProperty.call(n,e)&&(t.map[n[e]]=Number(e));else r.map[i[e]]=Number(e)}()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";function h(){}function p(e,t,n,i,r,o){for(var a,s,u,c,l,f=t+n,d=t;d<f;)28===e.getUint8(d)&&2===e.getUint8(d+1)&&(u=e.getUint8(d+2),r&&!r[u]||o&&o[u]||(s=e.getInt16(d+3),h=u,p=i.iptc,m=e,g=d+5,v=s,a="binary"===p.types[h]?new Blob([m.buffer.slice(g,g+v)]):"Uint16"===p.types[h]?m.getUint16(g):function(e,t,n){for(var i="",r=g+v,o=g;o<r;o+=1)i+=String.fromCharCode(e.getUint8(o));return i}(m),i.iptc[u]=(l=a,void 0===(c=i.iptc[u])?l:c instanceof Array?(c.push(l),c):[c,l]),i.iptcOffsets&&(i.iptcOffsets[u]=d))),d+=1;var h,p,m,g,v}h.prototype.map={ObjectName:5},h.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},h.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,t,n,i,r){if(!r.disableIptc)for(var o,a,s,u,c=t+n;t+8<c;){if(u=t,943868237===(s=e).getUint32(u)&&1028===s.getUint16(u+4)){var l=(o=t,a=void 0,(a=e.getUint8(o+7))%2!=0&&(a+=1),0===a&&(a=4),a),f=t+8+l;if(c<f){console.log("Invalid IPTC data: Invalid segment offset.");break}var d=e.getUint16(t+6+l);if(c<t+d){console.log("Invalid IPTC data: Invalid segment size.");break}return i.iptc=new h,r.disableIptcOffsets||(i.iptcOffsets=new h),void p(e,f,d,i,r.includeIptcTags,r.excludeIptcTags||{202:!0})}t+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=h}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-iptc"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-iptc")):e(window.loadImage)}(function(e){"use strict";var i=e.IptcMap.prototype;i.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},i.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},i.getText=function(e){var t=this.get(e),n=this.map[e],i=this.stringValues[n];return i?i[t]:String(t)},i.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n},i.getName=function(e){return this.tags[e]},function(){var e,t=i.tags,n=i.map||{};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[t[e]]=Number(e))}()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(v){"use strict";function e(n){var i="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==v.inArray("Files",t.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),i&&(t.dropEffect="copy"))}}var t;v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file"/>').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,uniqueFilenames:void 0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&v.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&v(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_promisePipe:(t=v.fn.jquery.split("."),1<Number(t[0])||7<Number(t[1])?"then":"pipe"),_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===v.type(e.formData)?e.formData(e.form):v.isArray(e.formData)?e.formData:"object"===v.type(e.formData)?(n=[],v.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return v.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?v.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)Object.prototype.hasOwnProperty.call(e._response,t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",v.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var i=this,e=n.xhr?n.xhr():v.ajaxSettings.xhr();e.upload&&(v(e.upload).on("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,i._onProgress(e,n)}),n.xhr=function(){return e})},_deinitProgressListener:function(e){var t=e.xhr?e.xhr():v.ajaxSettings.xhr();t.upload&&v(t.upload).off("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_getUniqueFilename:function(e,t){return t[e=String(e)]?(e=e.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/,function(e,t,n){return" ("+(t?Number(t)+1:1)+")"+(n||"")}),this._getUniqueFilename(e,t)):(t[e]=!0,e)},_initXHRData:function(i){var r,o=this,e=i.files[0],t=i.multipart||!v.support.xhrFileUpload,a="array"===v.type(i.paramName)?i.paramName[0]:i.paramName;i.headers=v.extend({},i.headers),i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t&&!i.blob&&this._isInstanceOf("File",e)||(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.uploadName||e.name)+'"'),t?v.support.xhrFormDataFileUpload&&(i.postMessage?(r=this._getFormData(i),i.blob?r.push({name:a,value:i.blob}):v.each(i.files,function(e,t){r.push({name:"array"===v.type(i.paramName)&&i.paramName[e]||a,value:t})})):(o._isInstanceOf("FormData",i.formData)?r=i.formData:(r=new FormData,v.each(this._getFormData(i),function(e,t){r.append(t.name,t.value)})),i.blob?r.append(a,i.blob,e.uploadName||e.name):v.each(i.files,function(e,t){if(o._isInstanceOf("File",t)||o._isInstanceOf("Blob",t)){var n=t.uploadName||t.name;i.uniqueFilenames&&(n=o._getUniqueFilename(n,i.uniqueFilenames)),r.append("array"===v.type(i.paramName)&&i.paramName[e]||a,t,n)}})),i.data=r):(i.contentType=e.type||"application/octet-stream",i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){var t=v("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=v(e.fileInput),i=e.paramName;return i?v.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=v(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)i.push(t),n-=1}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=v(e.fileInput.prop("form")),e.form.length||(e.form=v(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===v.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=v.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var i=v.Deferred(),r=i.promise();return t=t||this.options.context||r,!0===e?i.resolveWith(t,n):!1===e&&i.rejectWith(t,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return v.Deferred().resolveWith(i,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||r([this]))[i._promisePipe](function(){return n.errorThrown?v.Deferred().rejectWith(i,[n]).promise():r(arguments)})[i._promisePipe](e,t)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",v.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,a,s=this,n=o.files[0],u=n.size,c=o.uploadedBytes,l=o.maxChunkSize||u,f=this._blobSlice,d=v.Deferred(),i=d.promise();return!(!(this._isXHRUpload(o)&&f&&(c||("function"===v.type(l)?l(o):l)<u))||o.data)&&(!!e||(u<=c?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(a=function(){var i=v.extend({},o),r=i._progress.loaded;i.blob=f.call(n,c,c+("function"===v.type(l)?l(i):l),n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+u,s._trigger("chunkbeforesend",null,i),s._initXHRData(i),s._initProgressListener(i),t=(!1!==s._trigger("chunksend",null,i)&&v.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(e,t,n){c=s._getUploadedBytes(n)||c+i.chunkSize,r+i.chunkSize-i._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),o.uploadedBytes=i.uploadedBytes=c,i.result=e,i.textStatus=t,i.jqXHR=n,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),c<u?a():d.resolveWith(i.context,[e,t,n])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,n])}).always(function(){s._deinitProgressListener(i)})},this._enhancePromise(i),i.abort=function(){return t.abort()},a(),i)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,i){var r=i._progress.total,o=i._response;i._progress.loaded<r&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),o.result=i.result=e,o.textStatus=i.textStatus=t,o.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,i,r,o,a=this,s=a._getAJAXSettings(t),u=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",v.Event("send",{delegatedEvent:e}),s))&&a._getXHRPromise(!1,s.context,i)||a._chunkedUpload(s)||v.ajax(s)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._deinitProgressListener(s),a._onAlways(e,t,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((o=1<this.options.limitConcurrentUploads?(r=v.Deferred(),this._slots.push(r),r[a._promisePipe](u)):(this._sequence=this._sequence[a._promisePipe](u,u),this._sequence)).abort=function(){return i=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(s.context,i),u())},this._enhancePromise(o)):u()},_onAdd:function(i,r){var o,e,a,t,s=this,u=!0,n=v.extend({},this.options,r),c=r.files,l=c.length,f=n.limitMultiFileUploads,d=n.limitMultiFileUploadSize,h=n.limitMultiFileUploadSizeOverhead,p=0,m=this._getParamName(n),g=0;if(!l)return!1;if(d&&void 0===c[0].size&&(d=void 0),(n.singleFileUploads||f||d)&&this._isXHRUpload(n))if(n.singleFileUploads||d||!f)if(!n.singleFileUploads&&d)for(a=[],o=[],t=0;t<l;t+=1)p+=c[t].size+h,(t+1===l||p+c[t+1].size+h>d||f&&f<=t+1-g)&&(a.push(c.slice(g,t+1)),(e=m.slice(g,t+1)).length||(e=m),o.push(e),g=t+1,p=0);else o=m;else for(a=[],o=[],t=0;t<l;t+=f)a.push(c.slice(t,t+f)),(e=m.slice(t,t+f)).length||(e=m),o.push(e);else a=[c],o=[m];return r.originalFiles=c,v.each(a||c,function(e,t){var n=v.extend({},r);return n.files=a?t:[t],n.paramName=o[e],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(i,n),u=s._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),u},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=i,v("<form></form>").append(i)[0].reset(),n.after(i).detach(),t&&i.trigger("focus"),v.cleanData(n.off("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var e,i=this,r=v.Deferred(),o=[],a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},s=function(){e.readEntries(function(e){e.length?(o=o.concat(e),s()):function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(a)}(o)},a)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},a):t.isDirectory?(e=t.createReader(),s()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var n=this;return v.when.apply(v,v.map(e,function(e){return n._handleFileTreeEntry(e,t)}))[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(v.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):v.Deferred().resolve(v.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,i=(e=v(e)).prop("webkitEntries")||e.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((t=v.makeArray(e.prop("files"))).length)void 0===t[0].name&&t[0].fileName&&v.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return v.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof v&&1!==e.length?v.when.apply(v,v.map(e,this._getSingleFileInputFiles))[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,i={fileInput:v(t.target),form:v(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",v.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};t&&t.length&&(v.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,i={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){i.files=e,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==v.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof v||(e.fileInput=v(e.fileInput)),e.dropZone instanceof v||(e.dropZone=v(e.dropZone)),e.pasteZone instanceof v||(e.pasteZone=v(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===v.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var r=this,o=this.options,a=this.element.data();v.each(this.element[0].attributes,function(e,t){var n,i=t.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=a[i],r._isRegExpOption(i,n)&&(n=r._getRegExp(n)),o[i]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=v.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=v.Deferred(),e=o.promise();return e.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){i||(e.length?(t.files=e,(n=r._onSend(null,t)).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})):o.reject())}),this._enhancePromise(e)}if(t.files=v.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload")):e(window.jQuery)}(function(a){"use strict";var i=a.blueimp.fileupload.prototype.options.add;a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processQueue:[],add:function(e,t){var n=a(this);t.process(function(){return n.fileupload("process",t)}),i.call(this,e,t)}},processActions:{},_processFile:function(e,i){var r=this,o=a.Deferred().resolveWith(r,[e]).promise();return this._trigger("process",null,e),a.each(e.processQueue,function(e,t){var n=function(e){return i.errorThrown?a.Deferred().rejectWith(r,[i]).promise():r.processActions[t.action].call(r,e,t)};o=o[r._promisePipe](n,t.always&&n)}),o.done(function(){r._trigger("processdone",null,e),r._trigger("processalways",null,e)}).fail(function(){r._trigger("processfail",null,e),r._trigger("processalways",null,e)}),o},_transformProcessQueue:function(r){var t=[];a.each(r.processQueue,function(){var n={},e=this.action,i=!0===this.prefix?e:this.prefix;a.each(this,function(e,t){"string"===a.type(t)&&"@"===t.charAt(0)?n[e]=r[t.slice(1)||(i?i+e.charAt(0).toUpperCase()+e.slice(1):e)]:n[e]=t}),t.push(n)}),r.processQueue=t},processing:function(){return this._processing},process:function(i){var r=this,o=a.extend({},this.options,i);return o.processQueue&&o.processQueue.length&&(this._transformProcessQueue(o),0===this._processing&&this._trigger("processstart"),a.each(i.files,function(e){var t=e?a.extend({},o):o,n=function(){return i.errorThrown?a.Deferred().rejectWith(r,[i]).promise():r._processFile(t,i)};t.index=e,r._processing+=1,r._processingQueue=r._processingQueue[r._promisePipe](n,n).always(function(){r._processing-=1,0===r._processing&&r._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-scale","load-image-exif","load-image-orientation","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-scale"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-load-image/js/load-image-orientation"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function(u,c){"use strict";u.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",maxMetaDataSize:"@",disableImageHead:"@",disableMetaDataParsers:"@",disableExif:"@",disableExifOffsets:"@",includeExifTags:"@",excludeExifTags:"@",disableIptc:"@",disableIptcOffsets:"@",includeIptcTags:"@",excludeIptcTags:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),u.widget("blueimp.fileupload",u.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!0,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(t,e){if(e.disabled)return t;var n=this,i=t.files[t.index],r=u.Deferred();return"number"===u.type(e.maxFileSize)&&i.size>e.maxFileSize||e.fileTypes&&!e.fileTypes.test(i.type)||!c(i,function(e){e.src&&(t.img=e),r.resolveWith(n,[t])},e)?t:r.promise()},resizeImage:function(t,n){if(n.disabled||!t.canvas&&!t.img)return t;n=u.extend({canvas:!0},n);var e,i,r=this,o=u.Deferred(),a=n.canvas&&t.canvas||t.img,s=function(e){e&&(e.width!==a.width||e.height!==a.height||n.forceResize)&&(t[e.getContext?"canvas":"img"]=e),t.preview=e,o.resolveWith(r,[t])};return t.exif&&n.thumbnail&&(i=(e=t.exif.get("Thumbnail"))&&e.get("Blob"))?(n.orientation=t.exif.get("Orientation"),c(i,s,n),o.promise()):(t.orientation?delete n.orientation:t.orientation=n.orientation||c.orientation,a?(s(c.scale(a,n,t)),o.promise()):t)},saveImage:function(t,e){if(!t.canvas||e.disabled)return t;var n=this,i=t.files[t.index],r=u.Deferred();return t.canvas.toBlob?(t.canvas.toBlob(function(e){e.name||(i.type===e.type?e.name=i.name:i.name&&(e.name=i.name.replace(/\.\w+$/,"."+e.type.substr(6)))),i.type!==e.type&&delete t.imageHead,t.files[t.index]=e,r.resolveWith(n,[t])},e.type||i.type,e.quality),r.promise()):t},loadImageMetaData:function(t,e){if(e.disabled)return t;var n=this,i=u.Deferred();return c.parseMetaData(t.files[t.index],function(e){u.extend(t,e),i.resolveWith(n,[t])},e),i.promise()},saveImageMetaData:function(t,e){if(!(t.imageHead&&t.canvas&&t.canvas.toBlob)||e.disabled)return t;var n=this,i=t.files[t.index],r=u.Deferred();return!0===t.orientation&&t.exifOffsets&&c.writeExifData(t.imageHead,t,"Orientation",1),c.replaceHead(i,t.imageHead,function(e){e.name=i.name,t.files[t.index]=e,r.resolveWith(n,[t])}),r.promise()},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload-process")):e(window.jQuery)}(function(a){"use strict";a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,t){if(t.disabled)return e;var n,i=a.Deferred(),r=this.options,o=e.files[e.index];return(t.minFileSize||t.maxFileSize)&&(n=o.size),"number"===a.type(t.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+e.files.length>t.maxNumberOfFiles?o.error=r.i18n("maxNumberOfFiles"):!t.acceptFileTypes||t.acceptFileTypes.test(o.type)||t.acceptFileTypes.test(o.name)?n>t.maxFileSize?o.error=r.i18n("maxFileSize"):"number"===a.type(n)&&n<t.minFileSize?o.error=r.i18n("minFileSize"):delete o.error:o.error=r.i18n("acceptFileTypes"),o.error||e.files.error?(e.files.error=!0,i.rejectWith(this,[e])):i.resolveWith(this,[e]),i.promise()}}})}),window.kojqui={version:"2.2.4"},function(e,t){"use strict";e.kojqui.utils=function(e,n){var t,i,r,o,a;i=(t=(e.ui.version||"").match(/^(\d)\.(\d+)/))?{major:parseInt(t[1],10),minor:parseInt(t[2],10)}:null;return r=["foreach","if","ifnot","with","html","text","options"],o=Object.create||function(e){function t(){}return t.prototype=e,new t},a=function(e){var t=new e;n.bindingHandlers[t.widgetName]={after:n.utils.arrayGetDistinctValues(r.concat(t.after||[])),init:t.init.bind(t),update:t.update.bind(t)}},{uiVersion:i,descendantControllingBindings:r,createObject:o,register:a}}(e.jQuery,e.ko,e.jQuery.ui.core)}(this),function(e,t){"use strict";e.kojqui.BindingHandler=function(l,f,d){var h,p,m,e;return h="__kojqui_options",p=function(t,e){var n={};return f.utils.arrayForEach(e,function(e){void 0!==t[e]&&(n[e]=f.utils.unwrapObservable(t[e]))}),n},m=function(e,t,n){f.isObservable(n.refreshOn)&&f.computed({read:function(){n.refreshOn(),l(t)[e]("refresh")},disposeWhenNodeIsRemoved:t})},(e=function(e){this.widgetName=e,this.widgetEventPrefix=e,this.options=[],this.events=[],this.after=[],this.hasRefresh=!1}).prototype.init=function(e,t,n,i,r){var o,a,s,u,c;return o=this.widgetName,a=t(),s=p(a,this.options),u=p(a,this.events),(c=!f.utils.arrayFirst(d.descendantControllingBindings,function(e){return this.hasOwnProperty(e)},n()))&&f.applyBindingsToDescendants(r,e),f.utils.domData.set(e,h,s),l.each(u,function(e,t){u[e]=t.bind(i)}),l(e)[o](f.utils.extend(s,u)),this.hasRefresh&&m(o,e,a),f.isWriteableObservable(a.widget)&&a.widget(l(e)),f.utils.domNodeDisposal.addDisposeCallback(e,function(){l(e)[o]("destroy")}),{controlsDescendantBindings:c}},e.prototype.update=function(n,e){var i,t,r,o;i=this.widgetName,t=e(),r=f.utils.domData.get(n,h),o=p(t,this.options),l.each(o,function(e,t){t!==r[e]&&l(n)[i]("option",e,o[e])}),f.utils.domData.set(n,h,o)},e.prototype.on=function(e,t,n){var i;i=[(i=t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),".",this.widgetName].join(""),l(e).on(i,n),f.utils.domNodeDisposal.addDisposeCallback(e,function(){l(e).off(i)})},e}(e.jQuery,e.ko,e.kojqui.utils,e.jQuery.ui.widget)}(this),function(e,t){"use strict";e.kojqui.Accordion=function(o,a,e,s){var t=function(){s.call(this,"accordion"),1===e.uiVersion.major&&8===e.uiVersion.minor?(this.options=["active","animated","autoHeight","clearStyle","collapsible","disabled","event","fillSpace","header","icons","navigation","navigationFilter"],this.events=["change","changestart","create"],this.hasRefresh=!1,this.eventToWatch="change"):(this.options=["active","animate","collapsible","disabled","event","header","heightStyle","icons"],this.events=["activate","beforeActivate","create"],this.hasRefresh=!0,this.eventToWatch="activate")};return((t.prototype=e.createObject(s.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;return n=this.widgetName,i=t(),r=s.prototype.init.apply(this,arguments),a.isWriteableObservable(i.active)&&this.on(e,this.eventToWatch,function(){i.active(o(e)[n]("option","active"))}),r},e.register(t),t}(e.jQuery,e.ko,e.kojqui.utils,e.kojqui.BindingHandler,e.jQuery.ui.accordion)}(this),function(e,t){"use strict";e.kojqui.Autocomplete=function(e,t){var n=function(){e.call(this,"autocomplete"),this.options=["appendTo","autoFocus","delay","disabled","minLength","position","source"],1===t.uiVersion.major&&8===t.uiVersion.minor?this.events=["change","close","create","focus","open","search","select"]:(this.options.push("messages"),this.events=["change","close","create","focus","open","response","search","select"])};return(n.prototype=t.createObject(e.prototype)).constructor=n,t.register(n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.autocomplete)}(this),function(e,t){"use strict";e.kojqui.Button=function(e,t){var n=function(){e.call(this,"button"),this.options=["disabled","icons","label","text"],this.events=["create"],this.hasRefresh=!0};return(n.prototype=t.createObject(e.prototype)).constructor=n,t.register(n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.button)}(this),function(e,t){"use strict";e.kojqui.Buttonset=function(e,t){var n=function(){e.call(this,"buttonset"),this.options=["items","disabled"],this.events=["create"],this.hasRefresh=!0};return(n.prototype=t.createObject(e.prototype)).constructor=n,t.register(n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.button)}(this),function(e,t){"use strict";e.kojqui.Datepicker=function(u,c,l,e){var t=function(){l.call(this,"datepicker"),this.options=["altField","altFormat","appendText","autoSize","buttonImage","buttonImageOnly","buttonText","calculateWeek","changeMonth","changeYear","closeText","constrainInput","currentText","dateFormat","dayNames","dayNamesMin","dayNamesShort","defaultDate","duration","firstDay","gotoCurrent","hideIfNoPrevNext","isRTL","maxDate","minDate","monthNames","monthNamesShort","navigationAsDateFormat","nextText","numberOfMonths","prevText","selectOtherMonths","shortYearCutoff","showAnim","showButtonPanel","showCurrentAtPos","showMonthAfterYear","showOn","showOptions","showOtherMonths","showWeek","stepMonths","weekHeader","yearRange","yearSuffix","beforeShow","beforeShowDay","onChangeMonthYear","onClose","onSelect"],this.hasRefresh=!0};return((t.prototype=e.createObject(l.prototype)).constructor=t).prototype.init=function(i,e){var t,r,o,n,a,s;return t=l.prototype.init.apply(this,arguments),r=this.widgetName,o=e(),(n=c.utils.unwrapObservable(o.value))&&u(i)[r]("setDate",n),c.isObservable(o.value)&&(a=o.value.subscribe(function(e){u(i)[r]("setDate",e)}),c.utils.domNodeDisposal.addDisposeCallback(i,function(){a.dispose()})),c.isWriteableObservable(o.value)&&(s=u(i)[r]("option","onSelect"),u(i)[r]("option","onSelect",function(e){var t,n;t=u(i)[r]("option","dateFormat"),n=u.datepicker.parseDate(t,e),o.value(n),"function"==typeof s&&s.apply(this,Array.prototype.slice.call(arguments))})),t},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.datepicker)}(this),function(e,t){"use strict";e.kojqui.Dialog=function(o,a,s,e){var t=function(){s.call(this,"dialog"),1===e.uiVersion.major&&8===e.uiVersion.minor?this.options=["autoOpen","buttons","closeOnEscape","closeText","dialogClass","disabled","draggable","height","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","stack","title","width","zIndex"]:1===e.uiVersion.major&&9===e.uiVersion.minor?this.options=["autoOpen","buttons","closeOnEscape","closeText","dialogClass","draggable","height","hide","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","stack","title","width","zIndex"]:this.options=["appendTo","autoOpen","buttons","closeOnEscape","closeText","dialogClass","draggable","height","hide","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","title","width"],this.events=["beforeClose","create","open","focus","dragStart","drag","dragStop","resizeStart","resize","resizeStop","close"]};return((t.prototype=e.createObject(s.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;return(n=document.createElement("DIV")).style.display="none",e.parentNode.insertBefore(n,e),a.utils.domNodeDisposal.addDisposeCallback(n,function(){a.removeNode(e)}),i=s.prototype.init.apply(this,arguments),(r=t()).isOpen&&a.computed({read:function(){a.utils.unwrapObservable(r.isOpen)?o(e)[this.widgetName]("open"):o(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this}),a.isWriteableObservable(r.isOpen)&&(this.on(e,"open",function(){r.isOpen(!0)}),this.on(e,"close",function(){r.isOpen(!1)})),a.isWriteableObservable(r.width)&&this.on(e,"resizestop",function(e,t){r.width(Math.round(t.size.width))}),a.isWriteableObservable(r.height)&&this.on(e,"resizestop",function(e,t){r.height(Math.round(t.size.height))}),i},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.dialog)}(this),function(e,t){"use strict";e.kojqui.Menu=function(e,t){var n=function(){e.call(this,"menu"),1===t.uiVersion.major&&t.uiVersion.minor<11?this.options=["disabled","icons","menus","position","role"]:this.options=["disabled","icons","items","menus","position","role"],this.events=["blur","create","focus","select"],this.hasRefresh=!0};return(n.prototype=t.createObject(e.prototype)).constructor=n,t.register(n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.menu)}(this),function(e,t){"use strict";e.kojqui.Progressbar=function(e,t){var n=function(){e.call(this,"progressbar"),this.events=["change","create","complete"],this.hasRefresh=!0,1===t.uiVersion.major&&8===t.uiVersion.minor?this.options=["disabled","value"]:this.options=["disabled","max","value"]};return(n.prototype=t.createObject(e.prototype)).constructor=n,t.register(n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.progressbar)}(this),function(e,t){"use strict";e.kojqui.Selectmenu=function(r,o,a,e){var t;return"__kojqui_selectmenu_value",(((t=function(){a.call(this,"selectmenu"),this.after=["value"],this.options=["appendTo","disabled","icons","position","width"],this.events=["change","close","create","focus","open","select"],this.hasRefresh=!0}).prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i;return n=t(),i=a.prototype.init.apply(this,arguments),n.hasOwnProperty("isOpen")&&o.computed({read:function(){o.utils.unwrapObservable(n.isOpen)?r(e)[this.widgetName]("open"):r(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this}),o.isWriteableObservable(n.isOpen)&&(this.on(e,"open",function(){n.isOpen(!0)}),this.on(e,"close",function(){n.isOpen(!1)})),this.on(e,"change",function(){r(e).trigger("change")}),i},t.prototype.update=function(e,t,n){a.prototype.update.apply(this,arguments),n().hasOwnProperty("value")&&o.utils.domData.get(e,"__kojqui_selectmenu_value")!==o.utils.unwrapObservable(n().value)&&r(e).selectmenu("refresh")},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.selectmenu)}(this),function(e,t){"use strict";e.kojqui.Slider=function(o,a,s,e){var u,t;return u="__kojqui_options",(((t=function(){s.call(this,"slider"),this.widgetEventPrefix="slide",this.options=["animate","disabled","max","min","orientation","range","step","value","values"],this.events=["create","start","slide","change","stop"]}).prototype=e.createObject(s.prototype)).constructor=t).prototype.init=function(n,e){var t,i,r;return t=s.prototype.init.apply(this,arguments),r=(i=e()).realtime?"slide":"change",a.isWriteableObservable(i.value)&&this.on(n,r,function(e,t){0===o(n).find(".ui-slider-handle").index(t.handle)&&(a.utils.domData.get(n,u).value=t.value,i.value(t.value))}),a.isWriteableObservable(i.values)&&this.on(n,r,function(e,t){a.utils.domData.get(n,u).value=t.values,i.values(t.values)}),t},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.slider)}(this),function(e,t){"use strict";e.kojqui.Spinner=function(o,a,s,e){var t=function(){s.call(this,"spinner"),this.widgetEventPrefix="spin",this.options=["culture","disabled","icons","incremental","max","min","numberFormat","page","step"],this.events=["create","start","spin","stop","change"]};return((t.prototype=e.createObject(s.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;return n=s.prototype.init.apply(this,arguments),i=this.widgetName,(r=t()).value&&a.computed({read:function(){o(e)[i]("value",a.utils.unwrapObservable(r.value))},disposeWhenNodeIsRemoved:e}),a.isWriteableObservable(r.value)&&(this.on(e,"spin",function(e,t){r.value(t.value)}),this.on(e,"change",function(){r.value(o(e)[i]("value"))})),n},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.spinner)}(this),function(e,t){"use strict";e.kojqui.Tabs=function(r,t,i,e){var o,a,n;return o=function(n,e){var i=e();t.isWriteableObservable(i.selected)&&this.on(n,"show",function(e,t){r(n)[0]===e.target&&i.selected(t.index)})},a=function(n,e){var i=e();t.isWriteableObservable(i.active)&&this.on(n,"activate",function(e,t){r(n)[0]===e.target&&i.active(t.newTab.index())})},(((n=function(){i.call(this,"tabs"),this.version=e.uiVersion,1===this.version.major&&8===this.version.minor?(this.options=["ajaxOptions","cache","collapsible","cookie","disabled","event","fx","idPrefix","panelTemplate","selected","spinner","tabTemplate"],this.events=["add","create","disable","enable","load","remove","select","show"],this.hasRefresh=!1):(this.options=["active","collapsible","disabled","event","heightStyle","hide","show"],this.events=["activate","beforeActivate","beforeLoad","create","load"],this.hasRefresh=!0)}).prototype=e.createObject(i.prototype)).constructor=n).prototype.init=function(e,t){var n=i.prototype.init.apply(this,arguments);return 1===this.version.major&&8===this.version.minor?o.call(this,e,t):a.call(this,e,t),n},e.register(n),n}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.tabs)}(this),function(e,t){"use strict";e.kojqui.Tooltip=function(r,o,a,e){var t=function(){a.call(this,"tooltip"),this.options=["content","disabled","hide","items","position","show","tooltipClass","track"],this.events=["create","open","close"]};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i;return n=t(),i=a.prototype.init.apply(this,arguments),n.isOpen&&o.computed({read:function(){o.utils.unwrapObservable(n.isOpen)?r(e)[this.widgetName]("open"):r(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this}),o.isWriteableObservable(n.isOpen)&&(this.on(e,"open",function(){n.isOpen(!0)}),this.on(e,"close",function(){n.isOpen(!1)})),i},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.tooltip)}(this),function(){"use strict";var i=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return{eq:e}},u=o(function(e,t){return e===t}),r=function(r){return o(function(e,t){if(e.length!==t.length)return!1;for(var n=e.length,i=0;i<n;i++)if(!r.eq(e[i],t[i]))return!1;return!0})},c=function(e,t){return function(n,i){return o(function(e,t){return n.eq(i(e),i(t))})}(r(e),function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)})},a=function(s){return o(function(e,t){var n=Object.keys(e),i=Object.keys(t);if(!c(u).eq(n,i))return!1;for(var r=n.length,o=0;o<r;o++){var a=n[o];if(!s.eq(e[a],t[a]))return!1}return!0})},s=o(function(e,t){if(e===t)return!0;var n=i(e);return n===i(t)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(n)?e===t:"array"===n?r(s).eq(e,t):"object"===n&&a(s).eq(e,t))}),q=function(){},l=function(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(i.apply(null,e))}},y=function(e){return function(){return e}},t=function(e){return e};function _(i){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.concat(e);return i.apply(null,n)}}var e,n,f,d=function(t){return function(e){return!t(e)}},h=function(e){return function(){throw new Error(e)}},p=function(e){return e()},m=function(e){e()},g=y(!1),v=y(!0),b=function(){return w},w=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:g,isSome:g,isNone:v,getOr:f=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:f,orThunk:n,map:b,each:q,bind:b,exists:g,forall:v,filter:b,equals:e,equals_:e,toArray:function(){return[]},toString:y("none()")}),x=function(n){var e=y(n),t=function(){return r},i=function(e){return e(n)},r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:v,isNone:g,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return x(e(n))},each:function(e){e(n)},bind:i,exists:i,forall:i,filter:function(e){return e(n)?r:w},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(g,function(e){return t(n,e)})}};return r},C={some:x,none:b,from:function(e){return null==e?w:x(e)}},k=function(t){return function(e){return function(e){var t=typeof e;return null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===t}},S=function(t){return function(e){return typeof e===t}},D=function(t){return function(e){return t===e}},W=k("string"),T=k("object"),E=k("array"),N=D(null),A=S("boolean"),O=D(void 0),U=function(e){return null==e},V=function(e){return!U(e)},P=S("function"),I=S("number"),R=Array.prototype.slice,L=Array.prototype.indexOf,M=Array.prototype.push,B=function(e,t){return L.call(e,t)},j=function(e,t){return-1<B(e,t)},F=function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n))return!0}return!1},H=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},$=function(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n)}},z=function(e,t){for(var n=e.length-1;0<=n;n--){t(e[n],n)}},Y=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},Q=function(e,t,n){return z(e,function(e){n=t(n,e)}),n},K=function(e,t,n){return $(e,function(e){n=t(n,e)}),n},X=function(e,t){return function(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(t(o,i))return C.some(o);if(n(o,i))break}return C.none()}(e,t,g)},G=function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n))return C.some(n)}return C.none()},J=function(e,t){return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!E(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);M.apply(t,e[n])}return t}(H(e,t))},Z=function(e,t){for(var n=0,i=e.length;n<i;++n){if(!0!==t(e[n],n))return!1}return!0},ee=function(e){var t=R.call(e,0);return t.reverse(),t},te=function(e,t){return Y(e,function(e){return!j(t,e)})},ne=function(e,t){return 0<=t&&t<e.length?C.some(e[t]):C.none()},ie=function(e){return ne(e,0)},re=function(e){return ne(e,e.length-1)},oe=P(Array.from)?Array.from:function(e){return R.call(e)},ae=Object.keys,se=Object.hasOwnProperty,ue=function(e,t){for(var n=ae(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},ce=function(e,n){return le(e,function(e,t){return{k:t,v:n(e,t)}})},le=function(e,i){var r={};return ue(e,function(e,t){var n=i(e,t);r[n.k]=n.v}),r},fe=function(n){return function(e,t){n[t]=e}},de=function(e,n,i,r){return ue(e,function(e,t){(n(e,t)?i:r)(e,t)}),{}},he=function(e,t){var n={},i={};return de(e,t,fe(n),fe(i)),{t:n,f:i}},pe=function(e,t){var n={};return de(e,t,fe(n),q),n},me=function(e){return function(e,n){var i=[];return ue(e,function(e,t){i.push(n(e,t))}),i}(e,function(e){return e})},ge=function(e,t){return ve(e,t)?C.from(e[t]):C.none()},ve=function(e,t){return se.call(e,t)},be=function(e,t){return ve(e,t)&&void 0!==e[t]&&null!==e[t]},ye=Array.isArray,_e=function(e,t,n){var i,r;if(!e)return!1;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return!1}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return!1;return!0},we=function(n,i){var r=[];return _e(n,function(e,t){r.push(i(e,t,n))}),r},xe=function(n,i){var r=[];return _e(n,function(e,t){i&&!i(e,t,n)||r.push(e)}),r},Ce=function(e,t){if(e)for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ke=function(e,t,n,i){for(var r=O(n)?e[0]:n,o=0;o<e.length;o++)r=t.call(i,r,e[o],o);return r},Se=function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1},De=function(e){return e[e.length-1]},Te=function(){return(Te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ee(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var Ne,Ae,Oe,Pe,Ie,Re,Le=function(){return Me(0,0)},Me=function(e,t){return{major:e,minor:t}},Be={nu:Me,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Le():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return Me(i(1),i(2))}(e,n)},unknown:Le},je=function(e,t){var n=String(t).toLowerCase();return X(e,function(e){return e.search(n)})},Fe=function(e,n){return je(e,n).map(function(e){var t=Be.detect(e.versionRegexes,n);return{current:e.name,version:t}})},He=function(e,n){return je(e,n).map(function(e){var t=Be.detect(e.versionRegexes,n);return{current:e.name,version:t}})},ze=function(e,t){return-1!==e.indexOf(t)},qe=function(e,t){return function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(e,t,0)},We=function(t){return function(e){return e.replace(t,"")}},Ue=We(/^\s+|\s+$/g),Ve=We(/^\s+/g),$e=We(/\s+$/g),Ye=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qe=function(t){return function(e){return ze(e,t)}},Ke=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ze(e,"edge/")&&ze(e,"chrome")&&ze(e,"safari")&&ze(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ye],search:function(e){return ze(e,"chrome")&&!ze(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ze(e,"msie")||ze(e,"trident")}},{name:"Opera",versionRegexes:[Ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qe("firefox")},{name:"Safari",versionRegexes:[Ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ze(e,"safari")||ze(e,"mobile/"))&&ze(e,"applewebkit")}}],Xe=[{name:"Windows",search:Qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ze(e,"iphone")||ze(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qe("linux"),versionRegexes:[]},{name:"Solaris",search:Qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ge={browsers:y(Ke),oses:y(Xe)},Je=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:i("Edge"),isChrome:i("Chrome"),isIE:i("IE"),isOpera:i("Opera"),isFirefox:i("Firefox"),isSafari:i("Safari")}},Ze={unknown:function(){return Je({current:void 0,version:Be.unknown()})},nu:Je,edge:y("Edge"),chrome:y("Chrome"),ie:y("IE"),opera:y("Opera"),firefox:y("Firefox"),safari:y("Safari")},et=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:i("Windows"),isiOS:i("iOS"),isAndroid:i("Android"),isOSX:i("OSX"),isLinux:i("Linux"),isSolaris:i("Solaris"),isFreeBSD:i("FreeBSD"),isChromeOS:i("ChromeOS")}},tt={unknown:function(){return et({current:void 0,version:Be.unknown()})},nu:et,windows:y("Windows"),ios:y("iOS"),android:y("Android"),linux:y("Linux"),osx:y("OSX"),solaris:y("Solaris"),freebsd:y("FreeBSD"),chromeos:y("ChromeOS")},nt=function(e,t){var n=Ge.browsers(),i=Ge.oses(),r=Fe(n,e).fold(Ze.unknown,Ze.nu),o=He(i,e).fold(tt.unknown,tt.nu);return{browser:r,os:o,deviceType:function(e,t,n,i){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||i("(pointer:coarse)"),u=r||!o&&a&&i("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!l;return{isiPad:y(r),isiPhone:y(o),isTablet:y(u),isPhone:y(c),isTouch:y(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(l),isDesktop:y(f)}}(o,r,e,t)}},it=function(e){return window.matchMedia(e).matches},rt=(Oe=!(Ne=function(){return nt(navigator.userAgent,it)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oe||(Oe=!0,Ae=Ne.apply(null,e)),Ae}),ot=function(){return rt()},at=navigator.userAgent,st=ot(),ut=st.browser,ct=st.os,lt=st.deviceType,ft=/WebKit/.test(at)&&!ut.isEdge(),dt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ht=-1!==at.indexOf("Windows Phone"),pt={opera:ut.isOpera(),webkit:ft,ie:!(!ut.isIE()&&!ut.isEdge())&&ut.version.major,gecko:ut.isFirefox(),mac:ct.isOSX()||ct.isiOS(),iOS:lt.isiPad()||lt.isiPhone(),android:ct.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:ut.isIE()?document.documentMode||7:10,fileApi:dt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!ut.isIE(),desktop:lt.isDesktop(),windowsPhone:ht,browser:{current:ut.current,version:ut.version,isChrome:ut.isChrome,isEdge:ut.isEdge,isFirefox:ut.isFirefox,isIE:ut.isIE,isOpera:ut.isOpera,isSafari:ut.isSafari},os:{current:ct.current,version:ct.version,isAndroid:ct.isAndroid,isChromeOS:ct.isChromeOS,isFreeBSD:ct.isFreeBSD,isiOS:ct.isiOS,isLinux:ct.isLinux,isOSX:ct.isOSX,isSolaris:ct.isSolaris,isWindows:ct.isWindows},deviceType:{isDesktop:lt.isDesktop,isiPad:lt.isiPad,isiPhone:lt.isiPhone,isPhone:lt.isPhone,isTablet:lt.isTablet,isTouch:lt.isTouch,isWebView:lt.isWebView}},mt=/^\s*|\s*$/g,gt=function(e){return null==e?"":(""+e).replace(mt,"")},vt=function(e,t){return t?!("array"!==t||!ye(e))||typeof e===t:void 0!==e},bt=function(e,n,i,r){r=r||this,e&&(i&&(e=e[i]),_e(e,function(e,t){if(!1===n.call(r,e,t,i))return!1;bt(e,n,i,r)}))},yt={trim:gt,isArray:ye,is:vt,toArray:function(e){if(ye(e))return e;for(var t=[],n=0,i=e.length;n<i;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:_e,map:we,grep:xe,inArray:Ce,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++){var r=t[i];for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];void 0!==a&&(e[o]=a)}}return e},create:function(e,t,n){var i,r,o,a=0,s=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],u=this.createNS(e[3].replace(/\.\w+$/,""),n);if(!u[s]){if("static"===e[2])return u[s]=t,void(this.onCreate&&this.onCreate(e[2],e[3],u[s]));t[s]||(t[s]=q,a=1),u[s]=t[s],this.extend(u[s].prototype,t),e[5]&&(i=this.resolve(e[5]).prototype,r=e[5].match(/\.(\w+)$/i)[1],o=u[s],u[s]=a?function(){return i[r].apply(this,arguments)}:function(){return this.parent=i[r],o.apply(this,arguments)},u[s].prototype[s]=u[s],this.each(i,function(e,t){u[s].prototype[t]=i[t]}),this.each(t,function(e,t){i[t]?u[s].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==s&&(u[s].prototype[t]=e)})),this.each(t.static,function(e,t){u[s][t]=e})}},walk:bt,createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||vt(e,"array")?e:we(e.split(t||","),gt)},_addCacheSuffix:function(e){var t=pt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},_t=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},wt={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return _t(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return _t(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return _t(n)},fromDom:_t,fromPoint:function(e,t,n){return C.from(e.dom.elementFromPoint(t,n)).map(_t)}},xt=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},Ct=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},kt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},St=function(e,t){return e.dom===t.dom},Dt=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom,t.dom)},Tt=function(e,t){return ot().browser.isIE()?Dt(e,t):function(e,t){var n=e.dom,i=t.dom;return n!==i&&n.contains(i)}(e,t)},Et=("undefined"!=typeof window?window:Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),Nt=function(e){return e.dom.nodeType},At=function(t){return function(e){return Nt(e)===t}},Ot=At(1),Pt=At(3),It=At(9),Rt=At(11),Lt=function(e){return wt.fromDom(e.dom.ownerDocument)},Mt=function(e){return It(e)?e:Lt(e)},Bt=function(e){return wt.fromDom(Mt(e).dom.defaultView)},jt=function(e){return C.from(e.dom.parentNode).map(wt.fromDom)},Ft=function(e){return C.from(e.dom.previousSibling).map(wt.fromDom)},Ht=function(e){return C.from(e.dom.nextSibling).map(wt.fromDom)},zt=function(e){return ee(xt(e,Ft))},qt=function(e){return xt(e,Ht)},Wt=function(e){return H(e.dom.childNodes,wt.fromDom)},Ut=function(e,t){var n=e.dom.childNodes;return C.from(n[t]).map(wt.fromDom)},Vt=function(e){return Ut(e,0)},$t=function(e){return Ut(e,e.dom.childNodes.length-1)},Yt=function(e){return Rt(e)&&V(e.dom.host)},Qt=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),Kt=y(Qt),Xt=Qt?function(e){return wt.fromDom(e.dom.getRootNode())}:Mt,Gt=function(e){return Yt(e)?e:function(e){var t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return wt.fromDom(t)}(Mt(e))},Jt=function(e){return wt.fromDom(e.dom.host)},Zt=function(e){return V(e.dom.shadowRoot)},en=function(t,n){jt(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})},tn=function(e,t){Ht(e).fold(function(){jt(e).each(function(e){rn(e,t)})},function(e){en(e,t)})},nn=function(t,n){Vt(t).fold(function(){rn(t,n)},function(e){t.dom.insertBefore(n.dom,e.dom)})},rn=function(e,t){e.dom.appendChild(t.dom)},on=function(t,e){$(e,function(e){rn(t,e)})},an=function(e){e.dom.textContent="",$(Wt(e),function(e){sn(e)})},sn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},un=function(e){var t=Wt(e);0<t.length&&function(t,e){$(e,function(e){en(t,e)})}(e,t),sn(e)},cn=function(e){var t=Pt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return function(e){var t=Xt(e);return Yt(t)?C.some(t):C.none()}(wt.fromDom(t)).fold(function(){return n.body.contains(t)},function(t,n){return function(e){return t(n(e))}}(cn,Jt))},ln=function(n,i){return{left:n,top:i,translate:function(e,t){return ln(n+e,i+t)}}},fn=ln,dn=function(e,t){return void 0!==e?e:void 0!==t?t:0},hn=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?fn(n.offsetLeft,n.offsetTop):cn(e)?function(e){var t=e.getBoundingClientRect();return fn(t.left,t.top)}(t):fn(0,0)},pn=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return fn(n,i)},mn=function(e,t,n){var i=(void 0!==n?n.dom:document).defaultView;i&&i.scrollTo(e,t)},gn=function(e,t){ot().browser.isSafari()&&P(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},vn=function(e,t,n,i){return{x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}},bn=function(e){var i=void 0===e?window:e,t=i.document,r=pn(wt.fromDom(t));return function(e){var t=void 0===e?window:e;return C.from(t.visualViewport)}(i).fold(function(){var e=i.document.documentElement,t=e.clientWidth,n=e.clientHeight;return vn(r.left,r.top,t,n)},function(e){return vn(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)})},yn=function(t){return function(e){return!!e&&e.nodeType===t}},_n=function(e){return!!e&&!Object.getPrototypeOf(e)},wn=yn(1),xn=function(e){var n=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return j(n,t)}return!1}},Cn=function(i,e){var r=e.toLowerCase().split(" ");return function(e){var t;if(wn(e))for(t=0;t<r.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(i):null)===r[t])return!0}return!1}},kn=function(t){return function(e){return wn(e)&&e.hasAttribute(t)}},Sn=function(e){return wn(e)&&e.hasAttribute("data-mce-bogus")},Dn=function(e){return wn(e)&&"TABLE"===e.tagName},Tn=function(t){return function(e){if(wn(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},En=xn(["textarea","input"]),Nn=yn(3),An=yn(8),On=yn(9),Pn=yn(11),In=xn(["br"]),Rn=xn(["img"]),Ln=Tn("true"),Mn=Tn("false"),Bn=xn(["td","th"]),jn=xn(["video","audio","object","embed"]),Fn=function(e){return void 0!==e.style&&P(e.style.getPropertyValue)},Hn=function(e,t,n){if(!(W(n)||A(n)||I(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},zn=function(e,t,n){Hn(e.dom,t,n)},qn=function(e,t){var n=e.dom;ue(t,function(e,t){Hn(n,t,e)})},Wn=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Un=function(e,t){return C.from(Wn(e,t))},Vn=function(e,t){e.dom.removeAttribute(t)},$n=function(e,t){var n=e.dom;ue(t,function(e,t){!function(e,t,n){if(!W(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Fn(e)&&e.style.setProperty(t,n)}(n,t,e)})},Yn=function(e,t){var n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return""!==i||cn(e)?i:Qn(n,t)},Qn=function(e,t){return Fn(e)?e.style.getPropertyValue(t):""},Kn=function(e,t){var n=e.dom,i=Qn(n,t);return C.from(i).filter(function(e){return 0<e.length})},Xn=function(e){var t={},n=e.dom;if(Fn(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t},Gn=ot().browser,Jn=function(e){return X(e,Ot)},Zn=function(e,t){return e.children&&j(e.children,t)},ei=function(e,t,n){var i,r,o=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Yn(wt.fromDom(e),"position"))return{x:o=(r=t.getBoundingClientRect()).left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,y:a=r.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType&&!Zn(i,n);)o+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType&&!Zn(i,n);)o-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=function(e){return Gn.isFirefox()&&"table"===Et(e)?Jn(Wt(e)).filter(function(e){return"caption"===Et(e)}).bind(function(r){return Jn(qt(r)).map(function(e){var t=e.dom.offsetTop,n=r.dom.offsetTop,i=r.dom.offsetHeight;return t<=n?-i:0})}).getOr(0):0}(wt.fromDom(t))}return{x:o,y:a}},ti={},ni={exports:ti};Ie=ti,Re=ni,Pe=void 0,function(e){"object"==typeof Ie&&void 0!==Re?Re.exports=e():"function"==typeof Pe&&Pe.amd?Pe([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n=!1;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,o,a,s,u)}return s[t].exports}for(var l=!1,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,f,t){(function(n){!function(e){var t=setTimeout;function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(i.promise,e)}a(i.promise,t)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new c(e,t,n)),n},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(i,r){if(0===s.length)return i([]);var o=s.length;function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},r)}s[t]=e,0==--o&&i(s)}catch(e){r(e)}}for(var e=0;e<s.length;e++)a(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof n?function(e){n(e)}:function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==f&&f.exports?f.exports=o:e.Promise||(e.Promise=o)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(u,e,c){(function(e,t){var i=u("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,o={},a=0;function s(e,t){this._id=e,this._clearFn=t}c.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,i(function(){o[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var i=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var ii=ni.exports.boltExport,ri=function(e){var n=C.none(),t=[],i=function(e){r()?a(e):t.push(e)},r=function(){return n.isSome()},o=function(e){$(e,a)},a=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){r()||(n=C.some(e),o(t),t=[])}),{get:i,map:function(n){return ri(function(t){i(function(e){t(n(e))})})},isReady:r}},oi={nu:ri,pure:function(t){return ri(function(e){e(t)})}},ai=function(e){setTimeout(function(){throw e},0)},si=function(n){var e=function(e){n().then(e,ai)};return{map:function(e){return si(function(){return n().then(e)})},bind:function(t){return si(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return si(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return oi.nu(e)},toCached:function(){var e=null;return si(function(){return null===e&&(e=n()),e})},toPromise:n,get:e}},ui=function(e){return si(function(){return new ii(e)})},ci=function(o,e){return e(function(n){var i=[],r=0;0===o.length?n([]):$(o,function(e,t){e.get(function(t){return function(e){i[t]=e,++r>=o.length&&n(i)}}(t))})})},li=function(n){return{is:function(e){return n===e},isValue:v,isError:g,getOr:y(n),getOrThunk:y(n),getOrDie:y(n),or:function(e){return li(n)},orThunk:function(e){return li(n)},fold:function(e,t){return t(n)},map:function(e){return li(e(n))},mapError:function(e){return li(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return C.some(n)}}},fi=function(n){return{is:g,isValue:g,isError:v,getOr:t,getOrThunk:function(e){return e()},getOrDie:function(){return h(String(n))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return fi(n)},mapError:function(e){return fi(e(n))},each:q,bind:function(e){return fi(n)},exists:g,forall:v,toOptional:C.none}},di={value:li,error:fi,fromOption:function(e,t){return e.fold(function(){return fi(t)},li)}},hi=function(a){if(!E(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return $(a,function(e,i){var t=ae(e);if(1!==t.length)throw new Error("one and only one name per case");var r=t[0],o=e[r];if(void 0!==n[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!E(o))throw new Error("case arguments must be an array");s.push(r),n[r]=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t!==o.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+o.length+" ("+o+"), got "+t);return{fold:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[i].apply(null,n)},match:function(e){var t=ae(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!Z(s,function(e){return j(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[r].apply(null,n)},log:function(e){console.log(e,{constructors:s,constructor:r,params:n})}}}}),n},pi=(hi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(t,t)});function mi(e,t,n,i,r){return e(n,i)?C.some(n):P(r)&&r(n)?C.none():t(n,i,r)}var gi,vi,bi,yi,_i,wi,xi,Ci,ki,Si,Di,Ti,Ei,Ni,Ai,Oi,Pi,Ii,Ri,Li,Mi,Bi=function(e,t,n){for(var i=e.dom,r=P(n)?n:g;i.parentNode;){i=i.parentNode;var o=wt.fromDom(i);if(t(o))return C.some(o);if(r(o))break}return C.none()},ji=function(e,t,n){return mi(function(e,t){return t(e)},Bi,e,t,n)},Fi=function(e,t){return X(e.dom.childNodes,function(e){return t(wt.fromDom(e))}).map(wt.fromDom)},Hi=function(e,t,n){return Bi(e,function(e){return Ct(e,t)},n)},zi=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return kt(n)?C.none():C.from(n.querySelector(e)).map(wt.fromDom)}(t,e)},qi=function(e,t,n){return mi(function(e,t){return Ct(e,t)},Hi,e,t,n)},Wi=window.Promise?window.Promise:function(){var n=function(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.apply(i,e)}},i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(r,this),n(s,this))},e=o.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)};function a(n){var i=this;null!==this._state?e(function(){var e=i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(e){return void n.reject(e)}n.resolve(t)}else(i._state?n.resolve:n.reject)(i._value)}):this._deferreds.push(n)}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(r,this),n(s,this))}this._state=!0,this._value=e,u.call(this)}catch(e){s.call(this,e)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}var l=function(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}};return o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(n,i){var r=this;return new o(function(e,t){a.call(r,new c(n,i,e,t))})},o.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=Array.prototype.slice.call(1===e.length&&i(e[0])?e[0]:e);return new o(function(i,r){if(0===s.length)return i([]);for(var o=s.length,a=function(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},r)}s[t]=e,0==--o&&i(s)}catch(e){r(e)}},e=0;e<s.length;e++)a(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o}(),Ui=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Vi=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},$i=function(n,i){var r,e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(r),r=Ui(function(){n.apply(this,e)},i)};return e.stop=function(){clearTimeout(r)},e},Yi={requestAnimationFrame:function(e,t){gi?gi.then(e):gi=new Wi(function(e){t||(t=document.body),function(e,t){for(var n=window.requestAnimationFrame,i=["ms","moz","webkit"],r=0;r<i.length&&!n;r++)n=window[i[r]+"RequestAnimationFrame"];n||(n=function(e){window.setTimeout(e,0)}),n(e,t)}(e,t)}).then(e)},setTimeout:Ui,setInterval:Vi,setEditorTimeout:function(e,t,n){return Ui(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i=Vi(function(){e.removed?clearInterval(i):t()},n);return i},debounce:$i,throttle:$i,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},Qi=function(d,h){void 0===h&&(h={});var p=0,m={},g=wt.fromDom(d),v=Mt(g),b=h.maxLoadTime||5e3,n=function(e,t,n){var i,r=yt._addCacheSuffix(e),o=function(e){return ge(m,e).getOrThunk(function(){return{id:"mce-u"+p++,passed:[],failed:[],count:0}})}(r);(m[r]=o).count++;var a=function(e,t){for(var n=e.length;n--;)e[n]();o.status=t,o.passed=[],o.failed=[],i&&(i.onload=null,i.onerror=null,i=null)},s=function(){return a(o.passed,2)},u=function(){return a(o.failed,3)},c=function(){!function(e,t){e()||(Date.now()-f<b?Yi.setTimeout(t):u())}(function(){for(var e=d.styleSheets,t=e.length;t--;){var n=e[t].ownerNode;if(n&&n.id===i.id)return s(),!0}return!1},c)};if(t&&o.passed.push(t),n&&o.failed.push(n),1!==o.status)if(2!==o.status)if(3!==o.status){o.status=1;var l=wt.fromTag("link",v.dom);qn(l,{rel:"stylesheet",type:"text/css",id:o.id});var f=Date.now();h.contentCssCors&&zn(l,"crossOrigin","anonymous"),h.referrerPolicy&&zn(l,"referrerpolicy",h.referrerPolicy),(i=l.dom).onload=c,i.onerror=u,function(e){rn(Gt(g),e)}(l),zn(l,"href",r)}else u();else s()},t=function(t){return ui(function(e){n(t,l(e,y(di.value(t))),l(e,y(di.error(t))))})},i=function(e){var t=yt._addCacheSuffix(e);ge(m,t).each(function(e){0==--e.count&&(delete m[t],function(e){var t=Gt(g);zi(t,"#"+e).each(sn)}(e.id))})};return{load:n,loadAll:function(e,n,i){(function(e){return ci(e,ui)})(H(e,t)).get(function(e){var t=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r)?n:i).push(a)}return{pass:n,fail:i}}(e,function(e){return e.isValue()});0<t.fail.length?i(t.fail.map(pi)):n(t.pass.map(pi))})},unload:i,unloadAll:function(e){$(e,function(e){i(e)})},_setReferrerPolicy:function(e){h.referrerPolicy=e}}},Ki=(vi=new WeakMap,{forElement:function(e,t){var n=Xt(e).dom;return C.from(vi.get(n)).getOrThunk(function(){var e=Qi(n,t);return vi.set(n,e),e})}}),Xi=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!==this.rootNode){if(r=e[n])return r;for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(r=o[n])return r}}},e.prototype.findPreviousNode=function(e,t,n,i){var r,o,a;if(e){if(r=e[n],this.rootNode&&r===this.rootNode)return;if(r){if(!i)for(a=r[t];a;a=a[t])if(!a[t])return a;return r}if((o=e.parentNode)&&o!==this.rootNode)return o}},e}(),Gi=function(t){var n;return function(e){return(n=n||function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(t,v)).hasOwnProperty(Et(e))}},Ji=Gi(["h1","h2","h3","h4","h5","h6"]),Zi=Gi(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),er=function(e){return Ot(e)&&!Zi(e)},tr=function(e){return Ot(e)&&"br"===Et(e)},nr=Gi(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ir=Gi(["ul","ol","dl"]),rr=Gi(["li","dd","dt"]),or=Gi(["thead","tbody","tfoot"]),ar=Gi(["td","th"]),sr=Gi(["pre","script","textarea","style"]),ur="\ufeff",cr=ur,lr=function(e){return e===ur},fr=function(e){return e.replace(/\uFEFF/g,"")},dr=wn,hr=Nn,pr=function(e){return hr(e)&&(e=e.parentNode),dr(e)&&e.hasAttribute("data-mce-caret")},mr=function(e){return hr(e)&&lr(e.data)},gr=function(e){return pr(e)||mr(e)},vr=function(e){return e.firstChild!==e.lastChild||!In(e.firstChild)},br=function(e){var t=e.container();return!!Nn(t)&&(t.data.charAt(e.offset())===cr||e.isAtStart()&&mr(t.previousSibling))},yr=function(e){var t=e.container();return!!Nn(t)&&(t.data.charAt(e.offset()-1)===cr||e.isAtEnd()&&mr(t.nextSibling))},_r=function(e,t,n){var i=t.ownerDocument.createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}());var r=t.parentNode;return n?r.insertBefore(i,t):t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i),i},wr=function(e){return hr(e)&&e.data[0]===cr},xr=function(e){return hr(e)&&e.data[e.data.length-1]===cr},Cr=function(e){return e&&e.hasAttribute("data-mce-caret")?(function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Sn(n)&&n.parentNode.removeChild(n)}(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},kr=Ln,Sr=Mn,Dr=In,Tr=Nn,Er=xn(["script","style","textarea"]),Nr=xn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ar=xn(["table"]),Or=gr,Pr=function(e){return!Or(e)&&(Tr(e)?!Er(e.parentNode):Nr(e)||Dr(e)||Ar(e)||Ir(e))},Ir=function(e){return!1===function(e){return wn(e)&&"true"===e.getAttribute("unselectable")}(e)&&Sr(e)},Rr=function(e,t){return Pr(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Ir(e))return!1;if(kr(e))return!0}return!0}(e,t)},Lr=/^[ \t\r\n]*$/,Mr=function(e){return Lr.test(e)},Br=function(e,t){var n=wt.fromDom(t);return function(e,t,n){return Hi(e,t,n).isSome()}(wt.fromDom(e),"pre,code",_(St,n))},jr=function(e,t){return Pr(e)&&!1===function(e,t){return Nn(e)&&Mr(e.data)&&!1===Br(e,t)}(e,t)||function(e){return wn(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}(e)||Fr(e)},Fr=kn("data-mce-bookmark"),Hr=kn("data-mce-bogus"),zr=(bi="data-mce-bogus",yi="all",function(e){return wn(e)&&e.getAttribute(bi)===yi}),qr=function(e,t){return void 0===t&&(t=!0),function(e,t){var n,i=0;if(jr(e,e))return!1;if(!(n=e.firstChild))return!0;var r=new Xi(n,e);do{if(t){if(zr(n)){n=r.next(!0);continue}if(Hr(n)){n=r.next();continue}}if(In(n))i++,n=r.next();else{if(jr(n,e))return!1;n=r.next()}}while(n);return i<=1}(e.dom,t)},Wr=function(e,t){return V(e)&&(jr(e,t)||er(wt.fromDom(e)))},Ur=function(e){return function(e){return"span"===e.nodeName.toLowerCase()}(e)&&"bookmark"===e.getAttribute("data-mce-type")},Vr=function(e,t){return Nn(e)&&0<e.data.length&&function(e,t){var n=new Xi(e,t).prev(!1),i=new Xi(e,t).next(!1),r=O(n)||Wr(n,t),o=O(i)||Wr(i,t);return r&&o}(e,t)},$r=function(e,t,n){var i=n||t;if(wn(t)&&Ur(t))return t;for(var r=t.childNodes,o=r.length-1;0<=o;o--)$r(e,r[o],i);if(wn(t)){var a=t.childNodes;1===a.length&&Ur(a[0])&&t.parentNode.insertBefore(a[0],t)}return function(e){return Pn(e)||On(e)}(t)||jr(t,i)||function(e){return!!wn(e)&&0<e.childNodes.length}(t)||Vr(t,i)||e.remove(t),t},Yr=yt.makeMap,Qr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xr=/[<>&\"\']/g,Gr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Jr={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},Zr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},eo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},to=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),Zr[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}},no=to("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),io=function(e,t){return e.replace(t?Qr:Kr,function(e){return Zr[e]||e})},ro=function(e,t){return e.replace(t?Qr:Kr,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Zr[e]||"&#"+e.charCodeAt(0)+";"})},oo=function(e,t,n){return n=n||no,e.replace(t?Qr:Kr,function(e){return Zr[e]||n[e]||e})},ao={encodeRaw:io,encodeAllRaw:function(e){return(""+e).replace(Xr,function(e){return Zr[e]||e})},encodeNumeric:ro,encodeNamed:oo,getEncodeFunc:function(e,t){var n=to(t)||no,i=Yr(e.replace(/\+/g,","));return i.named&&i.numeric?function(e,t){return e.replace(t?Qr:Kr,function(e){return void 0!==Zr[e]?Zr[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:i.named?t?function(e,t){return oo(e,t,n)}:oo:i.numeric?ro:io},decode:function(e){return e.replace(Gr,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Jr[t]||String.fromCharCode(t):eo[e]||no[e]||function(e){var t=wt.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e}(e)})}},so={},uo={},co=yt.makeMap,lo=yt.each,fo=yt.extend,ho=yt.explode,po=yt.inArray,mo=function(e,t){return(e=yt.trim(e))?e.split(t||" "):[]},go=function(e,n){var i;return e&&(i={},"string"==typeof e&&(e={"*":e}),lo(e,function(e,t){i[t]=i[t.toUpperCase()]="map"===n?co(e,/[, ]/):ho(e,/[, ]/)})),i},vo=function(o){var C={},s={},k=[],u={},t={},e=function(e,t,n){var i=o[e];return i?i=co(i,/[, ]/,co(i.toUpperCase(),/[, ]/)):(i=so[e])||(i=co(t," ",co(t.toUpperCase()," ")),i=fo(i,n),so[e]=i),i},n=function(e){var u,t,n,i,r,o,c={},a=function(e,t,n){var i,r,o,a=function(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r};t=t||"","string"==typeof(n=n||[])&&(n=mo(n));var s=mo(e);for(i=s.length;i--;)o={attributes:a(r=mo([u,t].join(" "))),attributesOrder:r,children:a(n,uo)},c[s[i]]=o},s=function(e,t){var n,i,r,o,a=mo(e);n=a.length;for(var s=mo(t);n--;)for(i=c[a[n]],r=0,o=s.length;r<o;r++)i.attributes[s[r]]={},i.attributesOrder.push(s[r])};return so[e]?so[e]:(u="id accesskey class dir lang style tabindex title role",t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(u+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",t+=" article aside details dialog figure main header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(u+=" xml:lang",n=[n,o="acronym applet basefont big font strike tt"].join(" "),lo(mo(o),function(e){a(e,"",n)}),t=[t,r="center dir isindex noframes"].join(" "),i=[t,n].join(" "),lo(mo(r),function(e){a(e,"",i)})),i=i||[t,n].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),a("address dt dd div caption","",i),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",i),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",i),a("dl","","dt dd"),a("a","href target rel media hreflang type",n),a("q","cite",n),a("ins del","cite datetime",i),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",i),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),a("param","name value"),a("map","name",[i,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",i),a("th","colspan rowspan headers scope abbr",i),a("form","accept-charset action autocomplete enctype method name novalidate target",i),a("fieldset","disabled form name",[i,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[i,"li"].join(" ")),a("noscript","",i),"html4"!==e&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",i),a("mark rt rp summary bdi","",n),a("canvas","width height",i),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside main header footer","",i),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[i,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",i),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[i,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allowfullscreen loading")),lo(mo("a form meter progress dfn"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,delete c.script,so[e]=c)}((o=o||{}).schema);!1===o.verify_html&&(o.valid_elements="*[*]");var i=go(o.valid_styles),r=go(o.invalid_styles,"map"),a=go(o.valid_classes,"map"),c=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),l=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),d=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),h="td th iframe video audio object script code",p=e("non_empty_elements",h+" pre",f),m=e("move_caret_before_on_enter_elements",h+" table",f),g=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),v=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",g),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");lo((o.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var S=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},y=function(e){var t,n,i,r,o,a,s,u,c,l,f,d,h,p,m,g,v,b,y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e){var x=mo(e,",");for(C["@"]&&(g=C["@"].attributes,v=C["@"].attributesOrder),t=0,n=x.length;t<n;t++)if(o=y.exec(x[t])){if(p=o[1],c=o[2],m=o[3],u=o[5],a={attributes:d={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g&&(ue(g,function(e,t){d[t]=e}),h.push.apply(h,v)),u)for(i=0,r=(u=mo(u,"|")).length;i<r;i++)if(o=_.exec(u[i])){if(s={},f=o[1],l=o[2].replace(/[\\:]:/g,":"),p=o[3],b=o[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===f){delete d[l],h.splice(po(h,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=co(b,"?"))),w.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=S(l),a.attributePatterns.push(s)):(d[l]||h.push(l),d[l]=s)}g||"@"!==c||(g=d,v=h),m&&(a.outputName=c,C[m]=a),w.test(c)?(a.pattern=S(c),k.push(a)):C[c]=a}}},_=function(e){C={},k=[],y(e),lo(n,function(e,t){s[t]=e.children})},w=function(e){var a=/^(~)?(.+)$/;e&&(so.text_block_elements=so.block_elements=null,lo(mo(e,","),function(e){var t=a.exec(e),n="~"===t[1],i=n?"span":"div",r=t[2];if(s[r]=s[i],u[r]=i,n||(v[r.toUpperCase()]={},v[r]={}),!C[r]){var o=C[i];delete(o=fo({},o)).removeEmptyAttrs,delete o.removeEmpty,C[r]=o}lo(s,function(e,t){e[i]&&(s[t]=e=fo({},s[t]),e[r]=e[i])})}))},x=function(e){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;so[o.schema]=null,e&&lo(mo(e,","),function(e){var t,n,i=r.exec(e);i&&(n=i[1],t=n?s[i[2]]:s[i[2]]={"#comment":{}},t=s[i[2]],lo(mo(i[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})},D=function(e){var t,n=C[e];if(n)return n;for(t=k.length;t--;)if((n=k[t]).pattern.test(e))return n};o.valid_elements?_(o.valid_elements):(lo(n,function(e,t){C[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},s[t]=e.children}),"html5"!==o.schema&&lo(mo("strong/b em/i"),function(e){var t=mo(e,"/");C[t[1]].outputName=t[0]}),lo(mo("ol ul sub sup blockquote span font a table tbody strong em b i"),function(e){C[e]&&(C[e].removeEmpty=!0)}),lo(mo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){C[e].paddEmpty=!0}),lo(mo("span"),function(e){C[e].removeEmptyAttrs=!0})),w(o.custom_elements),x(o.valid_children),y(o.extended_valid_elements),x("+ol[ul|ol],+ul[ul|ol]"),lo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){C[t]&&(C[t].parentsRequired=mo(e))}),o.invalid_elements&&lo(ho(o.invalid_elements),function(e){C[e]&&delete C[e]}),D("span")||y("span[!data-mce-type|*]");return{children:s,elements:C,getValidStyles:function(){return i},getValidClasses:function(){return a},getBlockElements:function(){return v},getInvalidStyles:function(){return r},getShortEndedElements:function(){return f},getTextBlockElements:function(){return g},getTextInlineElements:function(){return b},getBoolAttrs:function(){return d},getElementRule:D,getSelfClosingElements:function(){return l},getNonEmptyElements:function(){return p},getMoveCaretBeforeOnEnterElements:function(){return m},getWhiteSpaceElements:function(){return c},getSpecialElements:function(){return t},isValidChild:function(e,t){var n=s[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,i,r=D(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return u},addValidElements:y,setValidElements:_,addCustomElements:w,addValidChildren:x}},bo=function(e,t,n,i){var r=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+r(t)+r(n)+r(i)},yo=function(y,e){var _,s,i,w=this,x=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,k=/\s*([^:]+):\s*([^;]+);?/g,S=/\s+$/,D={},T=ur;y=y||{},e&&(s=e.getValidStyles(),i=e.getInvalidStyles());var t=("\\\" \\' \\; \\: ; : "+T).split(" ");for(_=0;_<t.length;_++)D[t[_]]=T+_,D[T+_]=t[_];return{toHex:function(e){return e.replace(x,bo)},parse:function(e){var t,n,i,r,o,a,s,u,c={},l=y.url_converter,f=y.url_converter_scope||w,d=function(e,t,n){var i=c[e+"-top"+t];if(i){var r=c[e+"-right"+t];if(r){var o=c[e+"-bottom"+t];if(o){var a=c[e+"-left"+t];if(a){var s=[i,r,o,a];for(_=s.length-1;_--&&s[_]===s[_+1];);-1<_&&n||(c[e+t]=-1===_?s[0]:s.join(" "),delete c[e+"-top"+t],delete c[e+"-right"+t],delete c[e+"-bottom"+t],delete c[e+"-left"+t])}}}}},h=function(e){var t,n=c[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return c[e]=n[0],!0}},p=function(e){return r=!0,D[e]},m=function(e,t){return r&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return D[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},g=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},v=function(e){return e.replace(/\\[0-9a-f]+/gi,g)},b=function(e,t,n,i,r,o){if(r=r||o)return"'"+(r=m(r)).replace(/\'/g,"\\'")+"'";if(t=m(t||n||i),!y.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!y.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return l&&(t=l.call(f,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,p)});t=k.exec(e);)if(k.lastIndex=t.index+t[0].length,n=t[1].replace(S,"").toLowerCase(),i=t[2].replace(S,""),n&&i){if(n=v(n),i=v(i),-1!==n.indexOf(T)||-1!==n.indexOf('"'))continue;if(!y.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===n&&"700"===i?i="bold":"color"!==n&&"background-color"!==n||(i=i.toLowerCase()),i=(i=i.replace(x,bo)).replace(C,b),c[n]=r?m(i,!0):i}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),o="border",s="border-style",u="border-color",h(a="border-width")&&h(s)&&h(u)&&(c[o]=c[a]+" "+c[s]+" "+c[u],delete c[a],delete c[s],delete c[u]),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(o,n){var a="",e=function(e){var t,n=s[e];if(n)for(var i=0,r=n.length;i<r;i++)e=n[i],(t=o[e])&&(a+=(0<a.length?" ":"")+e+": "+t+";")};return n&&s?(e("*"),e(n)):ue(o,function(e,t){!e||i&&!function(e,t){var n=i["*"];return!(n&&n[e]||(n=i[t])&&n[e])}(t,n)||(a+=(0<a.length?" ":"")+t+": "+e+";")}),a}}},_o=/^(?:mouse|contextmenu)|click/,wo={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},xo=g,Co=v,ko=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},So=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Do=function(e,t){var n,i=t||{};for(n in e)wo[n]||(i[n]=e[n]);if(i.target||(i.target=i.srcElement||document),i.composedPath&&(i.composedPath=function(){return e.composedPath()}),e&&function(e){return _o.test(e.type)}(e)&&void 0===e.pageX&&void 0!==e.clientX){var r=i.target.ownerDocument||document,o=r.documentElement,a=r.body;i.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=Co,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=Co,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Co,i.stopPropagation()})===function(e){return e.isDefaultPrevented===Co||e.isDefaultPrevented===xo}(i)&&(i.isDefaultPrevented=!0===i.defaultPrevented?Co:xo,i.isPropagationStopped=!0===i.cancelBubble?Co:xo,i.isImmediatePropagationStopped=xo),void 0===i.metaKey&&(i.metaKey=!1),i},To=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var o=function(){So(e,"DOMContentLoaded",o),So(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};"complete"===i.readyState||"interactive"===i.readyState&&i.body?o():ko(e,"DOMContentLoaded",o),n.domLoaded||ko(e,"load",o)}},Eo=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,i){var r,o,a,s,u,c,l,f=this,d=window,h=function(e){f.executeHandlers(Do(e||d.event),r)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?r=e[f.expando]:(r=f.count++,e[f.expando]=r,f.events[r]={}),i=i||e;var p=t.split(" ");for(a=p.length;a--;)c=h,u=l=!1,"DOMContentLoaded"===(s=p[a])&&(s="ready"),f.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(i,Do({type:s})):(f.hasMouseEnterLeave||(u=f.mouseEnterLeave[s])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Do(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,r))}),f.hasFocusIn||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){(e=Do(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,r)}),(o=f.events[r][s])?"ready"===s&&f.domLoaded?n(Do({type:s})):o.push({func:n,scope:i}):(f.events[r][s]=o=[{func:n,scope:i}],o.fakeName=u,o.capture=l,o.nativeHandler=c,"ready"===s?To(e,c,f):ko(e,u||s,c,l)));return e=o=null,n}},e.prototype.unbind=function(n,e,t){var i,r,o,a,s;if(!n||3===n.nodeType||8===n.nodeType)return this;var u=n[this.expando];if(u){if(s=this.events[u],e){var c=e.split(" ");for(r=c.length;r--;)if(i=s[a=c[r]]){if(t)for(o=i.length;o--;)if(i[o].func===t){var l=i.nativeHandler,f=i.fakeName,d=i.capture;(i=i.slice(0,o).concat(i.slice(o+1))).nativeHandler=l,i.fakeName=f,i.capture=d,s[a]=i}t&&0!==i.length||(delete s[a],So(n,i.fakeName||a,i.nativeHandler,i.capture))}}else ue(s,function(e,t){So(n,e.fakeName||t,e.nativeHandler,e.capture)}),s={};for(a in s)if(ve(s,a))return this;delete this.events[u];try{delete n[this.expando]}catch(e){n[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return this;var r=Do(null,n);for(r.type=t,r.target=e;(i=e[this.expando])&&this.executeHandlers(r,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!r.isPropagationStopped(););return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],i=n&&n[e.type];if(i)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),No="sizzle"+-new Date,Ao=window.document,Oo=0,Po=0,Io=fa(),Ro=fa(),Lo=fa(),Mo=function(e,t){return e===t&&(Ni=!0),0},Bo="undefined",jo={}.hasOwnProperty,Fo=[],Ho=Fo.pop,zo=Fo.push,qo=Fo.push,Wo=Fo.slice,Uo=Fo.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Vo="[\\x20\\t\\r\\n\\f]",$o="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Yo="\\["+Vo+"*("+$o+")(?:"+Vo+"*([*^$|!~]?=)"+Vo+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$o+"))|)"+Vo+"*\\]",Qo=":("+$o+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Yo+")*)|.*)\\)|)",Ko=new RegExp("^"+Vo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Vo+"+$","g"),Xo=new RegExp("^"+Vo+"*,"+Vo+"*"),Go=new RegExp("^"+Vo+"*([>+~]|"+Vo+")"+Vo+"*"),Jo=new RegExp("="+Vo+"*([^\\]'\"]*?)"+Vo+"*\\]","g"),Zo=new RegExp(Qo),ea=new RegExp("^"+$o+"$"),ta={ID:new RegExp("^#("+$o+")"),CLASS:new RegExp("^\\.("+$o+")"),TAG:new RegExp("^("+$o+"|[*])"),ATTR:new RegExp("^"+Yo),PSEUDO:new RegExp("^"+Qo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Vo+"*(even|odd|(([+-]|)(\\d*)n|)"+Vo+"*(?:([+-]|)"+Vo+"*(\\d+)|))"+Vo+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Vo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Vo+"*((?:-\\d)?\\d*)"+Vo+"*\\)|)(?=[^-]|$)","i")},na=/^(?:input|select|textarea|button)$/i,ia=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,sa=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+Vo+"?|("+Vo+")|.)","ig"),ca=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)};try{qo.apply(Fo=Wo.call(Ao.childNodes),Ao.childNodes),Fo[Ao.childNodes.length].nodeType}catch(e){qo={apply:Fo.length?function(e,t){zo.apply(e,Wo.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var la=function(e,t,n,i){var r,o,a,s,u,c,l,f,d,h;if((t?t.ownerDocument||t:Ao)!==Oi&&Ai(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||Oi).nodeType)&&9!==s)return[];if(Ii&&!i){if(r=oa.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&Mi(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return qo.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&_i.getElementsByClassName)return qo.apply(n,t.getElementsByClassName(a)),n}if(_i.qsa&&(!Ri||!Ri.test(e))){if(f=l=No,d=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=ki(e),(l=t.getAttribute("id"))?f=l.replace(sa,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+va(c[u]);d=aa.test(e)&&ma(t.parentNode)||t,h=c.join(",")}if(h)try{return qo.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return Di(e.replace(Ko,"$1"),t,n,i)};function fa(){var i=[];return function e(t,n){return i.push(t+" ")>wi.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function da(e){return e[No]=!0,e}function ha(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pa(a){return da(function(o){return o=+o,da(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function ma(e){return e&&typeof e.getElementsByTagName!=Bo&&e}function ga(){}function va(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ba(a,e,t){var s=e.dir,u=t&&"parentNode"===s,c=Po++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var i,r,o=[Oo,c];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((i=(r=e[No]||(e[No]={}))[s])&&i[0]===Oo&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function ya(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function _a(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function wa(h,p,m,g,v,e){return g&&!g[No]&&(g=wa(g)),v&&!v[No]&&(v=wa(v,e)),da(function(e,t,n,i){var r,o,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)la(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!e&&p?l:_a(l,s,h,n,i),d=m?v||(e?h:c||g)?[]:t:f;if(m&&m(f,d,n,i),g)for(r=_a(d,u),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(d[u[o]]=!(f[u[o]]=a));if(e){if(v||h){if(v){for(r=[],o=d.length;o--;)(a=d[o])&&r.push(f[o]=a);v(null,d=[],r,i)}for(o=d.length;o--;)(a=d[o])&&-1<(r=v?Uo.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else d=_a(d===t?d.splice(c,d.length):d),v?v(null,t,d,i):qo.apply(t,d)})}function xa(e){for(var r,t,n,i=e.length,o=wi.relative[e[0].type],a=o||wi.relative[" "],s=o?1:0,u=ba(function(e){return e===r},a,!0),c=ba(function(e){return-1<Uo.call(r,e)},a,!0),l=[function(e,t,n){var i=!o&&(n||t!==Ti)||((r=t).nodeType?u(e,t,n):c(e,t,n));return r=null,i}];s<i;s++)if(t=wi.relative[e[s].type])l=[ba(ya(l),t)];else{if((t=wi.filter[e[s].type].apply(null,e[s].matches))[No]){for(n=++s;n<i&&!wi.relative[e[n].type];n++);return wa(1<s&&ya(l),1<s&&va(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Ko,"$1"),t,s<n&&xa(e.slice(s,n)),n<i&&xa(e=e.slice(n)),n<i&&va(e))}l.push(t)}return ya(l)}_i=la.support={},Ci=la.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Ai=la.setDocument=function(e){var t,u=e?e.ownerDocument||e:Ao,n=u.defaultView;return u!==Oi&&9===u.nodeType&&u.documentElement?(Pi=(Oi=u).documentElement,Ii=!Ci(u),n&&n!==function(e){try{return e.top}catch(e){}return null}(n)&&(n.addEventListener?n.addEventListener("unload",function(){Ai()},!1):n.attachEvent&&n.attachEvent("onunload",function(){Ai()})),_i.attributes=!0,_i.getElementsByTagName=!0,_i.getElementsByClassName=ra.test(u.getElementsByClassName),_i.getById=!0,wi.find.ID=function(e,t){if(typeof t.getElementById!=Bo&&Ii){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},wi.filter.ID=function(e){var t=e.replace(ua,ca);return function(e){return e.getAttribute("id")===t}},wi.find.TAG=_i.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=Bo)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},wi.find.CLASS=_i.getElementsByClassName&&function(e,t){if(Ii)return t.getElementsByClassName(e)},Li=[],Ri=[],_i.disconnectedMatch=!0,Ri=Ri.length&&new RegExp(Ri.join("|")),Li=Li.length&&new RegExp(Li.join("|")),t=ra.test(Pi.compareDocumentPosition),Mi=t||ra.test(Pi.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Mo=t?function(e,t){if(e===t)return Ni=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!_i.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===Ao&&Mi(Ao,e)?-1:t===u||t.ownerDocument===Ao&&Mi(Ao,t)?1:Ei?Uo.call(Ei,e)-Uo.call(Ei,t):0:4&n?-1:1)}:function(e,t){if(e===t)return Ni=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===u?-1:t===u?1:r?-1:o?1:Ei?Uo.call(Ei,e)-Uo.call(Ei,t):0;if(r===o)return ha(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ha(a[i],s[i]):a[i]===Ao?-1:s[i]===Ao?1:0},u):Oi},la.matches=function(e,t){return la(e,null,null,t)},la.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Oi&&Ai(e),t=t.replace(Jo,"='$1']"),_i.matchesSelector&&Ii&&(!Li||!Li.test(t))&&(!Ri||!Ri.test(t)))try{var n=(void 0).call(e,t);if(n||_i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<la(t,Oi,null,[e]).length},la.contains=function(e,t){return(e.ownerDocument||e)!==Oi&&Ai(e),Mi(e,t)},la.attr=function(e,t){(e.ownerDocument||e)!==Oi&&Ai(e);var n=wi.attrHandle[t.toLowerCase()],i=n&&jo.call(wi.attrHandle,t.toLowerCase())?n(e,t,!Ii):void 0;return void 0!==i?i:_i.attributes||!Ii?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},la.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},la.uniqueSort=function(e){var t,n=[],i=0,r=0;if(Ni=!_i.detectDuplicates,Ei=!_i.sortStable&&e.slice(0),e.sort(Mo),Ni){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return Ei=null,e},xi=la.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=xi(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=xi(t);return n},(wi=la.selectors={cacheLength:50,createPseudo:da,match:ta,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ua,ca),e[3]=(e[3]||e[4]||e[5]||"").replace(ua,ca),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||la.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&la.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ta.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Zo.test(n)&&(t=ki(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ua,ca).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Io[e+" "];return t||(t=new RegExp("(^|"+Vo+")"+e+"("+Vo+"|$)"))&&Io(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=Bo&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=la.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,u,c=g!=v?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(g){for(;c;){for(o=e;o=o[c];)if(b?o.nodeName.toLowerCase()===f:1===o.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&d){for(s=(i=(r=l[No]||(l[No]={}))[h]||[])[0]===Oo&&i[1],a=i[0]===Oo&&i[2],o=s&&l.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||u.pop();)if(1===o.nodeType&&++a&&o===e){r[h]=[Oo,s,a];break}}else if(d&&(i=(e[No]||(e[No]={}))[h])&&i[0]===Oo)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||u.pop())&&((b?o.nodeName.toLowerCase()!==f:1!==o.nodeType)||!++a||(d&&((o[No]||(o[No]={}))[h]=[Oo,a]),o!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=wi.pseudos[e]||wi.setFilters[e.toLowerCase()]||la.error("unsupported pseudo: "+e);return a[No]?a(o):1<a.length?(t=[e,e,"",o],wi.setFilters.hasOwnProperty(e.toLowerCase())?da(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=Uo.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:da(function(e){var i=[],r=[],s=Si(e.replace(Ko,"$1"));return s[No]?da(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:da(function(t){return function(e){return 0<la(t,e).length}}),contains:da(function(t){return t=t.replace(ua,ca),function(e){return-1<(e.textContent||e.innerText||xi(e)).indexOf(t)}}),lang:da(function(n){return ea.test(n||"")||la.error("unsupported lang: "+n),n=n.replace(ua,ca).toLowerCase(),function(e){var t;do{if(t=Ii?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Pi},focus:function(e){return e===Oi.activeElement&&(!Oi.hasFocus||Oi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!wi.pseudos.empty(e)},header:function(e){return ia.test(e.nodeName)},input:function(e){return na.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(e,t){return[t-1]}),eq:pa(function(e,t,n){return[n<0?n+t:n]}),even:pa(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pa(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pa(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:pa(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=wi.pseudos.eq,$(["radio","checkbox","file","password","image"],function(e){wi.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e)}),$(["submit","reset"],function(e){wi.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e)}),ga.prototype=wi.filters=wi.pseudos,wi.setFilters=new ga,ki=la.tokenize=function(e,t){var n,i,r,o,a,s,u,c=Ro[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=wi.preFilter;a;){for(o in n&&!(i=Xo.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=Go.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Ko," ")}),a=a.slice(n.length)),wi.filter)wi.filter.hasOwnProperty(o)&&(!(i=ta[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?la.error(e):Ro(e,s).slice(0)},Si=la.compile=function(e,t){var n,i=[],r=[],o=Lo[e+" "];if(!o){for(t||(t=ki(e)),n=t.length;n--;)(o=xa(t[n]))[No]?i.push(o):r.push(o);(o=Lo(e,function(g,v){var b=0<v.length,y=0<g.length,e=function(e,t,n,i,r){var o,a,s,u=0,c="0",l=e&&[],f=[],d=Ti,h=e||y&&wi.find.TAG("*",r),p=Oo+=null==d?1:Math.random()||.1,m=h.length;for(r&&(Ti=t!==Oi&&t);c!==m&&null!=(o=h[c]);c++){if(y&&o){for(a=0;s=g[a++];)if(s(o,t,n)){i.push(o);break}r&&(Oo=p)}b&&((o=!s&&o)&&u--,e&&l.push(o))}if(u+=c,b&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=Ho.call(i));f=_a(f)}qo.apply(i,f),r&&!e&&0<f.length&&1<u+v.length&&la.uniqueSort(i)}return r&&(Oo=p,Ti=d),l};return b?da(e):e}(r,i))).selector=e}return o},Di=la.select=function(e,t,n,i){var r,o,a,s,u,c="function"==typeof e&&e,l=!i&&ki(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&_i.getById&&9===t.nodeType&&Ii&&wi.relative[o[1].type]){if(!(t=(wi.find.ID(a.matches[0].replace(ua,ca),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ta.needsContext.test(e)?0:o.length;r--&&(a=o[r],!wi.relative[s=a.type]);)if((u=wi.find[s])&&(i=u(a.matches[0].replace(ua,ca),aa.test(o[0].type)&&ma(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&va(o)))return qo.apply(n,i),n;break}}return(c||Si(e,l))(i,t,!Ii,n,aa.test(e)&&ma(t.parentNode)||t),n},_i.sortStable=No.split("").sort(Mo).join("")===No,_i.detectDuplicates=!!Ni,Ai(),_i.sortDetached=!0;var Ca=document,ka=Array.prototype.push,Sa=Array.prototype.slice,Da=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ta=Eo.Event,Ea=yt.makeMap("children,contents,next,prev"),Na=function(e){return void 0!==e},Aa=function(e){return"string"==typeof e},Oa=function(e,t){var n,i=(t=t||Ca).createElement("div"),r=t.createDocumentFragment();for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return r},Pa=function(e,t,n,i){var r;if(Aa(t))t=Oa(t,$a(e[0]));else if(t.length&&!t.nodeType){if(t=Xa.makeArray(t),i)for(r=t.length-1;0<=r;r--)Pa(e,t[r],n,i);else for(r=0;r<t.length;r++)Pa(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},Ia=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ra=function(e,t,n){var i,r;return t=Xa(t)[0],e.each(function(){n&&i===this.parentNode||(i=this.parentNode,r=t.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)}),e},La=yt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ma=yt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ba={for:"htmlFor",class:"className",readonly:"readOnly"},ja={float:"cssFloat"},Fa={},Ha={},za=function(e,t){return new Xa.fn.init(e,t)},qa=/^\s*|\s*$/g,Wa=function(e){return null==e?"":(""+e).replace(qa,"")},Ua=function(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e},Va=function(e,n){var i=[];return Ua(e,function(e,t){n(t,e)&&i.push(t)}),i},$a=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ca};za.fn=za.prototype={constructor:za,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return Xa(e).attr(t);r.context=t=document}if(Aa(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Da.exec(e)))return Xa(t).find(e);if(n[1])for(i=Oa(e,$a(t)).firstChild;i;)ka.call(r,i),i=i.nextSibling;else{if(!(i=$a(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return yt.toArray(this)},add:function(e,t){var n,i;if(Aa(e))return this.add(Xa(e));if(!1!==t)for(n=Xa.unique(this.toArray().concat(Xa.makeArray(e))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else ka.apply(this,Xa.makeArray(e));return this},attr:function(t,n){var e,i=this;if("object"==typeof t)Ua(t,function(e,t){i.attr(e,t)});else{if(!Na(n)){if(i[0]&&1===i[0].nodeType){if((e=Fa[t])&&e.get)return e.get(i[0],t);if(Ma[t])return i.prop(t)?t:void 0;null===(n=i[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=Fa[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Ba[e]||e))Ua(e,function(e,t){n.prop(e,t)});else{if(!Na(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){var e,i,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof t)Ua(t,function(e,t){r.css(e,t)});else if(Na(n))t=o(t),"number"!=typeof n||La[t]||(n=n.toString()+"px"),r.each(function(){var e=this.style;if((i=Ha[t])&&i.set)i.set(this,n);else{try{this.style[ja[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(a(t)):e.removeAttribute(t))}});else{if(e=r[0],(i=Ha[t])&&i.get)return i.get(e);if(!e.ownerDocument.defaultView)return e.currentStyle?e.currentStyle[o(t)]:"";try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(t))}catch(e){return}}return r},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ta.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,i=this;if(Na(t)){n=i.length;try{for(;n--;)i[n].innerHTML=t}catch(e){Xa(i[n]).empty().append(t)}return i}return i[0]?i[0].innerHTML:""},text:function(e){var t;if(Na(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Pa(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Pa(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Pa(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Pa(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Xa(e).append(this),this},prependTo:function(e){return Xa(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ra(this,e)},wrapAll:function(e){return Ra(this,e,!0)},wrapInner:function(e){return this.each(function(){Xa(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Xa(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Xa(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(r,o){var e=this;return"string"!=typeof r||(-1!==r.indexOf(" ")?Ua(r.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n=Ia(t,r);if(n!==o){var i=t.className;n?t.className=Wa((" "+i+" ").replace(" "+r+" "," ")):t.className+=i?" "+r:r}})),e},hasClass:function(e){return Ia(this[0],e)},each:function(e){return Ua(this,e)},on:function(e,t){return this.each(function(){Ta.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ta.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ta.fire(this,e.type,e):Ta.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Xa(Sa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)Xa.find(e,this[t],i);return Xa(i)},filter:function(n){return Xa("function"==typeof n?Va(this.toArray(),function(e,t){return n(t,e)}):Xa.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof Xa&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&Xa(t).is(n)){i.push(t);break}if(t===n){i.push(t);break}t=t.parentNode}}),Xa(i)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:ka,sort:Array.prototype.sort,splice:Array.prototype.splice},yt.extend(za,{extend:yt.extend,makeArray:function(e){return function(e){return e&&e===e.window}(e)||e.nodeType?[e]:yt.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:yt.isArray,each:Ua,trim:Wa,grep:Va,find:la,expr:la.selectors,unique:la.uniqueSort,text:la.getText,contains:la.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return t=1===t.length?Xa.find.matchesSelector(t[0],e)?[t[0]]:[]:Xa.find.matches(e,t)}});var Ya=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof Xa&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Xa(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},Qa=function(e,t,n,i){var r=[];for(i instanceof Xa&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&Xa(e).is(i))break}r.push(e)}return r},Ka=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Ua({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ya(e,"parentNode")},next:function(e){return Ka(e,"nextSibling",1)},prev:function(e){return Ka(e,"previousSibling",1)},children:function(e){return Qa(e.firstChild,"nextSibling",1)},contents:function(e){return yt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(i,r){za.fn[i]=function(t){var n=[];this.each(function(){var e=r.call(n,this,t,n);e&&(Xa.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Ea[i]||(n=Xa.unique(n)),0===i.indexOf("parents")&&(n=n.reverse()));var e=Xa(n);return t?e.filter(t):e}}),Ua({parentsUntil:function(e,t){return Ya(e,"parentNode",t)},nextUntil:function(e,t){return Qa(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Qa(e,"previousSibling",1,t).slice(1)}},function(r,o){za.fn[r]=function(t,e){var n=[];this.each(function(){var e=o.call(n,this,t,n);e&&(Xa.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=Xa.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse()));var i=Xa(n);return e?i.filter(e):i}}),za.fn.is=function(e){return!!e&&0<this.filter(e).length},za.fn.init.prototype=za.fn,za.overrideDefaults=function(n){var i,r=function(e,t){return i=i||n(),0===arguments.length&&(e=i.element),t||(t=i.context),new r.fn.init(e,t)};return Xa.extend(r,this),r},za.attrHooks=Fa,za.cssHooks=Ha;var Xa=za,Ga=yt.each,Ja=yt.grep,Za=pt.ie,es=/^([a-z0-9],?)+$/i,ts=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i||(i=null),t.attr("data-mce-style",i)},ns=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r},is=function(a,s){void 0===s&&(s={});var i={},u=window,n={},t=0,r=Ki.forElement(wt.fromDom(a),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),c=[],l=s.schema?s.schema:vo({}),o=yo({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),f=s.ownEvents?new Eo:Eo.Event,d=l.getBlockElements(),h=Xa.overrideDefaults(function(){return{context:a,element:H.getRoot()}}),p=function(e){return e&&a&&W(e)?a.getElementById(e):e},m=function(e){return h("string"==typeof e?p(e):e)},g=function(e,t,n){var i,r,o=m(e);return o.length&&(r=(i=z[t])&&i.get?i.get(o,t):o.attr(t)),void 0===r&&(r=n||""),r},v=function(e){var t=p(e);return t?t.attributes:[]},b=function(e,t,n){""===n&&(n=null);var i=m(e),r=i.attr(t);if(i.length){var o=z[t];o&&o.set?o.set(i,n,t):i.attr(t,n),r!==n&&s.onSetAttrib&&s.onSetAttrib({attrElm:i,attrName:t,attrValue:n})}},y=function(){return s.root_element||a.body},_=function(e,t){return ei(a.body,p(e),t)},w=function(e,t,n){var i=m(e);return n?i.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=pt.browser.isIE()?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},x=function(e){var t,n;return e=p(e),t=w(e,"width"),n=w(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},C=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(es.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return 0<la(t,o[0].ownerDocument||o[0],null,o).length},k=function(e,t,n,i){var r,o=[],a=p(e);for(i=void 0===i,n=n||("BODY"!==y().nodeName?y().parentNode:null),yt.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return C(e,r)});a&&!(a===n||U(a.nodeType)||On(a)||Pn(a));){if(!t||"function"==typeof t&&t(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},S=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return C(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},D=function(e,n,i){var r,t="string"==typeof e?p(e):e;if(!t)return!1;if(yt.isArray(t)&&(t.length||0===t.length))return r=[],Ga(t,function(e,t){e&&r.push(n.call(i,"string"==typeof e?p(e):e,t))}),r;var o=i||this;return n.call(o,t)},T=function(e,t){m(e).each(function(e,n){Ga(t,function(e,t){b(n,t,e)})})},E=function(e,n){var t=m(e);Za?t.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){Xa("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):t.html(n)},N=function(e,n,i,r,o){return D(e,function(e){var t="string"==typeof n?a.createElement(n):n;return T(t,i),r&&("string"!=typeof r&&r.nodeType?t.appendChild(r):"string"==typeof r&&E(t,r)),o?t:e.appendChild(t)})},A=function(e,t,n){return N(a.createElement(e),e,t,n,!0)},O=ao.encodeAllRaw,P=function(e,t){var n=m(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},I=function(e,t,n){m(e).toggleClass(t,n).each(function(){""===this.className&&Xa(this).attr("class",null)})},R=function(t,e,n){return D(e,function(e){return yt.is(e,"array")&&(t=t.cloneNode(!0)),n&&Ga(Ja(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},L=function(e){if(wn(e)){var t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1},M=function(){return a.createRange()},B=function(e,t,n,i){if(yt.isArray(e)){for(var r=e.length,o=[];r--;)o[r]=B(e[r],t,n,i);return o}return!s.collect||e!==a&&e!==u||c.push([e,t,n,i]),f.bind(e,t,n,i||H)},j=function(e,t,n){if(yt.isArray(e)){for(var i=e.length,r=[];i--;)r[i]=j(e[i],t,n);return r}if(0<c.length&&(e===a||e===u))for(i=c.length;i--;){var o=c[i];e!==o[0]||t&&t!==o[1]||n&&n!==o[2]||f.unbind(o[0],o[1],o[2])}return f.unbind(e,t,n)},F=function(e){if(e&&wn(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},H={doc:a,settings:s,win:u,files:n,stdMode:!0,boxModel:!0,styleSheetLoader:r,boundEvents:c,styles:o,schema:l,events:f,isBlock:function(e){if("string"==typeof e)return!!d[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!d[e.nodeName])}return!1},$:h,$$:m,root:null,clone:function(t,e){if(!Za||1!==t.nodeType||e)return t.cloneNode(e);var n=a.createElement(t.nodeName);return Ga(v(t),function(e){b(n,e.nodeName,g(t,e.nodeName))}),n},getRoot:y,getViewPort:function(e){var t=bn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=p(e);var t=_(e),n=x(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:x,getParent:function(e,t,n){var i=k(e,t,n,!1);return i&&0<i.length?i[0]:null},getParents:k,get:p,getNext:function(e,t){return S(e,t,"nextSibling")},getPrev:function(e,t){return S(e,t,"previousSibling")},select:function(e,t){return la(e,p(t)||s.root_element||a,[])},is:C,add:N,create:A,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+O(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n=a.createElement("div"),i=a.createDocumentFragment();for(i.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i.removeChild(n),i},remove:P,setStyle:function(e,t,n){var i=W(t)?m(e).css(t,n):m(e).css(t);s.update_styles&&ts(o,i)},getStyle:w,setStyles:function(e,t){var n=m(e).css(t);s.update_styles&&ts(o,n)},removeAllAttribs:function(e){return D(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:b,setAttribs:T,getAttrib:g,getPos:_,parseStyle:function(e){return o.parse(e)},serializeStyle:function(e,t){return o.serialize(e,t)},addStyle:function(e){var t,n;if(H!==is.DOM&&a===document){if(i[e])return;i[e]=!0}(n=a.getElementById("mceDefaultStyles"))||((n=a.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=a.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(a.createTextNode(e))},loadCSS:function(e){e||(e=""),$(e.split(","),function(e){n[e]=!0,r.load(e,q)})},addClass:function(e,t){m(e).addClass(t)},removeClass:function(e,t){I(e,t,!1)},hasClass:function(e,t){return m(e).hasClass(t)},toggleClass:I,show:function(e){m(e).show()},hide:function(e){m(e).hide()},isHidden:function(e){return"none"===m(e).css("display")},uniqueId:function(e){return(e||"mce_")+t++},setHTML:E,getOuterHTML:function(e){var t="string"==typeof e?p(e):e;return wn(t)?t.outerHTML:Xa("<div></div>").append(Xa(t).clone()).html()},setOuterHTML:function(e,t){m(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}P(Xa(this).html(t),!0)})},decode:ao.decode,encode:O,insertAfter:function(e,t){var i=p(t);return D(e,function(e){var t=i.parentNode,n=i.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:R,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=A(e),Ga(v(t),function(e){b(n,e.nodeName,g(t,e.nodeName))}),R(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return o.toHex(yt.trim(e))},run:D,getAttribs:v,isEmpty:function(e,t){var n,i,r=0;if(L(e))return!1;if(e=e.firstChild){var o=new Xi(e,e.parentNode),a=l?l.getWhiteSpaceElements():{};t=t||(l?l.getNonEmptyElements():null);do{if(n=e.nodeType,wn(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=o.next("all"===s);continue}if(i=e.nodeName.toLowerCase(),t&&t[i]){if("br"!==i)return!1;r++,e=o.next();continue}if(L(e))return!1}if(8===n)return!1;if(3===n&&!Mr(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Mr(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:M,nodeIndex:ns,split:function(e,t,n){var i,r,o,a=M();if(e&&t)return a.setStart(e.parentNode,ns(e)),a.setEnd(t.parentNode,ns(t)),i=a.extractContents(),(a=M()).setStart(t.parentNode,ns(t)+1),a.setEnd(e.parentNode,ns(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore($r(H,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore($r(H,r),e),P(e),n||t},bind:B,unbind:j,fire:function(e,t,n){return f.fire(e,t,n)},getContentEditable:F,getContentEditableParent:function(e){for(var t=y(),n=null;e&&e!==t&&null===(n=F(e));e=e.parentNode);return n},destroy:function(){if(0<c.length)for(var e=c.length;e--;){var t=c[e];f.unbind(t[0],t[1],t[2])}ue(n,function(e,t){r.unload(t),delete n[t]}),la.setDocument&&la.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},z=function(n,i,r){var o=i.keep_values,e={set:function(e,t,n){i.url_converter&&(t=i.url_converter.call(i.url_converter_scope||r(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},t={style:{set:function(e,t){null===t||"object"!=typeof t?(o&&e.attr("data-mce-style",t),null!==t&&"string"==typeof t?(e.removeAttr("style"),e.css(n.parse(t))):e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return t=n.serialize(n.parse(t),e[0].nodeName)}}};return o&&(t.href=t.src=e),t}(o,s,function(){return H});return H};is.DOM=is(document),is.nodeIndex=ns;var rs=is.DOM,os=yt.each,as=yt.grep,ss=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var i,r=rs,o=function(){r.remove(a),i&&(i.onerror=i.onload=i=null)},a=r.uniqueId();(i=document.createElement("script")).id=a,i.type="text/javascript",i.src=yt._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=function(){o(),t()},i.onerror=function(){o(),P(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,i){var r=this.states[e];this.queue.push(e),void 0===r&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:i,scope:n||this}))},e.prototype.load=function(e,t,n,i){return this.add(e,t,n,i)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(n,e,t,i){var r=this,o=[],a=function(t,e){os(r.scriptLoadedCallbacks[e],function(e){P(e[t])&&e[t].call(e.scope)}),r.scriptLoadedCallbacks[e]=void 0};r.queueLoadedCallbacks.push({success:e,failure:i,scope:t||this});var s=function(){var e=as(n);if(n.length=0,os(e,function(e){2!==r.states[e]?3!==r.states[e]?1!==r.states[e]&&(r.states[e]=1,r.loading++,r.loadScript(e,function(){r.states[e]=2,r.loading--,a("success",e),s()},function(){r.states[e]=3,r.loading--,o.push(e),a("failure",e),s()})):a("failure",e):a("success",e)}),!r.loading){var t=r.queueLoadedCallbacks.slice(0);r.queueLoadedCallbacks.length=0,os(t,function(e){0===o.length?P(e.success)&&e.success.call(e.scope):P(e.failure)&&e.failure.call(e.scope,o)})}};s()},e.ScriptLoader=new e,e}(),us=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},cs={},ls=us("en"),fs=function(){return ge(cs,ls.get())},ds={getData:function(){return ce(cs,function(e){return Te({},e)})},setCode:function(e){e&&ls.set(e)},getCode:function(){return ls.get()},add:function(e,t){var n=cs[e];n||(cs[e]=n={}),ue(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){var n=fs().getOr({}),i=function(e){return P(e)?Object.prototype.toString.call(e):t(e)?"":""+e},t=function(e){return""===e||null==e},r=function(e){var t=i(e);return ge(n,t.toLowerCase()).map(i).getOr(t)},o=function(e){return e.replace(/{context:\w+}$/,"")};if(t(e))return"";if(function(e){return T(e)&&ve(e,"raw")}(e))return i(e.raw);if(function(e){return E(e)&&1<e.length}(e)){var a=e.slice(1);return o(r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return ve(a,t)?i(a[t]):e}))}return o(r(e))},isRtl:function(){return fs().bind(function(e){return ge(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return ve(cs,e)}},hs=function(){var r=[],s={},u={},i=[],c=function(t,n){var e=Y(i,function(e){return e.name===t&&e.state===n});$(e,function(e){return e.callback()})},l=function(e){var t;return u[e]&&(t=u[e].dependencies),t||[]},f=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(e,t,n,i,r){if(!s[e]){var o="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==o.indexOf("/")&&-1===o.indexOf("://")&&(o=hs.baseURL+"/"+o),s[e]=o.substring(0,o.lastIndexOf("/"));var a=function(){c(e,"loaded"),function(e,n,t,i){var r=l(e);$(r,function(e){var t=f(n,e);d(t.resource,t,void 0,void 0)}),t&&(i?t.call(i):t.call(ss))}(e,t,n,i)};u[e]?a():ss.ScriptLoader.add(o,a,i,r)}},e=function(e,t,n){void 0===n&&(n="added"),ve(u,e)&&"added"===n?t():ve(s,e)&&"loaded"===n?t():i.push({name:e,state:n,callback:t})};return{items:r,urls:s,lookup:u,_listeners:i,get:function(e){if(u[e])return u[e].instance},dependencies:l,requireLangPack:function(t,n){!1!==hs.languageLoad&&e(t,function(){var e=ds.getCode();!e||n&&-1===(","+(n||"")+",").indexOf(","+e+",")||ss.ScriptLoader.add(s[t]+"/langs/"+e+".js")},"loaded")},add:function(e,t,n){var i=t;return r.push(i),u[e]={instance:i,dependencies:n},c(e,"added"),i},remove:function(e){delete s[e],delete u[e]},createUrl:f,addComponents:function(e,t){var n=s[e];$(t,function(e){ss.ScriptLoader.add(n+"/"+e)})},load:d,waitFor:e}};hs.languageLoad=!0,hs.baseURL="",hs.PluginManager=hs(),hs.ThemeManager=hs();var ps=function(n,i){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null===r&&(r=setTimeout(function(){n.apply(null,e),r=null},i))}}},ms=function(n,i){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!==r&&clearTimeout(r),r=setTimeout(function(){n.apply(null,e),r=null},i)}}},gs=function(e,t){var n=Wn(e,t);return void 0===n||""===n?[]:n.split(" ")},vs=function(e){return void 0!==e.dom.classList},bs=function(e,t){return function(e,t,n){var i=gs(e,t).concat([n]);return zn(e,t,i.join(" ")),!0}(e,"class",t)},ys=function(e,t){return function(e,t,n){var i=Y(gs(e,t),function(e){return e!==n});return 0<i.length?zn(e,t,i.join(" ")):Vn(e,t),!1}(e,"class",t)},_s=function(e,t){vs(e)?e.dom.classList.add(t):bs(e,t)},ws=function(e){0===(vs(e)?e.dom.classList:function(e){return gs(e,"class")}(e)).length&&Vn(e,"class")},xs=function(e,t){return vs(e)&&e.dom.classList.contains(t)},Cs=function(e,t){var n=[];return $(Wt(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Cs(e,t))}),n},ks=function(e,t){return function(e,t){var n=void 0===t?document:t.dom;return kt(n)?[]:H(n.querySelectorAll(e),wt.fromDom)}(t,e)},Ss=y("mce-annotation"),Ds=y("data-mce-annotation"),Ts=y("data-mce-annotation-uid"),Es=function(i,e){var t=i.selection.getRng(),n=wt.fromDom(t.startContainer),r=wt.fromDom(i.getBody()),o=e.fold(function(){return"."+Ss()},function(e){return"["+Ds()+'="'+e+'"]'}),a=Ut(n,t.startOffset).getOr(n),s=qi(a,o,function(e){return St(e,r)}),u=function(e,t){return function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)}(e,t)?C.some(Wn(e,t)):C.none()};return s.bind(function(e){return u(e,""+Ts()).bind(function(n){return u(e,""+Ds()).map(function(e){var t=Ns(i,n);return{uid:n,name:e,elements:t}})})})},Ns=function(e,t){var n=wt.fromDom(e.getBody());return ks(n,"["+Ts()+'="'+t+'"]')},As=function(n,e){var r=us({}),a=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var n=r.get(),i=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:us(C.none())});n[e]=i,r.set(n)},t=ms(function(){var e=r.get(),t=function(e,t){var n=R.call(e,0);return n.sort(t),n}(ae(e));$(t,function(e){i(e,function(r){var o=r.previous.get();return Es(n,C.some(e)).fold(function(){o.isSome()&&(function(t){a(t,function(e){$(e.listeners,function(e){return e(!1,t)})})}(e),r.previous.set(C.none()))},function(e){var t=e.uid,n=e.name,i=e.elements;o.is(t)||(function(t,n,i){a(t,function(e){$(e.listeners,function(e){return e(!0,t,{uid:n,nodes:H(i,function(e){return e.dom})})})})}(n,t,i),r.previous.set(C.some(t)))}),{previous:r.previous,listeners:r.listeners}})})},30);n.on("remove",function(){t.cancel()}),n.on("NodeChange",function(){t.throttle()});return{addListener:function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Os=function(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){$(e,function(t){(function(e){return C.from(e.attr(Ds())).bind(n.lookup)})(t).each(function(e){!1===e.persistent&&t.unwrap()})})})})},Ps=0,Is=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Ps+String(t)},Rs=function(e,t){var n=Lt(e).dom,i=wt.fromDom(n.createDocumentFragment()),r=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,Wt(wt.fromDom(n))}(t,n);on(i,r),an(e),rn(e,i)},Ls=function(e,t){return wt.fromDom(e.dom.cloneNode(t))},Ms=function(e){return Ls(e,!1)},Bs=function(e){return Ls(e,!0)},js=function(e,t,n){void 0===n&&(n=g);var i=new Xi(e,t),r=function(e){for(var t;(t=i[e]())&&!Nn(t)&&!n(t););return C.from(t).filter(Nn)};return{current:function(){return C.from(i.current()).filter(Nn)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}},Fs=function(t,e){var o=e||function(e){return t.isBlock(e)||In(e)||Mn(e)},a=function(e,t,n,i){if(Nn(e)){var r=i(e,t,e.data);if(-1!==r)return C.some({container:e,offset:r})}return n().bind(function(e){return a(e.container,e.offset,n,i)})};return{backwards:function(e,t,n,i){var r=js(e,i,o);return a(e,t,function(){return r.prev().map(function(e){return{container:e,offset:e.length}})},n).getOrNull()},forwards:function(e,t,n,i){var r=js(e,i,o);return a(e,t,function(){return r.next().map(function(e){return{container:e,offset:0}})},n).getOrNull()}}},Hs=function(e,t,n){return e.isSome()&&t.isSome()?C.some(n(e.getOrDie(),t.getOrDie())):C.none()},zs=Math.round,qs=function(e){return e?{left:zs(e.left),top:zs(e.top),bottom:zs(e.bottom),right:zs(e.right),width:zs(e.width),height:zs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ws=function(e,t){return e=qs(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Us=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Vs=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Us(t.top-e.bottom,e,t)},$s=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Us(t.bottom-e.top,e,t)},Ys=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Qs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ks=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Xs=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Gs=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Xs.test(e)},Js=wn,Zs=Pr,eu=Cn("display","block table"),tu=Cn("float","left right"),nu=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Js,Zs,d(tu)),iu=d(Cn("white-space","pre pre-line pre-wrap")),ru=Nn,ou=In,au=is.nodeIndex,su=Ks,uu=function(e){return"createRange"in e?e.createRange():is.DOM.createRng()},cu=function(e){return e&&/[\r\n\t ]/.test(e)},lu=function(e){return!!e.setStart&&!!e.setEnd},fu=function(e){var t,n=e.startContainer,i=e.startOffset;return!!(cu(e.toString())&&iu(n.parentNode)&&Nn(n)&&(t=n.data,cu(t[i-1])||cu(t[i+1])))},du=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},hu=function(e){var t,n=e.getClientRects();return t=0<n.length?qs(n[0]):qs(e.getBoundingClientRect()),!lu(e)&&ou(e)&&du(t)?function(e){var t=e.ownerDocument,n=uu(t),i=t.createTextNode("Â "),r=e.parentNode;r.insertBefore(i,e),n.setStart(i,0),n.setEnd(i,1);var o=qs(n.getBoundingClientRect());return r.removeChild(i),o}(e):du(t)&&lu(e)?function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&Nn(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),hu(o)}return null}(e):t},pu=function(e,t){var n=Ws(e,t);return n.width=1,n.right=n.left+1,n},mu=function(t,n,e){var i=function(){return e||(e=function(e){var t,n,i=[],r=function(e){0!==e.height&&(0<i.length&&function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}(e,i[i.length-1])||i.push(e))},o=function(e,t){var n=uu(e.ownerDocument);if(t<e.data.length){if(Gs(e.data[t]))return i;if(Gs(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!fu(n)))return r(pu(hu(n),!1)),i}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),fu(n)||r(pu(hu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),fu(n)||r(pu(hu(n),!0)))};if(ru(e.container()))return o(e.container(),e.offset()),i;if(Js(e.container()))if(e.isAtEnd())n=su(e.container(),e.offset()),ru(n)&&o(n,n.data.length),nu(n)&&!ou(n)&&r(pu(hu(n),!1));else{if(n=su(e.container(),e.offset()),ru(n)&&o(n,0),nu(n)&&e.isAtEnd())return r(pu(hu(n),!1)),i;t=su(e.container(),e.offset()-1),nu(t)&&!ou(t)&&(eu(t)||eu(n)||!nu(n))&&r(pu(hu(t),!1)),nu(n)&&r(pu(hu(n),!0))}return i}(mu(t,n))),e};return{container:y(t),offset:y(n),toRange:function(){var e=uu(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return ru(t),0===n},isAtEnd:function(){return ru(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return su(t,e?n-1:n)}}};mu.fromRangeStart=function(e){return mu(e.startContainer,e.startOffset)},mu.fromRangeEnd=function(e){return mu(e.endContainer,e.endOffset)},mu.after=function(e){return mu(e.parentNode,au(e)+1)},mu.before=function(e){return mu(e.parentNode,au(e))},mu.isAbove=function(e,t){return Hs(ie(t.getClientRects()),re(e.getClientRects()),Vs).getOr(!1)},mu.isBelow=function(e,t){return Hs(re(t.getClientRects()),ie(e.getClientRects()),$s).getOr(!1)},mu.isAtStart=function(e){return!!e&&e.isAtStart()},mu.isAtEnd=function(e){return!!e&&e.isAtEnd()},mu.isTextPosition=function(e){return!!e&&Nn(e.container())},mu.isElementPosition=function(e){return!1===mu.isTextPosition(e)};var gu,vu,bu=function(e,t){Nn(t)&&0===t.data.length&&e.remove(t)},yu=function(e,t,n){Pn(n)?function(t,e,n){var i=C.from(n.firstChild),r=C.from(n.lastChild);e.insertNode(n),i.each(function(e){return bu(t,e.previousSibling)}),r.each(function(e){return bu(t,e.nextSibling)})}(e,t,n):function(e,t,n){t.insertNode(n),bu(e,n.previousSibling),bu(e,n.nextSibling)}(e,t,n)},_u=Nn,wu=Sn,xu=is.nodeIndex,Cu=function(e){var t=e.parentNode;return wu(t)?Cu(t):t},ku=function(e){return e?ke(e.childNodes,function(e,t){return wu(t)&&"BR"!==t.nodeName?e=e.concat(ku(t)):e.push(t),e},[]):[]},Su=function(t){return function(e){return t===e}},Du=function(e){return(_u(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var i,t;i=ku(Cu(e)),t=Se(i,Su(e),e),i=i.slice(0,t+1);var n=ke(i,function(e,t,n){return _u(t)&&_u(i[n-1])&&e++,e},0);return i=xe(i,xn([e.nodeName])),(t=Se(i,Su(e),e))-n}(e)+"]"},Tu=function(e,t){var n,i,r,o,a,s=[];return n=t.container(),i=t.offset(),_u(n)?r=function(e,t){for(;(e=e.previousSibling)&&_u(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(Du(n)),a=function(e,t,n){var i=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)i.push(t);return i}(e,n),a=xe(a,d(Sn)),(s=s.concat(we(a,function(e){return Du(e)}))).reverse().join("/")+","+r},Eu=function(e,t){var n;if(!t)return null;var i=t.split(","),r=i[0].split("/");n=1<i.length?i[1]:"before";var o=ke(r,function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),function(e,t,n){var i=ku(e);return i=xe(i,function(e,t){return!_u(e)||!_u(i[t-1])}),(i=xe(i,xn([t])))[n]}(e,n[1],parseInt(n[2],10))):null},e);return o?_u(o)?function(e,t){for(var n,i=e,r=0;_u(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!_u(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return _u(e)&&t>e.data.length&&(t=e.data.length),mu(e,t)}(o,parseInt(n,10)):(n="after"===n?xu(o)+1:xu(o),mu(o.parentNode,n)):null},Nu=Mn,Au=function(e,t,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Nn(a)?u.push(n?function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&Nn(i);i=i.previousSibling)r+=e(i.data).length;return r}(t,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(c=1,s=Math.max(0,o.length-1)),u.push(e.nodeIndex(o[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Ou=function(e,t,n){var i=0;return yt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++}),i},Pu=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],wn(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))},Iu=function(e){return Pu(e,!0),Pu(e,!1),e},Ru=function(e,t){var n;if(wn(e)&&(e=Ks(e,t),Nu(e)))return e;if(gr(e)){if(Nn(e)&&pr(e)&&(e=e.parentNode),n=e.previousSibling,Nu(n))return n;if(n=e.nextSibling,Nu(n))return n}},Lu=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Nu(i)||"IMG"===r)return{name:r,index:Ou(n.dom,r,i)};var a=function(e){return Ru(e.startContainer,e.startOffset)||Ru(e.endContainer,e.endOffset)}(o);return a?{name:r=a.tagName,index:Ou(n.dom,r,a)}:function(e,t,n,i){var r=t.dom,o={};return o.start=Au(r,e,n,i,!0),t.isCollapsed()||(o.end=Au(r,e,n,i,!1)),o}(e,n,t,o)},Mu=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Bu=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ou(n,s,a)};var u=Iu(i.cloneRange());if(!o){u.collapse(!1);var c=Mu(n,r+"_end",t);yu(n,u,c)}(i=Iu(i)).collapse(!0);var l=Mu(n,r+"_start",t);return yu(n,i,l),e.moveToBookmark({id:r,keep:!0}),{id:r}},ju=function(e,t,n){return 2===t?Lu(fr,n,e):3===t?function(e){var t=e.getRng();return{start:Tu(e.dom.getRoot(),mu.fromRangeStart(t)),end:Tu(e.dom.getRoot(),mu.fromRangeEnd(t))}}(e):t?function(e){return{rng:e.getRng()}}(e):Bu(e,!1)},Fu=_(Lu,t,!0),Hu=is.DOM,zu=function(e,t,n){var i=e.getParam(t,n);if(-1===i.indexOf("="))return i;var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n},qu=function(e){return e.getParam("content_security_policy","")},Wu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Uu=function(e){return e.getParam("forced_root_block_attrs",{})},Vu=function(e){return e.getParam("automatic_uploads",!0,"boolean")},$u=function(e){return e.getParam("icons","","string")},Yu=function(e){return e.getParam("referrer_policy","","string")},Qu=function(e){return e.getParam("language","en","string")},Ku=function(e){return e.getParam("indent_use_margin",!1)},Xu=function(e){var t=e.getParam("font_css",[]);return E(t)?t:H(t.split(","),Ue)},Gu=function(e){var t=e.getParam("object_resizing");return!1!==t&&!pt.iOS&&(W(t)?t:"table,img,figure.image,div,video,iframe")},Ju=function(e){return e.getParam("event_root")},Zu=function(e){return e.getParam("theme")},ec=function(e){return!1!==e.getParam("inline_boundaries")},tc=function(e){return e.getParam("plugins","","string")},nc=wn,ic=Nn,rc=function(e){var t=e.parentNode;t&&t.removeChild(e)},oc=function(e){var t=fr(e);return{count:e.length-t.length,text:t}},ac=function(e){for(var t;-1!==(t=e.data.lastIndexOf(cr));)e.deleteData(t,1)},sc=function(e,t){return fc(e),t},uc=function(e,t){var n=t.container(),i=function(e,t){var n=B(e,t);return-1===n?C.none():C.some(n)}(oe(n.childNodes),e).map(function(e){return e<t.offset()?mu(n,t.offset()-1):t}).getOr(t);return fc(e),i},cc=function(e,t){return ic(e)&&t.container()===e?function(e,t){var n=oc(e.data.substr(0,t.offset())),i=oc(e.data.substr(t.offset()));return 0<(n.text+i.text).length?(ac(e),mu(e,t.offset()-n.count)):t}(e,t):sc(e,t)},lc=function(e,t){return mu.isTextPosition(t)?cc(e,t):function(e,t){return t.container()===e.parentNode?uc(e,t):sc(e,t)}(e,t)},fc=function(e){nc(e)&&gr(e)&&(vr(e)?e.removeAttribute("data-mce-caret"):rc(e)),ic(e)&&(ac(e),0===e.data.length&&rc(e))},dc=ot().browser,hc=Mn,pc=jn,mc=Bn,gc=function(e,t,n){var i,r,o,a,s,u=Ws(t.getBoundingClientRect(),n);return o="BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop):(s=e.getBoundingClientRect(),r=e.scrollLeft-s.left,e.scrollTop-s.top),u.left+=r,u.right+=r,u.top+=o,u.bottom+=o,u.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),u.left+=a,u.right+=a),u},vc=function(e,o,a,t){var n,s,u=us(C.none()),i=Wu(e),c=0<i.length?i:"p",l=function(){!function(e){for(var t=ks(wt.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var i,r=t[n].dom,o=r.previousSibling;xr(o)&&(1===(i=o.data).length?o.parentNode.removeChild(o):o.deleteData(i.length-1,1)),o=r.nextSibling,wr(o)&&(1===(i=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))}}(o),s&&(fc(s),s=null),u.get().each(function(e){Xa(e.caret).remove(),u.set(C.none())}),n&&(Yi.clearInterval(n),n=null)},f=function(){n=Yi.setInterval(function(){t()?Xa("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden"):Xa("div.mce-visual-caret",o).addClass("mce-visual-caret-hidden")},500)};return{show:function(t,e){var n,i;if(l(),mc(e))return null;if(!a(e))return s=function(e,t){var n,i=e.ownerDocument.createTextNode(cr),r=e.parentNode;if(t){if(n=e.previousSibling,hr(n)){if(gr(n))return n;if(xr(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,hr(n)){if(gr(n))return n;if(wr(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(e,t),i=e.ownerDocument.createRange(),yc(s.nextSibling)?(i.setStart(s,0),i.setEnd(s,0)):(i.setStart(s,1),i.setEnd(s,1)),i;s=_r(c,e,t),n=gc(o,e,t),Xa(s).css("top",n.top);var r=Xa('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(o)[0];return u.set(C.some({caret:r,element:e,before:t})),u.get().each(function(e){t&&Xa(e.caret).addClass("mce-visual-caret-before")}),f(),(i=e.ownerDocument.createRange()).setStart(s,0),i.setEnd(s,0),i},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){u.get().each(function(e){var t=gc(o,e.element,e.before);Xa(e.caret).css(Te({},t))})},destroy:function(){return Yi.clearInterval(n)}}},bc=function(){return dc.isIE()||dc.isEdge()||dc.isFirefox()},yc=function(e){return hc(e)||pc(e)},_c=function(e){return yc(e)||Dn(e)&&bc()},wc=Mn,xc=jn,Cc=Cn("display","block table table-cell table-caption list-item"),kc=gr,Sc=pr,Dc=wn,Tc=Pr,Ec=function(e){return 0<e},Nc=function(e){return e<0},Ac=function(e,t){for(var n;n=e(t);)if(!Sc(n))return n;return null},Oc=function(e,t,n,i,r){var o=new Xi(e,i),a=wc(e)||Sc(e);if(Nc(t)){if(a&&n(e=Ac(o.prev.bind(o),!0)))return e;for(;e=Ac(o.prev.bind(o),r);)if(n(e))return e}if(Ec(t)){if(a&&n(e=Ac(o.next.bind(o),!0)))return e;for(;e=Ac(o.next.bind(o),r);)if(n(e))return e}return null},Pc=function(e,t){for(;e&&e!==t;){if(Cc(e))return e;e=e.parentNode}return null},Ic=function(e,t,n){return Pc(e.container(),n)===Pc(t.container(),n)},Rc=function(e,t){if(!t)return null;var n=t.container(),i=t.offset();return Dc(n)?n.childNodes[i+e]:null},Lc=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Mc=function(e,t,n){var i,r,o,a;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],kc(i)&&(i=i[r]),wc(i)||xc(i)){if(a=n,Pc(i,o=t)===Pc(a,o))return i;break}if(Tc(i))break;n=n.parentNode}return null},Bc=_(Lc,!0),jc=_(Lc,!1),Fc=function(e,t,n){var i,r,o,a=_(Mc,!0,t),s=_(Mc,!1,t);r=n.startContainer;var u=n.startOffset;if(pr(r)){if(Dc(r)||(r=r.parentNode),"before"===(o=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,_c(i)))return Bc(i);if("after"===o&&(i=r.previousSibling,_c(i)))return jc(i)}if(!n.collapsed)return n;if(Nn(r)){if(kc(r)){if(1===e){if(i=s(r))return Bc(i);if(i=a(r))return jc(i)}if(-1===e){if(i=a(r))return jc(i);if(i=s(r))return Bc(i)}return n}if(xr(r)&&u>=r.data.length-1)return 1===e&&(i=s(r))?Bc(i):n;if(wr(r)&&u<=1)return-1===e&&(i=a(r))?jc(i):n;if(u===r.data.length)return(i=s(r))?Bc(i):n;if(0===u)return(i=a(r))?jc(i):n}return n},Hc=function(e,t){return C.from(Rc(e?0:-1,t)).filter(wc)},zc=function(e,t,n){var i=Fc(e,t,n);return-1===e?mu.fromRangeStart(i):mu.fromRangeEnd(i)},qc=function(e){return C.from(e.getNode()).map(wt.fromDom)},Wc=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Uc=function(e,t){var n=Ic(e,t);return!(n||!In(e.getNode()))||n};(vu=gu||(gu={}))[vu.Backwards=-1]="Backwards",vu[vu.Forwards=1]="Forwards";var Vc,$c,Yc,Qc,Kc=Mn,Xc=Nn,Gc=wn,Jc=In,Zc=Pr,el=function(e){return Nr(e)||function(e){return!!Ir(e)&&!0!==K(oe(e.getElementsByTagName("*")),function(e,t){return e||kr(t)},!1)}(e)},tl=Rr,nl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},il=function(e,t){if(Ec(e)){if(Zc(t.previousSibling)&&!Xc(t.previousSibling))return mu.before(t);if(Xc(t))return mu(t,0)}if(Nc(e)){if(Zc(t.nextSibling)&&!Xc(t.nextSibling))return mu.after(t);if(Xc(t))return mu(t,t.data.length)}return Nc(e)?Jc(t)?mu.before(t):mu.after(t):mu.before(t)},rl=function(e,t,n){var i,r,o,a;if(!Gc(n)||!t)return null;if(t.isEqual(mu.after(n))&&n.lastChild){if(a=mu.after(n.lastChild),Nc(e)&&Zc(n.lastChild)&&Gc(n.lastChild))return Jc(n.lastChild)?mu.before(n.lastChild):a}else a=t;var s=a.container(),u=a.offset();if(Xc(s)){if(Nc(e)&&0<u)return mu(s,--u);if(Ec(e)&&u<s.length)return mu(s,++u);i=s}else{if(Nc(e)&&0<u&&(r=nl(s,u-1),Zc(r)))return!el(r)&&(o=Oc(r,e,tl,r))?Xc(o)?mu(o,o.data.length):mu.after(o):Xc(r)?mu(r,r.data.length):mu.before(r);if(Ec(e)&&u<s.childNodes.length&&(r=nl(s,u),Zc(r)))return Jc(r)?function(e,t){var n=t.nextSibling;return n&&Zc(n)?Xc(n)?mu(n,0):mu.before(n):rl(gu.Forwards,mu.after(t),e)}(n,r):!el(r)&&(o=Oc(r,e,tl,r))?Xc(o)?mu(o,0):mu.before(o):Xc(r)?mu(r,0):mu.after(r);i=r||a.getNode()}if((Ec(e)&&a.isAtEnd()||Nc(e)&&a.isAtStart())&&(i=Oc(i,e,v,n,!0),tl(i,n)))return il(e,i);r=Oc(i,e,tl,n);var c=De(Y(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(s,n),Kc));return!c||r&&c.contains(r)?r?il(e,r):null:a=Ec(e)?mu.after(c):mu.before(c)},ol=function(t){return{next:function(e){return rl(gu.Forwards,e,t)},prev:function(e){return rl(gu.Backwards,e,t)}}},al=function(e){return mu.isTextPosition(e)?0===e.offset():Pr(e.getNode())},sl=function(e){if(mu.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Pr(e.getNode(!0))},ul=function(e,t){return!mu.isTextPosition(e)&&!mu.isTextPosition(t)&&e.getNode()===t.getNode(!0)},cl=function(e,t,n){return e?!ul(t,n)&&!function(e){return!mu.isTextPosition(e)&&In(e.getNode())}(t)&&sl(t)&&al(n):!ul(n,t)&&al(t)&&sl(n)},ll=function(e,t,n){var i=ol(t);return C.from(e?i.next(n):i.prev(n))},fl=function(t,n,i){return ll(t,n,i).bind(function(e){return Ic(i,e,n)&&cl(t,i,e)?ll(t,n,e):C.some(e)})},dl=function(t,n,e,i){return fl(t,n,e).bind(function(e){return i(e)?dl(t,n,e,i):C.some(e)})},hl=function(e,t){var n=e?t.firstChild:t.lastChild;return Nn(n)?C.some(mu(n,e?0:n.data.length)):n?Pr(n)?C.some(e?mu.before(n):function(e){return In(e)?mu.before(e):mu.after(e)}(n)):function(e,t,n){var i=e?mu.before(n):mu.after(n);return ll(e,t,i)}(e,t,n):C.none()},pl=_(ll,!0),ml=_(ll,!1),gl=_(hl,!0),vl=_(hl,!1),bl="_mce_caret",yl=function(e){return wn(e)&&e.id===bl},_l=function(e,t){for(;t&&t!==e;){if(t.id===bl)return t;t=t.parentNode}return null},wl=function(e,t){return wn(t)&&e.isBlock(t)&&!t.innerHTML&&!pt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},xl=function(e,t){return vl(e).fold(g,function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Cl=function(e,t,n){return!(!function(e){return!1===e.hasChildNodes()}(t)||!_l(e,t))&&(function(e,t){var n=e.ownerDocument.createTextNode(cr);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)}(t,n),!0)},kl=function(e,t,n,i){var r,o,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],o=c,r=u.length-1;1<=r;r--){if(s=o.childNodes,Cl(c,o,i))return!0;if(u[r]>s.length-1)return!!Cl(c,o,i)||xl(o,i);o=s[u[r]]}3===o.nodeType&&(a=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(u[0],o.childNodes.length)),t?i.setStart(o,a):i.setEnd(o,a)}return!0},Sl=function(e){return Nn(e)&&0<e.data.length},Dl=function(e,t,n){var i,r,o,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(i=c.parentNode,u=(s=(r="start"===t?l?c.hasChildNodes()?(i=c.firstChild,1):Sl(c.nextSibling)?(i=c.nextSibling,0):Sl(c.previousSibling)?(i=c.previousSibling,c.previousSibling.data.length):(i=c.parentNode,e.nodeIndex(c)+1):e.nodeIndex(c):l?c.hasChildNodes()?(i=c.firstChild,1):Sl(c.previousSibling)?(i=c.previousSibling,c.previousSibling.data.length):(i=c.parentNode,e.nodeIndex(c)):e.nodeIndex(c),i),r),!l){for(a=c.previousSibling,o=c.nextSibling,yt.each(yt.grep(c.childNodes),function(e){Nn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&Nn(a)&&!pt.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,u=r)}return C.some(mu(s,u))}return C.none()},Tl=function(e,t){var n=e.dom;if(t){if(function(e){return yt.isArray(e.start)}(t))return function(e,t){var n=e.createRng();return kl(e,!0,t,n)&&kl(e,!1,t,n)?C.some(n):C.none()}(n,t);if(function(e){return W(e.start)}(t))return C.some(function(e,t){var n,i=e.createRng();return n=Eu(e.getRoot(),t.start),i.setStart(n.container(),n.offset()),n=Eu(e.getRoot(),t.end),i.setEnd(n.container(),n.offset()),i}(n,t));if(function(e){return e.hasOwnProperty("id")}(t))return function(i,e){var t=Dl(i,"start",e),n=Dl(i,"end",e);return Hs(t,n.or(t),function(e,t){var n=i.createRng();return n.setStart(wl(i,e.container()),e.offset()),n.setEnd(wl(i,t.container()),t.offset()),n})}(n,t);if(function(e){return e.hasOwnProperty("name")}(t))return function(n,e){return C.from(n.select(e.name)[e.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t})}(n,t);if(function(e){return e.hasOwnProperty("rng")}(t))return C.some(t.rng)}return C.none()},El=function(e,t,n){return ju(e,t,n)},Nl=function(t,e){Tl(t,e).each(function(e){t.setRng(e)})},Al=function(e){return wn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Ol=(Vc="Â ",function(e){return Vc===e}),Pl=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},Il=function(e){return!Pl(e)&&!Ol(e)},Rl=function(e){return!!e.nodeType},Ll=function(e,t,n){var i,r,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?(s=o[a],i=new Xi(s,e.getParent(s,e.isBlock))):(s=o[o.length-1],(i=new Xi(s,e.getParent(s,e.isBlock))).next(!0)),r=i.current();r;r=i.next())if(3===r.nodeType&&!Fl(r))return n.setStart(r,0),void t.setRng(n)},Ml=function(e,t,n){if(e){var i=t?"nextSibling":"previousSibling";for(e=n?e:e[i];e;e=e[i])if(1===e.nodeType||!Fl(e))return e}},Bl=function(e,t){return Rl(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},jl=function(e,t,n){return e.schema.isValidChild(t,n)},Fl=function(e,t){if(void 0===t&&(t=!1),V(e)&&Nn(e)){var n=t?e.data.replace(/ /g,"Â "):e.data;return Mr(n)}return!1},Hl=function(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},zl=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},ql=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Wl=function(e,t,n){return ql(e,e.getStyle(t,n),n)},Ul=function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},Vl=function(e,t,n){return e.getParents(t,n,e.getRoot())},$l=function(t,e,i){var n=["inline","block","selector","attributes","styles","classes"],r=function(e){return pe(e,function(e,t){return F(n,function(e){return e===t})})};return F(t.formatter.get(e),function(e){var n=r(e);return F(t.formatter.get(i),function(e){var t=r(e);return function(e,t,n){return void 0===n&&(n=s),a(n).eq(e,t)}(n,t)})})},Yl=function(e){return be(e,"block")},Ql=function(e){return be(e,"selector")},Kl=function(e){return be(e,"inline")},Xl=Al,Gl=Vl,Jl=Fl,Zl=Bl,ef=function(e,t){for(var n=t;n;){if(wn(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},tf=function(e,t,n,i){for(var r=t.data,o=n;e?0<=o:o<r.length;e?o--:o++)if(i(r.charAt(o)))return e?o+1:o;return-1},nf=function(e,t,n){return tf(e,t,n,function(e){return Ol(e)||Pl(e)})},rf=function(e,t,n){return tf(e,t,n,Il)},of=function(o,e,t,n,a,i){var s,u=o.getParent(t,o.isBlock)||e,r=function(e,t,n){var i=Fs(o),r=a?i.backwards:i.forwards;return C.from(r(e,t,function(e,t){return Xl(e.parentNode)?-1:n(a,s=e,t)},u))};return r(t,n,nf).bind(function(e){return i?r(e.container,e.offset+(a?-1:0),rf):C.some(e)}).orThunk(function(){return s?C.some({container:s,offset:a?0:s.length}):C.none()})},af=function(e,t,n,i,r){Nn(i)&&0===i.nodeValue.length&&i[r]&&(i=i[r]);for(var o=Gl(e,i),a=0;a<o.length;a++)for(var s=0;s<t.length;s++){var u=t[s];if(!("collapsed"in u&&u.collapsed!==n.collapsed)&&e.is(o[a],u.selector))return o[a]}return i},sf=function(t,e,n,i){var r,o=t.dom,a=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(Nn(n)?n.parentNode:n,function(e){return e!==a&&Zl(t,e)},s)}if(r&&e[0].wrapper&&(r=Gl(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!zl(r,"br")););return r||n},uf=function(e,t,n,i){var r=n.parentNode;return!V(n[i])&&(!(r!==t&&!U(r)&&!e.isBlock(r))||uf(e,t,r,i))},cf=function(e,t,n,i,r){var o,a,s=n,u=r?"previousSibling":"nextSibling",c=e.getRoot();if(Nn(n)&&!Jl(n)&&(r?0<i:i<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(o=s[u];o;o=o[u]){var l=Nn(o)&&!uf(e,c,o,u);if(!Xl(o)&&(!In(a=o)||!a.getAttribute("data-mce-bogus")||a.nextSibling)&&!Jl(o,l))return s}if(s===c||s.parentNode===c){n=s;break}s=s.parentNode}return n},lf=function(e){return Xl(e.parentNode)||Xl(e)},ff=function(e,t,n,i){void 0===i&&(i=!1);var r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,u=e.dom;(wn(r)&&r.hasChildNodes()&&(r=Ks(r,o),Nn(r)&&(o=0)),wn(a)&&a.hasChildNodes()&&(a=Ks(a,t.collapsed?s:s-1),Nn(a)&&(s=a.nodeValue.length)),r=ef(u,r),a=ef(u,a),lf(r)&&(r=Xl(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,Nn(r)&&(o=t.collapsed?r.length:0)),lf(a)&&(a=Xl(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Nn(a)&&(s=t.collapsed?0:a.length)),t.collapsed)&&(of(u,e.getBody(),r,o,!0,i).each(function(e){var t=e.container,n=e.offset;r=t,o=n}),of(u,e.getBody(),a,s,!1,i).each(function(e){var t=e.container,n=e.offset;a=t,s=n}));return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Nn(r)&&0!==o||(r=cf(u,n,r,o,!0)),n[0].inline&&Nn(a)&&s!==a.nodeValue.length||(a=cf(u,n,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=af(u,n,t,r,"previousSibling"),a=af(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(r=sf(e,n,r,"previousSibling"),a=sf(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(r)||(r=cf(u,n,r,o,!0)),u.isBlock(a)||(a=cf(u,n,a,s,!1)))),wn(r)&&(o=u.nodeIndex(r),r=r.parentNode),wn(a)&&(s=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:o,endContainer:a,endOffset:s}},df=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},hf=function(e,t,s){var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,u=function(e){var t;return 3===(t=e[0]).nodeType&&t===n&&i>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===o&&0<e.length&&t===r&&3===t.nodeType&&e.splice(e.length-1,1),e},c=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},a=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,n){for(var i=n?"nextSibling":"previousSibling",r=e,o=r.parentNode;r&&r!==t;r=o){o=r.parentNode;var a=c(r===e?r:r[i],i);a.length&&(n||a.reverse(),s(u(a)))}};if(1===n.nodeType&&n.hasChildNodes()&&(n=df(n,i)),1===r.nodeType&&r.hasChildNodes()&&(r=function(e,t){return df(e,t-1)}(r,o)),n===r)return s(u([n]));for(var f=e.findCommonAncestor(n,r),d=n;d;d=d.parentNode){if(d===r)return l(n,f,!0);if(d===f)break}for(d=r;d;d=d.parentNode){if(d===n)return l(r,f);if(d===f)break}var h=a(n,f)||n,p=a(r,f)||r;l(n,h,!0);var m=c(h===n?h:h.nextSibling,"nextSibling",p===r?p.nextSibling:p);m.length&&s(u(m)),l(r,p)},pf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},mf=function(e){return Y(function(e){return J(e,function(e){var t=Qs(e);return t?[wt.fromDom(t)]:[]})}(e),ar)},gf=function(e,t){var n=function(e){return ks(e,"td[data-mce-selected],th[data-mce-selected]")}(t);return 0<n.length?n:mf(e)},vf=function(e){return gf(pf(e.selection.getSel()),wt.fromDom(e.getBody()))},bf=function(t){return Vt(t).fold(y([t]),function(e){return[t].concat(bf(e))})},yf=function(t){return $t(t).fold(y([t]),function(e){return"br"===Et(e)?Ft(e).map(function(e){return[t].concat(yf(e))}).getOr([]):[t].concat(yf(e))})},_f=function(r,e){return Hs(function(e){var t=e.startContainer,n=e.startOffset;return Nn(t)?0===n?C.some(wt.fromDom(t)):C.none():C.from(t.childNodes[n]).map(wt.fromDom)}(e),function(e){var t=e.endContainer,n=e.endOffset;return Nn(t)?n===t.data.length?C.some(wt.fromDom(t)):C.none():C.from(t.childNodes[n-1]).map(wt.fromDom)}(e),function(e,t){var n=X(bf(r),_(St,e)),i=X(yf(r),_(St,t));return n.isSome()&&i.isSome()}).getOr(!1)},wf=function(e,t,n,i){var r=n,o=new Xi(n,r),a=pe(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!j(["td","th","table"],t.toLowerCase())});do{if(Nn(n)&&0!==yt.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},xf=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount},Cf=function(i,r){var e=vf(i);0<e.length?$(e,function(e){var t=e.dom,n=i.dom.createRng();n.setStartBefore(t),n.setEndAfter(t),r(n,!0)}):r(i.selection.getRng(),!1)},kf=function(e,t,n){var i=Bu(e,t);n(i),e.moveToBookmark(i)},Sf=($c=Pt,Yc="text",{get:function(e){if(!$c(e))throw new Error("Can only get "+Yc+" value of a "+Yc+" node");return Qc(e).getOr("")},getOption:Qc=function(e){return $c(e)?C.from(e.dom.nodeValue):C.none()},set:function(e,t){if(!$c(e))throw new Error("Can only set raw "+Yc+" value of a "+Yc+" node");e.dom.nodeValue=t}}),Df=function(e){return Sf.get(e)},Tf=function(t,n,i,r){return jt(n).fold(function(){return"skipping"},function(e){return"br"===r||function(e){return Pt(e)&&Df(e)===cr}(n)?"valid":function(e){return Ot(e)&&xs(e,Ss())}(n)?"existing":yl(n.dom)?"caret":jl(t,i,r)&&jl(t,Et(e),i)?"valid":"invalid-child"})},Ef=function(e,t,n,i){var r=t.uid,o=void 0===r?Is("mce-annotation"):r,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["uid"]),s=wt.fromTag("span",e);_s(s,Ss()),zn(s,""+Ts(),o),zn(s,""+Ds(),n);var u=i(o,a),c=u.attributes,l=void 0===c?{}:c,f=u.classes,d=void 0===f?[]:f;return qn(s,l),function(t,e){$(e,function(e){_s(t,e)})}(s,d),s},Nf=function(n,e,t,i,r){var o=[],a=Ef(n.getDoc(),r,t,i),s=us(C.none()),u=function(){s.set(C.none())},c=function(e){$(e,l)},l=function(e){switch(Tf(n,e,"span",Et(e))){case"invalid-child":u();var t=Wt(e);c(t),u();break;case"valid":!function(e,t){en(e,t),rn(t,e)}(e,s.get().getOrThunk(function(){var e=Ms(a);return o.push(e),s.set(C.some(e)),e}))}};return hf(n.dom,e,function(e){u(),function(e){var t=H(e,wt.fromDom);c(t)}(e)}),o},Af=function(r,o,a,s){r.undoManager.transact(function(){var e=r.selection,t=e.getRng(),n=0<vf(r).length;if(t.collapsed&&!n&&function(e,t){var n=ff(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)}(r,t),e.getRng().collapsed&&!n){var i=Ef(r.getDoc(),s,o,a.decorate);Rs(i,"Â "),e.getRng().insertNode(i.dom),e.select(i.dom)}else kf(e,!1,function(){Cf(r,function(e){Nf(r,e,o,a.decorate,s)})})})},Of=function(i){var r=function(){var n={};return{register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return n.hasOwnProperty(e)?C.from(n[e]).map(function(e){return e.settings}):C.none()}}}();Os(i,r);var n=As(i);return{register:function(e,t){r.register(e,t)},annotate:function(t,n){r.lookup(t).each(function(e){Af(i,t,e,n)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(e){Es(i,C.some(e)).each(function(e){var t=e.elements;$(t,un)})},getAll:function(e){var t=function(e,t){var n=wt.fromDom(e.getBody()),i=ks(n,"["+Ds()+'="'+t+'"]'),r={};return $(i,function(e){var t=Wn(e,Ts()),n=r.hasOwnProperty(t)?r[t]:[];r[t]=n.concat([e])}),r}(i,e);return ce(t,function(e){return H(e,function(e){return e.dom})})}}},Pf=function(e){return{getBookmark:_(El,e),moveToBookmark:_(Nl,e)}};Pf.isBookmarkNode=Al;var If=function(e,t){for(;t&&t!==e;){if(Ln(t)||Mn(t))return t;t=t.parentNode}return null},Rf=function(t,n,e){if(e.collapsed)return!1;if(pt.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var i=e.startContainer.childNodes[e.startOffset];if(wn(i))return F(i.getClientRects(),function(e){return Ys(e,t,n)})}return F(e.getClientRects(),function(e){return Ys(e,t,n)})},Lf=function(e,t,n){return e.fire(t,n)},Mf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Mf.metaKeyPressed(e)},metaKeyPressed:function(e){return pt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Bf=Mn,jf=function(i,c){var l,f,d,h,p,m,g,v,b,y,o,_,w,x,C,k="data-mce-selected",S=c.dom,D=yt.each,T=c.getDoc(),E=document,a=Math.abs,s=Math.round,N=c.getBody(),A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},u=function(e){return e&&("IMG"===e.nodeName||c.dom.is(e,"figure.image"))},O=function(e){return jn(e)||S.hasClass(e,"mce-preview-object")},n=function(e){var t=e.target;(function(e,t){if("longpress"!==e.type&&0!==e.type.indexOf("touch"))return u(e.target)&&!Rf(e.clientX,e.clientY,t);var n=e.touches[0];return u(e.target)&&!Rf(n.clientX,n.clientY,t)})(e,c.selection.getRng())&&!e.isDefaultPrevented()&&c.selection.select(t)},P=function(e){return S.is(e,"figure.image")?[e.querySelector("img")]:S.hasClass(e,"mce-preview-object")&&V(e.firstElementChild)?[e,e.firstElementChild]:[e]},I=function(e){var t=Gu(c);return!!t&&("false"!==e.getAttribute("data-mce-resize")&&(e!==c.getBody()&&(S.hasClass(e,"mce-preview-object")?Ct(wt.fromDom(e.firstElementChild),t):Ct(wt.fromDom(e),t))))},r=function(e,t,n){if(V(n)){var i=P(e);$(i,function(e){e.style[t]||!c.schema.isValid(e.nodeName.toLowerCase(),t)?S.setStyle(e,t,n):S.setAttrib(e,t,""+n)})}},R=function(e,t,n){r(e,"width",t),r(e,"height",n)},L=function(e){var t,n,i,r;t=e.screenX-m,n=e.screenY-g,_=t*h[2]+v,w=n*h[3]+b,_=_<5?5:_,w=w<5?5:w,((u(l)||O(l))&&!1!==function(e){return e.getParam("resize_img_proportional",!0,"boolean")}(c)?!Mf.modifierPressed(e):Mf.modifierPressed(e))&&(a(t)>a(n)?(w=s(_*y),_=s(w/y)):(_=s(w/y),w=s(_*y))),R(f,_,w),i=0<(i=h.startPos.x+t)?i:0,r=0<(r=h.startPos.y+n)?r:0,S.setStyles(d,{left:i,top:r,display:"block"}),d.innerHTML=_+" &times; "+w,h[2]<0&&f.clientWidth<=_&&S.setStyle(f,"left",void 0+(v-_)),h[3]<0&&f.clientHeight<=w&&S.setStyle(f,"top",void 0+(b-w)),(t=N.scrollWidth-x)+(n=N.scrollHeight-C)!==0&&S.setStyles(d,{left:i-t,top:r-n}),o||(function(e,t,n,i,r){e.fire("ObjectResizeStart",{target:t,width:n,height:i,origin:r})}(c,l,v,b,"corner-"+h.name),o=!0)},M=function(){var e=o;o=!1,e&&(r(l,"width",_),r(l,"height",w)),S.unbind(T,"mousemove",L),S.unbind(T,"mouseup",M),E!==T&&(S.unbind(E,"mousemove",L),S.unbind(E,"mouseup",M)),S.remove(f),S.remove(d),S.remove(p),B(l),e&&(function(e,t,n,i,r){e.fire("ObjectResized",{target:t,width:n,height:i,origin:r})}(c,l,_,w,"corner-"+h.name),S.setAttrib(l,"style",S.getAttrib(l,"style"))),c.nodeChanged()},B=function(e){z();var t=S.getPos(e,N),r=t.x,o=t.y,n=e.getBoundingClientRect(),a=n.width||n.right-n.left,s=n.height||n.bottom-n.top;l!==e&&(j(),l=e,_=w=0);var i=c.fire("ObjectSelected",{target:e}),u=S.getAttrib(l,k,"1");I(e)&&!i.isDefaultPrevented()?D(A,function(n,i){var e,t=function(e){var t=P(l)[0];m=e.screenX,g=e.screenY,v=t.clientWidth,b=t.clientHeight,y=b/v,(h=n).name=i,h.startPos={x:a*n[0]+r,y:s*n[1]+o},x=N.scrollWidth,C=N.scrollHeight,p=S.add(N,"div",{class:"mce-resize-backdrop"}),S.setStyles(p,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=function(e){return O(e)?S.create("img",{src:pt.transparentSrc}):e.cloneNode(!0)}(l),S.addClass(f,"mce-clonedresizable"),S.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",S.setStyles(f,{left:r,top:o,margin:0}),R(f,a,s),f.removeAttribute(k),N.appendChild(f),S.bind(T,"mousemove",L),S.bind(T,"mouseup",M),E!==T&&(S.bind(E,"mousemove",L),S.bind(E,"mouseup",M)),d=S.add(N,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},v+" &times; "+b)};(e=S.get("mceResizeHandle"+i))&&S.remove(e),e=S.add(N,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),11===pt.ie&&(e.contentEditable=!1),S.bind(e,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),t(e)}),n.elm=e,S.setStyles(e,{left:a*n[0]+r-e.offsetWidth/2,top:s*n[1]+o-e.offsetHeight/2})}):j(),S.getAttrib(l,k)||l.setAttribute(k,u)},j=function(){z(),l&&l.removeAttribute(k),ue(A,function(e,t){var n=S.get("mceResizeHandle"+t);n&&(S.unbind(n),S.remove(n))})},F=function(e){var t,n=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};o||c.removed||(D(S.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute(k)}),t="mousedown"===e.type?e.target:i.getNode(),n(t=S.$(t).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],N)&&(q(),n(i.getStart(!0),t)&&n(i.getEnd(!0),t))?B(t):j())},H=function(e){return Bf(If(c.getBody(),e))},z=function(){ue(A,function(e){e.elm&&(S.unbind(e.elm),delete e.elm)})},q=function(){try{c.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};c.on("init",function(){if(q(),pt.browser.isIE()||pt.browser.isEdge()){c.on("mousedown click",function(e){var t=e.target,n=t.nodeName;o||!/^(TABLE|IMG|HR)$/.test(n)||H(t)||(2!==e.button&&c.selection.select(t,"TABLE"===n),"mousedown"===e.type&&c.nodeChanged())});var e=function(e){var t=function(e){Yi.setEditorTimeout(c,function(){return c.selection.select(e)})};if(H(e.target)||jn(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))};S.bind(N,"mscontrolselect",e),c.on("remove",function(){return S.unbind(N,"mscontrolselect",e)})}var t=Yi.throttle(function(e){c.composing||F(e)});c.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",t),c.on("keyup compositionend",function(e){l&&"TABLE"===l.nodeName&&t(e)}),c.on("hide blur",j),c.on("contextmenu longpress",n,!0)}),c.on("remove",z);return{isResizable:I,showResizeRect:B,hideResizeRect:j,updateResizeRect:F,destroy:function(){l=f=p=null}}},Ff=function(e){return Ln(e)||Mn(e)},Hf=function(t,n,i){var r,e,o=i;if(o.caretPositionFromPoint)(e=o.caretPositionFromPoint(t,n))&&((r=i.createRange()).setStart(e.offsetNode,e.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(t,n);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(t,n),r.collapse(!0)}catch(e){r=function(e,n,t){var i,r=t.elementFromPoint(e,n),o=t.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(i=(i=yt.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(t,n,i)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Mn(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(n,t,Ff))?null:e}(r,i.body)}return r},zf=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},qf=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},Wf=function(e,t,n){return qf(e,t,function(e){return e.nodeName===n})},Uf=function(e){return e&&"TABLE"===e.nodeName},Vf=function(e,t,n){for(var i=new Xi(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(In(t))return!0},$f=function(e,t,n,i,r){var o,a,s=e.getRoot(),u=e.schema.getNonEmptyElements(),c=e.getParent(r.parentNode,e.isBlock)||s;if(i&&In(r)&&t&&e.isEmpty(c))return C.some(mu(r.parentNode,e.nodeIndex(r)));for(var l,f,d=new Xi(r,c);a=d[i?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(f=s,gr(l=a)&&!1===qf(l,f,yl)))return C.none();if(Nn(a)&&0<a.nodeValue.length)return!1===Wf(a,s,"A")?C.some(mu(a,i?a.nodeValue.length:0)):C.none();if(e.isBlock(a)||u[a.nodeName.toLowerCase()])return C.none();o=a}return n&&o?C.some(mu(o,0)):C.none()},Yf=function(e,t,n,i){var r,o,a,s,u=e.getRoot(),c=!1;r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"];var l,f=wn(r)&&o===r.childNodes.length,d=e.schema.getNonEmptyElements();if(s=n,gr(r))return C.none();if(wn(r)&&o>r.childNodes.length-1&&(s=!1),On(r)&&(r=u,o=0),r===u){if(s&&(a=r.childNodes[0<o?o-1:0])){if(gr(a))return C.none();if(d[a.nodeName]||Uf(a))return C.none()}if(r.hasChildNodes()){if(o=Math.min(!s&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Nn(r)&&f?r.data.length:0,!t&&r===u.lastChild&&Uf(r))return C.none();if(function(e,t){for(;t&&t!==e;){if(Mn(t))return!0;t=t.parentNode}return!1}(u,r)||gr(r))return C.none();if(r.hasChildNodes()&&!1===Uf(r)){var h=new Xi(a=r,u);do{if(Mn(a)||gr(a)){c=!1;break}if(Nn(a)&&0<a.nodeValue.length){o=s?0:a.nodeValue.length,r=a,c=!0;break}if(d[a.nodeName.toLowerCase()]&&(!(l=a)||!/^(TD|TH|CAPTION)$/.test(l.nodeName))){o=e.nodeIndex(a),r=a.parentNode,s||o++,c=!0;break}}while(a=s?h.next():h.prev())}}}return t&&(Nn(r)&&0===o&&$f(e,f,t,!0,r).each(function(e){r=e.container(),o=e.offset(),c=!0}),wn(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!In(a)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(a,"A")||Vf(e,a,!1)||Vf(e,a,!0)||$f(e,f,t,!0,a).each(function(e){r=e.container(),o=e.offset(),c=!0}))),s&&!t&&Nn(r)&&o===r.nodeValue.length&&$f(e,f,t,!1,r).each(function(e){r=e.container(),o=e.offset(),c=!0}),c?C.some(mu(r,o)):C.none()},Qf=function(e,t){var n=t.collapsed,i=t.cloneRange(),r=mu.fromRangeStart(t);return Yf(e,n,!0,i).each(function(e){n&&mu.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||Yf(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),zf(t,i)?C.none():C.some(i)},Kf=function(e,t){return e.splitText(t)},Xf=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&Nn(t)?0<n&&n<t.nodeValue.length&&(t=(i=Kf(t,n)).previousSibling,n<r?(t=i=Kf(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Nn(t)&&0<n&&n<t.nodeValue.length&&(t=Kf(t,n),n=0),Nn(i)&&0<r&&r<i.nodeValue.length&&(r=(i=Kf(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},Gf=function(n){return{walk:function(e,t){return hf(n,e,t)},split:Xf,normalize:function(t){return Qf(n,t).fold(g,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}};Gf.compareRanges=zf,Gf.getCaretRangeFromPoint=Hf,Gf.getSelectedNode=Qs,Gf.getNode=Ks;var Jf,Zf,ed,td,nd,id=(Jf="height",Zf=function(e){var t=e.dom;return cn(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!I(t)&&!t.match(/^[0-9]+$/))throw new Error(Jf+".set accepts only positive integer values. Value was "+t);var n=e.dom;Fn(n)&&(n.style[Jf]=t+"px")},get:ed=function(e){var t=Zf(e);if(t<=0||null===t){var n=Yn(e,Jf);return parseFloat(n)||0}return t},getOuter:ed,aggregate:td=function(r,e){return K(e,function(e,t){var n=Yn(r,t),i=void 0===n?0:parseInt(n,10);return isNaN(i)?e:e+i},0)},max:function(e,t,n){var i=td(e,n);return i<t?t-i:0}}),rd=function(i,e){return i.view(e).fold(y([]),function(e){var t=i.owner(e),n=rd(i,t);return[e].concat(n)})},od=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?C.none():C.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(wt.fromDom)},owner:function(e){return Mt(e)}}),ad=function(e){var t=wt.fromDom(document),n=pn(t),i=function(e,t){var n=t.owner(e);return rd(t,n)}(e,od),r=hn(e),o=Q(i,function(e,t){var n=hn(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return fn(o.left+r.left+n.left,o.top+r.top+n.top)},sd=function(e){return"textarea"===Et(e)},ud=function(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,i=t.defaultView,r=t.documentElement;if(n===e.dom)return fn(n.offsetLeft,n.offsetTop);var o=dn(null==i?void 0:i.pageYOffset,r.scrollTop),a=dn(null==i?void 0:i.pageXOffset,r.scrollLeft),s=dn(r.clientTop,n.clientTop),u=dn(r.clientLeft,n.clientLeft);return hn(e).translate(a-u,o-s)}(e),i=function(e){return id.get(e)}(e);return{element:e,bottom:n.top+i,height:i,pos:n,cleanup:t}},cd=function(e,t){var n=function(e,t){var n=Wt(e);if(0===n.length||sd(e))return{element:e,offset:t};if(t<n.length&&!sd(n[t]))return{element:n[t],offset:0};var i=n[n.length-1];return sd(i)?{element:e,offset:t}:"img"===Et(i)?{element:i,offset:1}:Pt(i)?{element:i,offset:Df(i).length}:{element:i,offset:Wt(i).length}}(e,t),i=wt.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return en(n.element,i),ud(i,function(){return sn(i)})},ld=function(n,i,r,o){pd(n,function(e,t){return dd(n,i,r,o)},r)},fd=function(e,t,n,i,r){var o={elm:i.element.dom,alignToTop:r};(function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()})(e,o)||(n(t,pn(t).top,i,r),function(e,t){e.fire("AfterScrollIntoView",t)}(e,o))},dd=function(e,t,n,i){var r=wt.fromDom(e.getBody()),o=wt.fromDom(e.getDoc());!function(e){e.dom.offsetWidth}(r);var a=cd(wt.fromDom(n.startContainer),n.startOffset);fd(e,o,t,a,i),a.cleanup()},hd=function(e,t,n,i){var r=wt.fromDom(e.getDoc());fd(e,r,n,function(e){return ud(wt.fromDom(e),q)}(t),i)},pd=function(e,t,n){var i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset;t(wt.fromDom(i),wt.fromDom(o));var s=e.dom.createRng();s.setStart(i,r),s.setEnd(o,a),e.selection.setRng(n)},md=function(e,t,n,i){var r=e.pos;if(n)mn(r.left,r.top,i);else{var o=r.top-t+e.height;mn(r.left,o,i)}},gd=function(e,t,n,i,r){var o=n+t,a=i.pos.top,s=i.bottom,u=n<=s-a;if(a<t)md(i,n,!1!==r,e);else if(o<a){md(i,n,u?!1!==r:!0===r,e)}else o<s&&!u&&md(i,n,!0===r,e)},vd=function(e,t,n,i){var r=e.dom.defaultView.innerHeight;gd(e,t,r,n,i)},bd=function(e,t,n,i){var r=e.dom.defaultView.innerHeight;gd(e,t,r,n,i);var o=ad(n.element),a=bn(window);o.top<a.y?gn(n.element,!1!==i):o.top>a.bottom&&gn(n.element,!0===i)},yd=function(e,t,n){return ld(e,vd,t,n)},_d=function(e,t,n){return hd(e,t,vd,n)},wd=function(e,t,n){return ld(e,bd,t,n)},xd=function(e,t,n){return hd(e,t,bd,n)},Cd=function(e,t,n){(e.inline?yd:wd)(e,t,n)},kd=function(e){var t=Xt(e).dom;return e.dom===t.activeElement},Sd=function(e){return void 0===e&&(e=wt.fromDom(document)),C.from(e.dom.activeElement).map(wt.fromDom)},Dd=function(e,t,n,i){return{start:e,soffset:t,finish:n,foffset:i}},Td=hi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ed=(Td.before,Td.on,Td.after,function(e){return e.fold(t,t,t)}),Nd=hi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ad={domRange:Nd.domRange,relative:Nd.relative,exact:Nd.exact,exactFromRange:function(e){return Nd.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=function(e){return e.match({domRange:function(e){return wt.fromDom(e.startContainer)},relative:function(e,t){return Ed(e)},exact:function(e,t,n,i){return e}})}(e);return Bt(t)},range:Dd},Od=ot().browser,Pd=function(e,t){var n=Pt(t)?Df(t).length:Wt(t).length+1;return n<e?n:e<0?0:e},Id=function(e){return Ad.range(e.start,Pd(e.soffset,e.start),e.finish,Pd(e.foffset,e.finish))},Rd=function(e,t){return!_n(t.dom)&&(Tt(e,t)||St(e,t))},Ld=function(t){return function(e){return Rd(t,e.start)&&Rd(t,e.finish)}},Md=function(e){return!0===e.inline||Od.isIE()},Bd=function(e){return Ad.range(wt.fromDom(e.startContainer),e.startOffset,wt.fromDom(e.endContainer),e.endOffset)},jd=function(e){return function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?C.from(t.getRangeAt(0)):C.none()).map(Bd)}(Bt(e).dom).filter(Ld(e))},Fd=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),C.some(t)}catch(e){return C.none()}},Hd=function(e){var t=Md(e)?jd(wt.fromDom(e.getBody())):C.none();e.bookmark=t.isSome()?t:e.bookmark},zd=function(t){return(t.bookmark?t.bookmark:C.none()).bind(function(e){return function(e,t){return C.from(t).filter(Ld(e)).map(Id)}(wt.fromDom(t.getBody()),e)}).bind(Fd)},qd={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Wd=function(t,e){ot().browser.isIE()?function(e){e.on("focusout",function(){Hd(e)})}(t):function(e,t){e.on("mouseup touchend",function(e){t.throttle()})}(t,e),t.on("keyup NodeChange",function(e){(function(e){return"nodechange"===e.type&&e.selectionChange})(e)||Hd(t)})},Ud=function(e){var t=ps(function(){Hd(e)},0);e.on("init",function(){e.inline&&function(e,t){var n=function(){t.throttle()};is.DOM.bind(document,"mouseup",n),e.on("remove",function(){is.DOM.unbind(document,"mouseup",n)})}(e,t),Wd(e,t)}),e.on("remove",function(){t.cancel()})},Vd=is.DOM,$d=function(t,e){var n=function(e){return e.getParam("custom_ui_selector","","string")}(t);return null!==Vd.getParent(e,function(e){return function(e){return qd.isEditorUIElement(e)}(e)||!!n&&t.dom.is(e,n)})},Yd=function(n,e){var t=e.editor;Ud(t),t.on("focusin",function(){var e=n.focusedEditor;e!==t&&(e&&e.fire("blur",{focusedEditor:t}),n.setActive(t),(n.focusedEditor=t).fire("focus",{blurredEditor:e}),t.focus(!0))}),t.on("focusout",function(){Yi.setEditorTimeout(t,function(){var e=n.focusedEditor;$d(t,function(e){try{var t=Xt(wt.fromDom(e.getElement()));return Sd(t).fold(function(){return document.body},function(e){return e.dom})}catch(e){return document.body}}(t))||e!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})}),nd||(nd=function(e){var t=n.activeEditor;t&&function(e){if(Kt()&&V(e.target)){var t=wt.fromDom(e.target);if(Ot(t)&&Zt(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ie(n)}}return C.from(e.target)}(e).each(function(e){e.ownerDocument===document&&(e===document.body||$d(t,e)||n.focusedEditor!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null))})},Vd.bind(document,"focusin",nd))},Qd=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Vd.unbind(document,"focusin",nd),nd=null)},Kd=function(t,e){return function(e){return e.collapsed?C.from(Ks(e.startContainer,e.startOffset)).map(wt.fromDom):C.none()}(e).bind(function(e){return or(e)?C.some(e):!1===Tt(t,e)?C.some(t):C.none()})},Xd=function(t,e){Kd(wt.fromDom(t.getBody()),e).bind(function(e){return gl(e.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Gd=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Jd=function(e){return kd(e)||function(t){return Sd(Xt(t)).filter(function(e){return t.dom.contains(e.dom)})}(e).isSome()},Zd=function(e){return e.inline?function(e){var t=e.getBody();return t&&Jd(wt.fromDom(t))}(e):function(e){return e.iframeElement&&kd(wt.fromDom(e.iframeElement))}(e)},eh=function(e){return Zd(e)||function(t){var e=Xt(wt.fromDom(t.getElement()));return Sd(e).filter(function(e){return!function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))}(e.dom)&&$d(t,e.dom)}).isSome()}(e)},th=function(e){return e.editorManager.setActive(e)},nh=function(e,t){e.removed||(t?th(e):function(t){var e=t.selection,n=t.getBody(),i=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Zd(t)&&zd(t).each(function(e){t.selection.setRng(e),i=e});var r=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})}(t,e.getNode());if(t.$.contains(n,r))return Gd(r),Xd(t,i),th(t);t.inline||(pt.opera||Gd(n),t.getWin().focus()),(pt.gecko||t.inline)&&(Gd(n),Xd(t,i)),th(t)}(e))},ih=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return C.from(o).map(wt.fromDom).map(function(e){return i&&t.collapsed?e:Ut(e,r(e,a)).getOr(e)}).bind(function(e){return Ot(e)?C.some(e):jt(e).filter(Ot)}).map(function(e){return e.dom}).getOr(e)},rh=function(e,t,n){return ih(e,t,!0,n,function(e,t){return Math.min(function(e){return e.dom.childNodes.length}(e),t)})},oh=function(e,t,n){return ih(e,t,!1,n,function(e,t){return 0<t?t-1:t})},ah=function(e,t){for(var n=e;e&&Nn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},sh=function(n,e){return H(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})},uh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ch=function(e,t,n){var i=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[i])return e[i];if(e!==t){var o=e[r];if(o)return o;for(var a=e.parent;a&&a!==t;a=a.parent)if(o=a[r])return o}},lh=function(e){if(!Mr(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},fh=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},dh=function(){function a(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return a.create=function(e,t){var n=new a(e,uh[e]||1);return t&&ue(t,function(e,t){n.attr(t,e)}),n},a.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},a.prototype.attr=function(e,t){var n,i=this;if("string"!=typeof e)return null!=e&&ue(e,function(e,t){i.attr(t,e)}),i;if(n=i.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var r=n.length;r--;)if(n[r].name===e)return n.splice(r,1),i}return i}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}},a.prototype.clone=function(){var e,t=new a(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var i=0,r=e.length;i<r;i++){var o=e[i];"id"!==o.name&&(n[n.length]={name:o.name,value:o.value},n.map[o.name]=o.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},a.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},a.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},a.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},a.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},a.prototype.insert=function(e,t,n){e.parent&&e.remove();var i=t.parent||this;return n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},a.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=ch(n,this))n.name===e&&t.push(n);return t},a.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=ch(t,this))e.push(t);for(var n=e.length;n--;){(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}}return this.firstChild=this.lastChild=null,this},a.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var i=this.firstChild;if(fh(this))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(fh(i))return!1}if(8===i.type)return!1;if(3===i.type&&!lh(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Mr(i.value))return!1;if(n&&n(i))return!1}while(i=ch(i,this));return!0},a.prototype.walk=function(e){return ch(this,null,e)},a}(),hh=function(e,t){return e.replace(t.re,function(e){return ge(t.uris,e).getOr(e)})},ph=["img","video"],mh=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?function(e,t){return!(U(e)?j(ph,t):e)}(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},gh=function(e,t,n){var i,r,o=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(s.lastIndex=i=n;r=s.exec(t);){if(i=s.lastIndex,"/"===r[1])o--;else if(!r[1]){if(r[2]in a)continue;o++}if(0===o)break}return i},vh=function(e,t){var n=e.exec(t);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null},bh=function($,Y){void 0===Y&&(Y=vo()),!1!==($=$||{}).fix_self_closing&&($.fix_self_closing=!0);var Q=$.comment?$.comment:q,K=$.cdata?$.cdata:q,X=$.text?$.text:q,G=$.start?$.start:q,J=$.end?$.end:q,Z=$.pi?$.pi:q,ee=$.doctype?$.doctype:q,n=function(u,e){void 0===e&&(e="html");for(var t,o,n,c,i,r,a,l,s,f,d,h,p,m,g,v,b,y,_,w=u.html,x=0,C=[],k=0,S=ao.decode,D=yt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),T=/((java|vb)script|mhtml):/i,E="html"===e?0:1,N=function(e){var t,n;for(t=C.length;t--&&C[t].name!==e;);if(0<=t){for(n=C.length-1;t<=n;n--)(e=C[n]).valid&&J(e.name);C.length=t}},A=function(e,t){return X(hh(e,u),t)},O=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),$.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),Q(hh(e,u)))},P=function(e,t){var n=e||"",i=!qe(n,"--"),r=function(e,t,n){void 0===n&&(n=0);var i=e.toLowerCase();if(-1!==i.indexOf("[if ",n)&&function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}(i,n)){var r=i.indexOf("[endif]",n);return i.indexOf(">",r)}if(t){var o=i.indexOf(">",n);return-1!==o?o:i.length}var a=/--!?>/g;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:i.length}(w,i,t);return e=w.substr(t,r-t),O(i?n+e:e),r+1},I=function(e,t,n,i,r){var o,a;if(n=function(e){return hh(e,u)}((t=t.toLowerCase())in j?t:S(n||i||r||"")),F&&!l&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(t)){if(!(o=m[t])&&g){for(a=g.length;a--&&!(o=g[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(D[t]&&!$.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(T.test(s))return;if(mh($,s,e))return}l&&(t in D||0===t.indexOf("on"))||(c.map[t]=n,c.push({name:t,value:n}))},R=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,M=Y.getShortEndedElements(),B=$.self_closing_elements||Y.getSelfClosingElements(),j=Y.getBoolAttrs(),F=$.validate,H=$.remove_internals,z=$.fix_self_closing,q=Y.getSpecialElements(),W=w+">";t=R.exec(W);){var U=t[0];if(x<t.index&&A(S(w.substr(x,t.index-x))),o=t[7])":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),N(o);else if(o=t[8]){if(t.index+U.length>w.length){A(S(w.substr(t.index))),x=t.index+U.length;continue}":"===(o=o.toLowerCase()).charAt(0)&&(o=o.substr(1)),s=o in M,z&&B[o]&&0<C.length&&C[C.length-1].name===o&&N(o);var V=vh(L,t[9]);if(null!==V){if("all"===V){x=gh(Y,w,R.lastIndex),R.lastIndex=x;continue}d=!1}if(!F||(f=Y.getElementRule(o))){if(d=!0,F&&(m=f.attributes,g=f.attributePatterns),(p=t[9])?((l=-1!==p.indexOf("data-mce-type"))&&H&&(d=!1),(c=[]).map={},p.replace(L,function(e,t,n,i,r){return I(o,t,n,i,r),""})):(c=[]).map={},F&&!l){if(v=f.attributesRequired,b=f.attributesDefault,y=f.attributesForced,f.removeEmptyAttrs&&!c.length&&(d=!1),y)for(i=y.length;i--;)a=(h=y[i]).name,"{$uid}"===(_=h.value)&&(_="mce_"+k++),c.map[a]=_,c.push({name:a,value:_});if(b)for(i=b.length;i--;)(a=(h=b[i]).name)in c.map||("{$uid}"===(_=h.value)&&(_="mce_"+k++),c.map[a]=_,c.push({name:a,value:_}));if(v){for(i=v.length;i--&&!(v[i]in c.map););-1===i&&(d=!1)}if(h=c.map["data-mce-bogus"]){if("all"===h){x=gh(Y,w,R.lastIndex),R.lastIndex=x;continue}d=!1}}d&&G(o,c,s)}else d=!1;if(n=q[o]){n.lastIndex=x=t.index+U.length,x=(t=n.exec(w))?(d&&(r=w.substr(x,t.index-x)),t.index+t[0].length):(r=w.substr(x),w.length),d&&(0<r.length&&A(r,!0),J(o)),R.lastIndex=x;continue}s||(p&&p.indexOf("/")===p.length-1?d&&J(o):C.push({name:o,valid:d}))}else if(o=t[1])O(o);else if(o=t[2]){if(!(1==E||$.preserve_cdata||0<C.length&&Y.isValidChild(C[C.length-1].name,"#cdata"))){x=P("",t.index+2),R.lastIndex=x;continue}K(o)}else if(o=t[3])ee(o);else{if((o=t[4])||"<!"===U){x=P(o,t.index+U.length),R.lastIndex=x;continue}if(o=t[5]){if(1!=E){x=P("?",t.index+2),R.lastIndex=x;continue}Z(o,t[6])}}x=t.index+U.length}for(x<w.length&&A(S(w.substr(x))),i=C.length-1;0<=i;i--)(o=C[i]).valid&&J(o.name)};return{parse:function(e,t){void 0===t&&(t="html"),n(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,i=[],r={},o=Is("img"),a=0,s=0;t=n.exec(e);){var u=t[0],c=o+"_"+s++;r[c]=u,a<t.index&&i.push(e.substr(a,t.index-a)),i.push(c),a=t.index+u.length}var l=new RegExp(o+"_[0-9]+","g");return 0===a?{prefix:o,uris:r,html:e,re:l}:(a<e.length&&i.push(e.substr(a)),{prefix:o,uris:r,html:i.join(""),re:l})}(e),t)}}};bh.findEndTag=gh;var yh,_h,wh=function(e,t){var n,i,r,o,a=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema;a=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(e.getTempAttrs(),a);for(var c=u.getShortEndedElements();o=s.exec(a);)i=s.lastIndex,r=o[0].length,n=c[o[1]]?i:bh.findEndTag(u,a,i),a=a.substring(0,i-r)+a.substring(n),s.lastIndex=i-r;return fr(a)},xh=wh,Ch=function(e,t,n,i){var r;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),r="raw"===t.format?yt.trim(xh(e.serializer,i.innerHTML)):"text"===t.format?e.dom.isEmpty(i)?"":fr(i.innerText||i.textContent):"tree"===t.format?e.serializer.serialize(i,t):function(e,t){var n=Wu(e),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(i,"")}(e,e.serializer.serialize(i,t)),j(["text","tree"],t.format)||sr(wt.fromDom(i))?t.content=r:t.content=yt.trim(r),t.no_events||e.fire("GetContent",t),t.content},kh=yt.each,Sh=function(r){return{compare:function(e,t){if(e.nodeName!==t.nodeName)return!1;var n=function(n){var i={};return kh(r.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(i[t]=r.getAttrib(n,t))}),i},i=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return!(!i(n(e),n(t))||!i(r.parseStyle(r.getAttrib(e,"style")),r.parseStyle(r.getAttrib(t,"style")))||Al(e)||Al(t))}}},Dh=yt.makeMap,Th=function(e){var s=[],u=(e=e||{}).indent,c=Dh(e.indent_before||""),l=Dh(e.indent_after||""),f=ao.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"===e.element_format;return{start:function(e,t,n){var i,r,o,a;if(u&&c[e]&&0<s.length&&0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n"),s.push("<",e),t)for(i=0,r=t.length;i<r;i++)o=t[i],s.push(" ",o.name,'="',f(o.value,!0),'"');s[s.length]=!n||d?">":" />",n&&u&&l[e]&&0<s.length&&0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n")},end:function(e){var t;s.push("</",e,">"),u&&l[e]&&0<s.length&&0<(t=s[s.length-1]).length&&"\n"!==t&&s.push("\n")},text:function(e,t){0<e.length&&(s[s.length]=t?e:f(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?s.push("<?",e," ",f(t),"?>"):s.push("<?",e,"?>"),u&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",u?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},Eh=function(t,p){void 0===p&&(p=vo());var m=Th(t);(t=t||{}).validate=!("validate"in t)||t.validate;return{serialize:function(e){var f=t.validate,d={3:function(e){m.text(e.value,e.raw)},8:function(e){m.comment(e.value)},7:function(e){m.pi(e.name,e.value)},10:function(e){m.doctype(e.value)},4:function(e){m.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;h(e),e=e.next;);}};m.reset();var h=function(e){var t,n,i,r,o,a,s,u,c,l=d[e.type];if(l)l(e);else{if(t=e.name,n=e.shortEnded,i=e.attributes,f&&i&&1<i.length&&((a=[]).map={},c=p.getElementRule(e.name))){for(s=0,u=c.attributesOrder.length;s<u;s++)(r=c.attributesOrder[s])in i.map&&(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));for(s=0,u=i.length;s<u;s++)(r=i[s].name)in a.map||(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));i=a}if(m.start(e.name,i,n),!n){if(e=e.firstChild)for(;h(e),e=e.next;);m.end(t)}}};return 1!==e.type||t.inner?d[11](e):h(e),m.getContent()}}},Nh=function(n,i,r){return C.from(r.container()).filter(Nn).exists(function(e){var t=n?0:-1;return i(e.data.charAt(r.offset()+t))})},Ah=_(Nh,!0,Pl),Oh=_(Nh,!1,Pl),Ph=function(e){var t=e.container();return Nn(t)&&(0===t.data.length||lr(t.data)&&Pf.isBookmarkNode(t.parentNode))},Ih=function(t,n){return function(e){return C.from(Rc(t?0:-1,e)).filter(n).isSome()}},Rh=function(e){return Rn(e)&&"block"===Yn(wt.fromDom(e),"display")},Lh=function(e){return Mn(e)&&!function(e){return wn(e)&&"all"===e.getAttribute("data-mce-bogus")}(e)},Mh=Ih(!0,Rh),Bh=Ih(!1,Rh),jh=Ih(!0,jn),Fh=Ih(!1,jn),Hh=Ih(!0,Dn),zh=Ih(!1,Dn),qh=Ih(!0,Lh),Wh=Ih(!1,Lh),Uh=function(e){var t=ks(e,"br"),n=Y(function(e){for(var t=[],n=e.dom;n;)t.push(wt.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),tr);t.length===n.length&&$(n,sn)},Vh=function(e){an(e),rn(e,wt.fromHtml('<br data-mce-bogus="1">'))},$h=function(n){$t(n).each(function(t){Ft(t).each(function(e){Zi(n)&&tr(t)&&Zi(e)&&sn(t)})})},Yh=function(e,t,n){return Tt(t,e)?function(e){return e.slice(0,-1)}(function(e,t){for(var n=P(t)?t:g,i=e.dom,r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,a=wt.fromDom(o);if(r.push(a),!0===n(a))break;i=o}return r}(e,function(e){return n(e)||St(e,t)})):[]},Qh=function(e,t){return Yh(e,t,g)},Kh=function(e,t){return[e].concat(Qh(e,t))},Xh=function(e,t,n){return dl(e,t,n,Ph)},Gh=function(e,t){return X(Kh(wt.fromDom(t.container()),e),Zi)},Jh=function(e,n,i){return Xh(e,n.dom,i).forall(function(t){return Gh(n,i).fold(function(){return!1===Ic(t,i,n.dom)},function(e){return!1===Ic(t,i,n.dom)&&Tt(e,wt.fromDom(t.container()))})})},Zh=function(t,n,i){return Gh(n,i).fold(function(){return Xh(t,n.dom,i).forall(function(e){return!1===Ic(e,i,n.dom)})},function(e){return Xh(t,e.dom,i).isNone()})},ep=_(Zh,!1),tp=_(Zh,!0),np=_(Jh,!1),ip=_(Jh,!0),rp=function(e){return qc(e).exists(tr)},op=function(e,t,n){var i=Y(Kh(wt.fromDom(n.container()),t),Zi),r=ie(i).getOr(t);return ll(e,r.dom,n).filter(rp)},ap=function(e,t){return qc(t).exists(tr)||op(!0,e,t).isSome()},sp=function(e,t){return function(e){return C.from(e.getNode(!0)).map(wt.fromDom)}(t).exists(tr)||op(!1,e,t).isSome()},up=_(op,!1),cp=_(op,!0),lp=function(e){return mu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},fp=function(e,t){var n=Y(Kh(wt.fromDom(t.container()),e),Zi);return ie(n).getOr(e)},dp=function(e,t){return lp(t)?Oh(t):Oh(t)||ml(fp(e,t).dom,t).exists(Oh)},hp=function(e,t){return lp(t)?Ah(t):Ah(t)||pl(fp(e,t).dom,t).exists(Ah)},pp=function(e){return qc(e).bind(function(e){return ji(e,Ot)}).exists(function(e){return function(e){return j(["pre","pre-wrap"],e)}(Yn(e,"white-space"))})},mp=function(e,t){return function(e,t){return ml(e.dom,t).isNone()}(e,t)||function(e,t){return pl(e.dom,t).isNone()}(e,t)||ep(e,t)||tp(e,t)||sp(e,t)||ap(e,t)},gp=function(e,t){return!pp(t)&&(ep(e,t)||np(e,t)||sp(e,t)||dp(e,t))},vp=function(e,t){return!pp(t)&&(tp(e,t)||ip(e,t)||ap(e,t)||hp(e,t))},bp=function(e,t){return gp(e,t)||vp(e,function(e){var t=e.container(),n=e.offset();return Nn(t)&&n<t.data.length?mu(t,n+1):e}(t))},yp=function(e,t){return Ol(e.charAt(t))},_p=function(e){var t=e.container();return Nn(t)&&ze(t.data,"Â ")},wp=function(e){var t=e.data,n=function(e){var n=e.split("");return H(n,function(e,t){return Ol(e)&&0<t&&t<n.length-1&&Il(n[t-1])&&Il(n[t+1])?" ":e}).join("")}(t);return n!==t&&(e.data=n,!0)},xp=function(n,e){return C.some(e).filter(_p).bind(function(e){var t=e.container();return function(e,t){var n=t.data,i=mu(t,0);return!(!yp(n,0)||bp(e,i)||(t.data=" "+n.slice(1),0))}(n,t)||wp(t)||function(e,t){var n=t.data,i=mu(t,n.length-1);return!(!yp(n,n.length-1)||bp(e,i)||(t.data=n.slice(0,-1)+" ",0))}(n,t)?C.some(e):C.none()})},Cp=function(t){var e=wt.fromDom(t.getBody());t.selection.isCollapsed()&&xp(e,mu.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},kp=function(e,t,n){if(0!==n){var i=wt.fromDom(e),r=Bi(i,Zi).getOr(i),o=e.data.slice(t,t+n),a=t+n>=e.data.length&&vp(r,mu(e,e.data.length)),s=0===t&&gp(r,mu(e,0));e.replaceData(t,n,function(n,i,r){return K(n,function(e,t){return Pl(t)||Ol(t)?e.previousCharIsSpace||""===e.str&&i||e.str.length===n.length-1&&r?{previousCharIsSpace:!1,str:e.str+"Â "}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str}(o,s,a))}},Sp=function(e,t){var n=e.data.slice(t),i=n.length-Ve(n).length;return kp(e,t,i)},Dp=function(e,t){var n=e.data.slice(0,t),i=n.length-$e(n).length;return kp(e,t-i,i)},Tp=function(e,t,n,i){void 0===i&&(i=!0);var r=$e(e.data).length,o=i?e:t,a=i?t:e;return i?o.appendData(a.data):o.insertData(0,a.data),sn(wt.fromDom(a)),n&&Sp(o,r),o},Ep=function(e,t){return function(e,t){var n=e.container(),i=e.offset();return!1===mu.isTextPosition(e)&&n===t.parentNode&&i>mu.before(t).offset()}(t,e)?mu(t.container(),t.offset()-1):t},Np=function(e){return Pr(e.previousSibling)?C.some(function(e){return Nn(e)?mu(e,e.data.length):mu.after(e)}(e.previousSibling)):e.previousSibling?vl(e.previousSibling):C.none()},Ap=function(e){return Pr(e.nextSibling)?C.some(function(e){return Nn(e)?mu(e,0):mu.before(e)}(e.nextSibling)):e.nextSibling?gl(e.nextSibling):C.none()},Op=function(e,t){return Np(t).orThunk(function(){return Ap(t)}).orThunk(function(){return function(e,t){var n=mu.before(t.previousSibling?t.previousSibling:t.parentNode);return ml(e,n).fold(function(){return pl(e,mu.after(t))},C.some)}(e,t)})},Pp=function(e,t){return Ap(t).orThunk(function(){return Np(t)}).orThunk(function(){return function(e,t){return pl(e,mu.after(t)).fold(function(){return ml(e,mu.before(t))},C.some)}(e,t)})},Ip=function(e,t,n){return function(e,t,n){return e?Pp(t,n):Op(t,n)}(e,t,n).map(_(Ep,n))},Rp=function(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})},Lp=function(e,t){return t&&ve(e.schema.getBlockElements(),Et(t))},Mp=function(e){if(qr(e)){var t=wt.fromHtml('<br data-mce-bogus="1">');return an(e),rn(e,t),C.some(mu.before(t.dom))}return C.none()},Bp=function(e,t,a){var n=Ft(e).filter(Pt),i=Ht(e).filter(Pt);return sn(e),function(e,t,n,i){return e.isSome()&&t.isSome()&&n.isSome()?C.some(i(e.getOrDie(),t.getOrDie(),n.getOrDie())):C.none()}(n,i,t,function(e,t,n){var i=e.dom,r=t.dom,o=i.data.length;return Tp(i,r,a),n.container()===r?mu(i,o):n}).orThunk(function(){return a&&(n.each(function(e){return Dp(e.dom,e.dom.length)}),i.each(function(e){return Sp(e.dom,0)})),t})},jp=function(t,n,e,i){void 0===i&&(i=!0);var r=Ip(n,t.getBody(),e.dom),o=Bi(e,_(Lp,t),function(t){return function(e){return e.dom===t}}(t.getBody())),a=Bp(e,r,function(e,t){return ve(e.schema.getTextInlineElements(),Et(t))}(t,e));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):o.bind(Mp).fold(function(){i&&Rp(t,n,a)},function(e){i&&Rp(t,n,C.some(e))})},Fp=function(e,t){return{start:e,end:t}},Hp=hi([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),zp=function(e,t){return qi(wt.fromDom(e),"td,th",t)},qp=function(e,t){return Hi(e,"table",t)},Wp=function(e){return!St(e.start,e.end)},Up=function(e,n){return qp(e.start,n).bind(function(t){return qp(e.end,n).bind(function(e){return function(e,t){return e?C.some(t):C.none()}(St(t,e),t)})})},Vp=function(e){return ks(e,"td,th")},$p=function(n,e){var t=zp(e.startContainer,n),i=zp(e.endContainer,n);return e.collapsed?C.none():Hs(t,i,Fp).fold(function(){return t.fold(function(){return i.bind(function(t){return qp(t,n).bind(function(e){return ie(Vp(e)).map(function(e){return Fp(e,t)})})})},function(t){return qp(t,n).bind(function(e){return re(Vp(e)).map(function(e){return Fp(t,e)})})})},function(e){return Yp(n,e)?C.none():function(t,e){return qp(t.start,e).bind(function(e){return re(Vp(e)).map(function(e){return Fp(t.start,e)})})}(e,n)})},Yp=function(e,t){return Up(t,e).isSome()},Qp=function(e,t,n){return e.filter(function(e){return Wp(e)&&Yp(n,e)}).orThunk(function(){return $p(n,t)}).bind(function(e){return function(t,e){return Up(t,e).map(function(e){return function(e,t,n){return{rng:e,table:t,cells:n}}(t,e,Vp(e))})}(e,n)})},Kp=function(e,t){return G(e,function(e){return St(e,t)})},Xp=function(e,t,n){return e.filter(function(e){return function(e,t){return!Wp(e)&&Up(e,t).exists(function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})}(e,n)&&_f(e.start,t)}).map(function(e){return e.start})},Gp=function(n){return function(n){return Hs(Kp(n.cells,n.rng.start),Kp(n.cells,n.rng.end),function(e,t){return n.cells.slice(e,t+1)})}(n).map(function(e){var t=n.cells;return e.length===t.length?Hp.removeTable(n.table):Hp.emptyCells(e)})},Jp=function(e,t){var n=function(t){return function(e){return St(t,e)}}(e),i=function(e,t){var n=zp(e.startContainer,t),i=zp(e.endContainer,t);return Hs(n,i,Fp)}(t,n);return Xp(i,t,n).map(function(e){return Hp.deleteCellSelection(t,e)}).orThunk(function(){return Qp(i,t,n).bind(Gp)})},Zp=function(e){return(function(e){return 8===Nt(e)||"#comment"===Et(e)}(e)?Ft(e):$t(e)).bind(Zp).orThunk(function(){return C.some(e)})},em=function(e,t){return $(t,Vh),e.selection.setCursorLocation(t[0].dom,0),!0},tm=function(e,t,n){t.deleteContents();var i=Zp(n).getOr(n),r=wt.fromDom(e.dom.getParent(i.dom,e.dom.isBlock));if(qr(r)&&(Vh(r),e.selection.setCursorLocation(r.dom,0)),!St(n,r)){var o=jt(r).is(n)?[]:function(t){return jt(t).map(Wt).map(function(e){return Y(e,function(e){return!St(t,e)})}).getOr([])}(r);$(o.concat(Wt(n)),function(e){St(e,r)||Tt(e,r)||sn(e)})}return!0},nm=function(e,t){return jp(e,!1,t),!0},im=function(t,e,n,i){return om(e,i).fold(function(){return function(t,e,n){return Jp(e,n).map(function(e){return e.fold(_(nm,t),_(em,t),_(tm,t))})}(t,e,n)},function(e){return function(e,t){return am(e,t)}(t,e)}).getOr(!1)},rm=function(e,t){return X(Kh(t,e),ar)},om=function(e,t){return X(Kh(t,e),function(e){return"caption"===Et(e)})},am=function(e,t){return Vh(t),e.selection.setCursorLocation(t.dom,0),C.some(!0)},sm=function(t,n,i,r,o){return fl(i,t.getBody(),o).bind(function(e){return function(e,n,i,r){return gl(e.dom).bind(function(t){return vl(e.dom).map(function(e){return n?i.isEqual(t)&&r.isEqual(e):i.isEqual(e)&&r.isEqual(t)})}).getOr(!0)}(r,i,o,e)?function(e,t){return am(e,t)}(t,r):function(e,t,n){return om(e,wt.fromDom(n.getNode())).map(function(e){return!1===St(e,t)})}(n,r,e)}).or(C.some(!0))},um=function(t,n,i,e){var r=mu.fromRangeStart(t.selection.getRng());return rm(i,e).bind(function(e){return qr(e)?am(t,e):function(e,t,n,i,r){return fl(n,e.getBody(),r).bind(function(e){return rm(t,wt.fromDom(e.getNode())).map(function(e){return!1===St(e,i)})})}(t,i,n,e,r)}).getOr(!1)},cm=function(e,t){return e?Hh(t):zh(t)},lm=function(t,n,e){var i=wt.fromDom(t.getBody());return om(i,e).fold(function(){return um(t,n,i,e)||function(e,t){var n=mu.fromRangeStart(e.selection.getRng());return cm(t,n)||ll(t,e.getBody(),n).exists(function(e){return cm(t,e)})}(t,n)},function(e){return function(e,t,n,i){var r=mu.fromRangeStart(e.selection.getRng());return qr(i)?am(e,i):sm(e,n,t,i,r)}(t,n,i,e).getOr(!1)})},fm=function(e,t){var n=wt.fromDom(e.selection.getStart(!0)),i=vf(e);return e.selection.isCollapsed()&&0===i.length?lm(e,t,n):function(e,t){var n=wt.fromDom(e.getBody()),i=e.selection.getRng(),r=vf(e);return 0!==r.length?em(e,r):im(e,n,i,t)}(e,n)},dm=function(t){var n=mu.fromRangeStart(t),i=mu.fromRangeEnd(t),r=t.commonAncestorContainer;return ll(!1,r,i).map(function(e){return!Ic(n,i,r)&&Ic(n,e,r)?function(e,t,n,i){var r=document.createRange();return r.setStart(e,t),r.setEnd(n,i),r}(n.container(),n.offset(),e.container(),e.offset()):t}).getOr(t)},hm=function(e){return e.collapsed?e:dm(e)},pm=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return"Â "===e.data||In(e)}(e.firstChild)},mm=function(e){return 0<e.length&&function(e){return!e.firstChild||pm(e)}(e[e.length-1])?e.slice(0,-1):e},gm=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},vm=function(e,t){var n=mu.after(e),i=ol(t).prev(n);return i?i.toRange():null},bm=function(t,e,n){var i=t.parentNode;return yt.each(e,function(e){i.insertBefore(e,t)}),function(e,t){var n=mu.before(e),i=ol(t).next(n);return i?i.toRange():null}(t,n)},ym=function(e,r,o,t){var n=function(e,t,n){var i=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(i))}(r,e,t),a=gm(r,o.startContainer),i=mm(function(e){return yt.grep(e.childNodes,function(e){return"LI"===e.nodeName})}(n.firstChild)),s=r.getRoot(),u=function(e){var t=mu.fromRangeStart(o),n=ol(r.getRoot()),i=1===e?n.prev(t):n.next(t);return!i||gm(r,i.getNode())!==a};return u(1)?bm(a,i,s):u(2)?function(e,t,n,i){return i.insertAfter(t.reverse(),e),vm(t[0],n)}(a,i,s,r):function(t,e,n,i){var r=function(e,t){var n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]}(t,i),o=t.parentNode;return o.insertBefore(r[0],t),yt.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),vm(e[e.length-1],n)}(a,i,s,o)},_m=Bn,wm=function(e){var t=e.dom,n=hm(e.selection.getRng());e.selection.setRng(n);var i=t.getParent(n.startContainer,_m);!function(e,t,n){return null!==n&&n===e.getParent(t.endContainer,_m)&&_f(wt.fromDom(n),t)}(t,n,i)?e.getDoc().execCommand("Delete",!1,null):tm(e,n,wt.fromDom(i))},xm=function(e,t,n){var i,r,o,a,s,u,c=e.selection,l=e.dom;/^ | $/.test(t)&&(t=function(e,t,n){var i=wt.fromDom(e.getRoot());return n=gp(i,mu.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=vp(i,mu.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(l,c.getRng(),t));var f=e.parser,d=n.merge,h=Eh({validate:function(e){return e.getParam("validate")}(e)},e.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(o={content:t,format:"html",selection:!0,paste:n.paste},(o=e.fire("BeforeSetContent",o)).isDefaultPrevented())e.fire("SetContent",{content:o.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=o.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,p);var m=(s=c.getRng()).startContainer||(s.parentElement?s.parentElement():null),g=e.getBody();m===g&&c.isCollapsed()&&l.isBlock(g.firstChild)&&function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}(e,g.firstChild)&&l.isEmpty(g.firstChild)&&((s=l.createRng()).setStart(g.firstChild,0),s.setEnd(g.firstChild,0),c.setRng(s)),c.isCollapsed()||wm(e);var v={context:(i=c.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},b=f.parse(t,v);if(!0===n.paste&&function(e,t){var n=t.firstChild,i=t.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||"Â "===e.value}(t.firstChild)}(e,t))}(e,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)}(e.schema,b)&&function(e,t){return!!gm(e,t)}(l,i))return s=ym(h,l,c.getRng(),b),c.setRng(s),void e.fire("SetContent",o);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(b),"mce_marker"===(u=b.lastChild).attr("id"))for(u=(a=u).prev;u;u=u.walk(!0))if(3===u.type||!l.isBlock(u.name)){e.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(a,u,"br"===u.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),v.invalid){for(e.selection.setContent(p),i=c.getNode(),r=e.getBody(),9===i.nodeType?i=u=r:u=i;u!==r;)u=(i=u).parentNode;t=i===r?r.innerHTML:l.getOuterHTML(i),t=h.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return h.serialize(b)}))),i===r?l.setHTML(r,t):l.setOuterHTML(i,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t=h.serialize(b),i);!function(e,t){var n=e.schema.getTextInlineElements(),i=e.dom;if(t){var r=e.getBody(),o=Sh(i);yt.each(i.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==r;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&i.remove(e,!0)})}}(e,d),function(n,e){var t,i,r=n.dom,o=n.selection;if(e){o.scrollIntoView(e);var a=function(e){for(var t=n.getBody();e&&e!==t;e=e.parentNode)if("false"===r.getContentEditable(e))return e;return null}(e);if(a)return r.remove(e),o.select(a);var s=r.createRng(),u=e.previousSibling;u&&3===u.nodeType?(s.setStart(u,u.nodeValue.length),pt.ie||(i=e.nextSibling)&&3===i.nodeType&&(u.appendData(i.data),i.parentNode.removeChild(i))):(s.setStartBefore(e),s.setEndBefore(e));var c=r.getParent(e,r.isBlock);r.remove(e),c&&r.isEmpty(c)&&(n.$(c).empty(),s.setStart(c,0),s.setEnd(c,0),_m(c)||function(e){return!!e.getAttribute("data-mce-fragment")}(c)||!(t=function(e){var t=mu.fromRangeStart(e);if(t=ol(n.getBody()).next(t))return t.toRange()}(s))?r.add(c,r.create("br",{"data-mce-bogus":"1"})):(s=t,r.remove(c))),o.setRng(s)}}(e,l.get("mce_marker")),function(e){yt.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}(e.getBody()),function(e,t){C.from(e.getParent(t,"td,th")).map(wt.fromDom).each($h)}(l,c.getStart()),e.fire("SetContent",o),e.addVisual()}},Cm=function(e,t){t(e),e.firstChild&&Cm(e.firstChild,t),e.next&&Cm(e.next,t)},km=function(e,t,n){var i=function(e,n,t){var i={},r={},o=[];for(var a in t.firstChild&&Cm(t.firstChild,function(t){$(e,function(e){e.name===t.name&&(i[e.name]?i[e.name].nodes.push(t):i[e.name]={filter:e,nodes:[t]})}),$(n,function(e){"string"==typeof t.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})})}),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var s in r)r.hasOwnProperty(s)&&o.push(r[s]);return o}(e,t,n);$(i,function(t){$(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},Sm=function(e){return e instanceof dh},Dm=function(e,t){e.dom.setHTML(e.getBody(),t),function(i){Zd(i)&&gl(i.getBody()).each(function(e){var t=e.getNode(),n=Dn(t)?gl(t).getOr(e):e;i.selection.setRng(n.toRange())})}(e)},Tm=function(t,n,i){return i.format=i.format?i.format:"html",i.set=!0,i.content=Sm(n)?"":n,i.no_events||t.fire("BeforeSetContent",i),Sm(n)||(n=i.content),C.from(t.getBody()).fold(y(n),function(e){return Sm(n)?function(e,t,n,i){km(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=Eh({validate:e.validate},e.schema).serialize(n);return i.content=sr(wt.fromDom(t))?r:yt.trim(r),Dm(e,i.content),i.no_events||e.fire("SetContent",i),n}(t,e,n,i):function(e,t,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),(r=Wu(e))&&e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,Uu(e),n)):n||(n='<br data-mce-bogus="1">'),Dm(e,n),e.fire("SetContent",i)):("raw"!==i.format&&(n=Eh({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=sr(wt.fromDom(t))?n:yt.trim(n),Dm(e,i.content),i.no_events||e.fire("SetContent",i)),i.content}(t,e,n,i)})},Em=function(e,t){return function(t,n){var e=t.dom;return e.parentNode?Fi(wt.fromDom(e.parentNode),function(e){return!St(t,e)&&n(e)}):C.none()}(e,t).isSome()},Nm=function(e){return P(e)?e:g},Am=function(e,t,n){var i=t(e),r=Nm(n);return i.orThunk(function(){return r(e)?C.none():function(e,t,n){for(var i=e.dom,r=Nm(n);i.parentNode;){i=i.parentNode;var o=wt.fromDom(i),a=t(o);if(a.isSome())return a;if(r(o))break}return C.none()}(e,t,r)})},Om=zl,Pm=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},Im=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!Pm(t,e,n)||(e.parentNode===r||!!Mm(t,e,n,i,!0))}),Mm(t,e,n,i))},Rm=function(e,t,n){return!!Om(t,n.inline)||(!!Om(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Lm=function(e,t,n,i,r,o){var a,s,u,c=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===i?e.getAttrib(t,a):Wl(e,t,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!Om(s,ql(e,Hl(c[a],o),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===i?e.getAttrib(t,c[u]):Wl(e,t,c[u]))return n;return n},Mm=function(e,t,n,i,r){var o,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(o=c[a],Rm(e.dom,t,o)&&Lm(l,t,o,"attributes",r,i)&&Lm(l,t,o,"styles",r,i)){if(u=o.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return o}},Bm=function(e,t,n,i){if(i)return Im(e,i,t,n);if(i=e.selection.getNode(),Im(e,i,t,n))return!0;var r=e.selection.getStart();return!(r===i||!Im(e,r,t,n))},jm=function(n,i){var t=function(e){return St(e,wt.fromDom(n.getBody()))};return C.from(n.selection.getStart(!0)).bind(function(e){return Am(wt.fromDom(e),function(t){return function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n],n);if(i.isSome())return i}return C.none()}(i,function(e){return function(e,t){return Mm(n,e.dom,t)?C.some(t):C.none()}(t,e)})},t)}).getOrNull()},Fm=function(i,r,e){return K(e,function(e,t){var n=function(e,t){return F(e.formatter.get(t),function(t){var n=function(e){return 1<e.length&&"%"===e.charAt(0)};return F(["styles","attributes"],function(e){return ge(t,e).exists(function(e){var t=E(e)?e:me(e);return F(t,n)})})})}(i,t);return i.formatter.matchNode(r,t,{},n)?e.concat([t]):e},[])},Hm=cr,zm="_mce_caret",qm=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Hm||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},Wm=function(e){if(e){var t=new Xi(e,e);for(e=t.current();e;e=t.next())if(Nn(e))return e}return null},Um=function(e){var t=wt.fromTag("span");return qn(t,{id:zm,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&rn(t,wt.fromText(Hm)),t},Vm=function(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(qm(t))jp(e,!1,wt.fromDom(t),n);else{var o=r.getRng(),a=i.getParent(t,i.isBlock),s=o.startContainer,u=o.startOffset,c=o.endContainer,l=o.endOffset,f=function(e){var t=Wm(e);return t&&t.nodeValue.charAt(0)===Hm&&t.deleteData(0,1),t}(t);i.remove(t,!0),s===f&&0<u&&o.setStart(f,u-1),c===f&&0<l&&o.setEnd(f,l-1),a&&i.isEmpty(a)&&Vh(wt.fromDom(a)),r.setRng(o)}},$m=function(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(t)Vm(e,t,n);else if(!(t=_l(e.getBody(),r.getStart())))for(;t=i.get(zm);)Vm(e,t,!1)},Ym=function(e,t){return e.appendChild(t),t},Qm=function(e,t){var n=Q(e,function(e,t){return Ym(e,t.cloneNode(!1))},t);return Ym(n,n.ownerDocument.createTextNode(Hm))},Km=function(e,t,n,i){var r,o,a,s=e.dom,u=e.selection,c=[],l=u.getRng(),f=l.startContainer,d=l.startOffset;for(3===(o=f).nodeType&&(d!==f.nodeValue.length&&(r=!0),o=o.parentNode);o;){if(Mm(e,o,t,n,i)){a=o;break}o.nextSibling&&(r=!0),c.push(o),o=o.parentNode}if(a)if(r){var h=u.getBookmark();l.collapse(!0);var p=ff(e,l,e.formatter.get(t),!0);p=Xf(p),e.formatter.remove(t,n,p,i),u.moveToBookmark(h)}else{var m=_l(e.getBody(),a),g=Um(!1).dom;!function(e,t,n){var i=e.dom,r=i.getParent(n,_(Bl,e));r&&i.isEmpty(r)?n.parentNode.replaceChild(t,n):(Uh(wt.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))}(e,g,null!==m?m:a);var v=function(t,e,n,i,r,o){var a=t.formatter,s=t.dom,u=Y(ae(a.get()),function(e){return e!==i&&!ze(e,"removeformat")}),c=Fm(t,n,u);if(0<Y(c,function(e){return!$l(t,e,i)}).length){var l=n.cloneNode(!1);return s.add(e,l),a.remove(i,r,l,o),s.remove(l),C.some(l)}return C.none()}(e,g,a,t,n,i),b=Qm(c.concat(v.toArray()),g);Vm(e,m,!1),u.setCursorLocation(b,1),s.isEmpty(a)&&s.remove(a)}},Xm=function(t){t.on("mouseup keydown",function(e){!function(e,t){var n=e.selection,i=e.getBody();$m(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Hm||$m(e,_l(i,n.getStart())),37!==t&&39!==t||$m(e,_l(i,n.getStart()))}(t,e.keyCode)})},Gm=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Et(t))&&!yl(t.dom)&&!Sn(t.dom)},Jm={},Zm=xe,eg=_e;_h=function(e){var t,n=e.selection.getRng(),i=xn(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),eg(Zm(Zm(t,i),function(e){return i(e.previousSibling)&&-1!==Ce(t,e.previousSibling)}),function(e){!function(e,t){Xa(t).remove(),Xa(e).append("<br><br>").append(t.childNodes)}(e.previousSibling,e)}))},Jm[yh="pre"]||(Jm[yh]=[]),Jm[yh].push(_h);var tg=yt.each,ng=function(e){return wn(e)&&!Al(e)&&!yl(e)&&!Sn(e)},ig=function(e,t){var n;for(n=e;n;n=n[t]){if(Nn(n)&&0!==n.nodeValue.length)return e;if(wn(n)&&!Al(n))return n}return e},rg=function(e,t,n){var i,r,o=Sh(e);if(t&&n&&(t=ig(t,"previousSibling"),n=ig(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),yt.each(yt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},og=function(e,t,n,i){if(i&&!1!==t.merge_siblings){var r=rg(e,Ml(i),i);rg(e,r,Ml(r,!0))}},ag=function(e,t,n){tg(e.childNodes,function(e){ng(e)&&(t(e)&&n(e),e.hasChildNodes()&&ag(e,t,n))})},sg=function(t,n){return function(e){return!(!e||!Wl(t,e,n))}},ug=function(t,n,i){return function(e){t.setStyle(e,n,i),""===e.getAttribute("style")&&e.removeAttribute("style"),function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)}(t,e)}},cg=hi([{keep:[]},{rename:["name"]},{removed:[]}]),lg=/^(src|href|style)$/,fg=yt.each,dg=zl,hg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},pg=function(e,t,n){var i,r;if(i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],wn(i)){var o=i.childNodes.length-1;!n&&r&&r--,i=i.childNodes[o<r?o:r]}return Nn(i)&&n&&r>=i.nodeValue.length&&(i=new Xi(i,e.getBody()).next()||i),Nn(i)&&!n&&0===r&&(i=new Xi(i,e.getBody()).prev()||i),i},mg=function(e,t){var n=t?"firstChild":"lastChild";if(function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}(e)&&e[n]){var i=e[n];return"TR"===e.nodeName&&i[n]||i}return e},gg=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},vg=function(e,t,n,i,r){var o=wt.fromDom(t),a=wt.fromDom(e.create(i,r)),s=n?qt(o):zt(o);return on(a,s),n?(en(o,a),nn(a,o)):(tn(o,a),rn(a,o)),a.dom},bg=function(e,t,n,i){return!(t=Ml(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},yg=function(e,i,r,t,o){var n,a=e.dom;if(!function(e,t,n){return!!dg(t,n.inline)||!!dg(t,n.block)||(n.selector?wn(t)&&e.is(t,n.selector):void 0)}(a,t,i)&&!function(e,t){return t.links&&"A"===e.nodeName}(t,i))return cg.keep();var s=t;if(i.inline&&"all"===i.remove&&E(i.preserve_attributes)){var u=Y(a.getAttribs(s),function(e){return j(i.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(s),$(u,function(e){return a.setAttrib(s,e.name,e.value)}),0<u.length)return cg.rename("span")}if("all"!==i.remove){fg(i.styles,function(e,t){e=ql(a,Hl(e,r),t+""),I(t)&&(t=e,o=null),(i.remove_similar||!o||dg(Wl(a,o,t),e))&&a.setStyle(s,t,""),n=!0}),n&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),fg(i.attributes,function(e,t){var n;if(e=Hl(e,r),I(t)&&(t=e,o=null),i.remove_similar||!o||dg(a.getAttrib(o,t),e)){if("class"===t&&(e=a.getAttrib(s,t))&&(n="",$(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void a.setAttrib(s,t,n);"class"===t&&s.removeAttribute("className"),lg.test(t)&&s.removeAttribute("data-mce-"+t),s.removeAttribute(t)}}),fg(i.classes,function(e){e=Hl(e,r),o&&!a.hasClass(o,e)||a.removeClass(s,e)});for(var c=a.getAttribs(s),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return cg.keep()}}return"none"!==i.remove?(function(t,e,n){var i,r=e.parentNode,o=t.dom,a=Wu(t);n.block&&(a?r===o.getRoot()&&(n.list_block&&dg(e,n.list_block)||$(oe(e.childNodes),function(e){jl(t,a,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=gg(o,e,a),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(bg(o,e,!1)||bg(o,e.firstChild,!0,!0)||e.insertBefore(o.create("br"),e.firstChild),bg(o,e,!0)||bg(o,e.lastChild,!1,!0)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!dg(n.inline,e)||o.remove(e,!0)}(e,s,i),cg.removed()):cg.keep()},_g=function(t,e,n,i,r){return yg(t,e,n,i,r).fold(g,function(e){return t.dom.rename(i,e),!0},v)},wg=function(t,e,n,i){return yg(t,e,n,i,i).fold(y(i),function(e){return t.dom.createFragment().appendChild(i),t.dom.rename(i,e)},y(null))},xg=function(a,n,o,e,i){var s=a.formatter.get(n),u=s[0],c=!0,l=a.dom,t=a.selection,f=function(e){var t=function(n,e,i,r,o){var a;return $(Vl(n.dom,e.parentNode).reverse(),function(e){if(!a&&"_start"!==e.id&&"_end"!==e.id){var t=Mm(n,e,i,r,o);t&&!1!==t.split&&(a=e)}}),a}(a,e,n,o,i);return function(e,t,n,i,r,o,a,s){var u,c,l,f=e.dom;if(n){for(var d=n.parentNode,h=i.parentNode;h&&h!==d;h=h.parentNode){u=f.clone(h,!1);for(var p=0;p<t.length&&null!==(u=wg(e,t[p],s,u));p++);u&&(c&&u.appendChild(c),l||(l=u),c=u)}!o||a.mixed&&f.isBlock(n)||(i=f.split(n,i)),c&&(r.parentNode.insertBefore(c,r),l.appendChild(r),a.inline&&og(f,a,0,c))}return i}(a,s,t,e,e,!0,u,o)},d=function(e){var t,n;wn(e)&&l.getContentEditable(e)&&(t=c,c="true"===l.getContentEditable(e),n=!0);var i=oe(e.childNodes);if(c&&!n)for(var r=0;r<s.length&&!_g(a,s[r],o,e,e);r++);if(u.deep&&i.length){for(r=0;r<i.length;r++)d(i[r]);n&&(c=t)}},h=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return function(e){return Al(e)&&wn(e)&&("_start"===e.id||"_end"===e.id)}(n)&&(n=n[e?"firstChild":"lastChild"]),Nn(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},r=function(e){var t,n,i=ff(a,e,s,e.collapsed);if(u.split){if(i=Xf(i),(t=pg(a,i,!0))!==(n=pg(a,i))){if(t=mg(t,!0),n=mg(n,!1),hg(l,t,n)){var r=C.from(t.firstChild).getOr(t);return f(vg(l,r,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(hg(l,n,t)){r=C.from(n.lastChild).getOr(n);return f(vg(l,r,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}t=gg(l,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=gg(l,n,"span",{id:"_end","data-mce-type":"bookmark"});var o=l.createRng();o.setStartAfter(t),o.setEndBefore(n),hf(l,o,function(e){$(e,function(e){Al(e)||Al(e.parentNode)||f(e)})}),f(t),f(n),t=h(!0),n=h()}else t=n=f(t);i.startContainer=t.parentNode?t.parentNode:t,i.startOffset=l.nodeIndex(t),i.endContainer=n.parentNode?n.parentNode:n,i.endOffset=l.nodeIndex(n)+1}hf(l,i,function(e){$(e,function(t){d(t);$(["underline","line-through","overline"],function(e){wn(t)&&a.dom.getStyle(t,"text-decoration")===e&&t.parentNode&&Ul(l,t.parentNode)===e&&_g(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},null,t)})})})};if(e)if(Rl(e)){var p=l.createRng();p.setStartBefore(e),p.setEndAfter(e),r(p)}else r(e);else if("false"!==l.getContentEditable(t.getNode()))t.isCollapsed()&&u.inline&&!vf(a).length?Km(a,n,o,i):(kf(t,!0,function(){Cf(a,r)}),u.inline&&Bm(a,n,o,t.getStart())&&Ll(l,t,t.getRng()),a.nodeChanged());else{e=t.getNode();for(var m=0;m<s.length&&(!s[m].ceFalseOverride||!_g(a,s[m],o,e,e));m++);}},Cg=yt.each,kg=function(n,e,i,r){Cg(e,function(t){Cg(n.dom.select(t.inline,r),function(e){ng(e)&&_g(n,t,i,e,t.exact?e:null)}),function(i,e,t){if(e.clear_child_styles){var n=e.links?"*:not(a)":"*";tg(i.select(n,t),function(n){ng(n)&&tg(e.styles,function(e,t){i.setStyle(n,t,"")})})}}(n.dom,t,r)})},Sg=yt.each,Dg=function(e,t){return be(e,t)},Tg=function(m,g,v,i){var b=m.formatter.get(g),y=b[0],r=!i&&m.selection.isCollapsed(),o=m.dom,e=m.selection,_=function(n,e){if(e=e||y,n){if(e.onformat&&e.onformat(n,e,v,i),Sg(e.styles,function(e,t){o.setStyle(n,t,Hl(e,v))}),e.styles){var t=o.getAttrib(n,"style");t&&o.setAttrib(n,"data-mce-style",t)}Sg(e.attributes,function(e,t){o.setAttrib(n,t,Hl(e,v))}),Sg(e.classes,function(e){e=Hl(e,v),o.hasClass(n,e)||o.addClass(n,e)})}},w=function(e,t){var n=!1;return!!Ql(y)&&(Sg(e,function(e){if(!("collapsed"in e&&e.collapsed!==r))return o.is(t,e.selector)&&!yl(t)?(_(t,e),!(n=!0)):void 0}),n)},a=function(c,e,t,l){var f=[],d=!0,h=y.inline||y.block,p=c.create(h);_(p),hf(c,e,function(e){var s,u=function(e){var t=!1,n=d,i=e.nodeName.toLowerCase(),r=e.parentNode.nodeName.toLowerCase();if(wn(e)&&c.getContentEditable(e)&&(n=d,d="true"===c.getContentEditable(e),t=!0),In(e)&&!function(e,t,n,i){if(function(e){return e.getParam("format_empty_lines",!1,"boolean")}(e)&&Kl(t)){var r=Te(Te({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),o=Em(wt.fromDom(n),function(e){return yl(e.dom)});return be(r,i)&&qr(wt.fromDom(n.parentNode),!1)&&!o}return!1}(m,y,e,r))return s=null,void(Yl(y)&&c.remove(e));if(y.wrapper&&Mm(m,e,g,v))s=null;else{if(d&&!t&&Yl(y)&&!y.wrapper&&Bl(m,i)&&jl(m,r,h)){var o=c.rename(e,h);return _(o),f.push(o),void(s=null)}if(Ql(y)){var a=w(b,e);if(!Dg(y,"inline")||a)return void(s=null)}!d||t||!jl(m,h,i)||!jl(m,r,h)||!l&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||yl(e)||Dg(y,"inline")&&c.isBlock(e)?(s=null,Sg(yt.grep(e.childNodes),u),t&&(d=n),s=null):(s||(s=c.clone(p,!1),e.parentNode.insertBefore(s,e),f.push(s)),s.appendChild(e))}};Sg(e,u)}),!0===y.links&&Sg(f,function(e){var t=function(e){"A"===e.nodeName&&_(e,y),Sg(yt.grep(e.childNodes),t)};t(e)}),Sg(f,function(e){var t,n,i,r,o=function(e){var t=!1;return Sg(e.childNodes,function(e){if(function(e){return e&&1===e.nodeType&&!Al(e)&&!yl(e)&&!Sn(e)}(e))return t=e,!1}),t},a=(t=0,Sg(e.childNodes,function(e){(function(e){return V(e)&&Nn(e)&&0===e.length})(e)||Al(e)||t++}),t);!(1<f.length)&&c.isBlock(e)||0!==a?(Kl(y)||y.wrapper)&&(y.exact||1!==a||((r=o(n=e))&&!Al(r)&&Rm(c,r,y)&&(i=c.clone(r,!1),_(i),c.replace(i,n,!0),c.remove(r,!0)),e=i||n),kg(m,b,v,e),function(t,n,i,r,o){Mm(t,o.parentNode,i,r)&&_g(t,n,r,o)||n.merge_with_parents&&t.dom.getParent(o.parentNode,function(e){if(Mm(t,e,i,r))return _g(t,n,r,o),!0})}(m,y,g,v,e),function(e,t,n,i){t.styles&&t.styles.backgroundColor&&ag(i,sg(e,"fontSize"),ug(e,"backgroundColor",Hl(t.styles.backgroundColor,n)))}(c,y,v,e),function(n,e,t,i){var r=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var t=Ul(n,e.parentNode);n.getStyle(e,"color")&&t?n.setStyle(e,"text-decoration",t):n.getStyle(e,"text-decoration")===t&&n.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(yt.walk(i,r,"childNodes"),r(i))}(c,y,0,e),function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(ag(i,sg(e,"fontSize"),ug(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))}(c,y,0,e),og(c,y,0,e)):c.remove(e,!0)})};if("false"!==o.getContentEditable(e.getNode())){if(y){if(i)if(Rl(i)){if(!w(b,i)){var t=o.createRng();t.setStartBefore(i),t.setEndAfter(i),a(o,ff(m,t,b),0,!0)}}else a(o,i,0,!0);else if(r&&Kl(y)&&!vf(m).length)!function(e,t,n){var i,r,o=e.selection,a=o.getRng(),s=a.startOffset,u=a.startContainer.nodeValue;(i=_l(e.getBody(),o.getStart()))&&(r=Wm(i));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&0<s&&s<u.length&&c.test(u.charAt(s))&&c.test(u.charAt(s-1))){var l=o.getBookmark();a.collapse(!0);var f=ff(e,a,e.formatter.get(t));f=Xf(f),e.formatter.apply(t,n,f),o.moveToBookmark(l)}else i&&r.nodeValue===Hm||(r=(i=function(e,t){return e.importNode(t,!0)}(e.getDoc(),Um(!0).dom)).firstChild,a.insertNode(i),s=1),e.formatter.apply(t,n,i),o.setCursorLocation(r,s)}(m,g,v);else{var n=e.getNode(),s=b[0];m.settings.forced_root_block||!s.defaultBlock||o.getParent(n,o.isBlock)||Tg(m,s.defaultBlock),e.setRng(hm(e.getRng())),kf(e,!0,function(e){Cf(m,function(e,t){var n=t?e:ff(m,e,b);a(o,n)})}),Ll(o,e,e.getRng()),m.nodeChanged()}!function(e,t){eg(Jm[e],function(e){e(t)})}(g,m)}}else{i=e.getNode();for(var u=0,c=b.length;u<c;u++){var l=b[u];if(l.ceFalseOverride&&Ql(l)&&o.is(i,l.selector))return void _(i,l)}}},Eg=function(i,e,t,n){var r=ae(t.get()),o={},a={},s=Y(Vl(i.dom,e),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});ue(n,function(e,n){yt.each(s,function(t){return i.formatter.matchNode(t,n,{},e.similar)?(-1===r.indexOf(n)&&($(e.callbacks,function(e){e(!0,{node:t,format:n,parents:s})}),o[n]=e.callbacks),a[n]=e.callbacks,!1):!Pm(i,t,n)&&void 0})});var u=Ng(t.get(),a,e,s);t.set(Te(Te({},o),u))},Ng=function(e,n,i,r){return he(e,function(e,t){return!!ve(n,t)||($(e,function(e){e(!1,{node:i,format:t,parents:r})}),!1)}).t},Ag=function(e,t,n,i,r){return null===t.get()&&function(t,n){var i=us({});t.set({}),n.on("NodeChange",function(e){Eg(n,e.element,i,t.get())})}(t,e),function(e,t,n,i){var r=e.get();$(t.split(","),function(e){r[e]||(r[e]={similar:i,callbacks:[]}),r[e].callbacks.push(n)}),e.set(r)}(t,n,i,r),{unbind:function(){return function(e,t,n){var i=e.get();$(t.split(","),function(e){i[e].callbacks=Y(i[e].callbacks,function(e){return e!==n}),0===i[e].callbacks.length&&delete i[e]}),e.set(i)}(t,n,i)}}},Og=function(e,t){var n=(t||document).createDocumentFragment();return $(e,function(e){n.appendChild(e.dom)}),wt.fromDom(n)},Pg=function(e,t,n){return{element:e,width:t,rows:n}},Ig=function(e,t){return{element:e,cells:t}},Rg=function(e,t){var n=parseInt(Wn(e,t),10);return isNaN(n)?1:n},Lg=function(e){return K(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)},Mg=function(e,t){for(var n=e.rows,i=0;i<n.length;i++)for(var r=n[i].cells,o=0;o<r.length;o++)if(St(r[o],t))return C.some({x:o,y:i});return C.none()},Bg=function(e,t,n,i,r){for(var o=[],a=e.rows,s=n;s<=r;s++){var u=a[s].cells,c=t<i?u.slice(t,i+1):u.slice(i,t+1);o.push(Ig(a[s].element,c))}return o},jg=function(e){var r=Pg(Ms(e),0,[]);return $(ks(e,"tr"),function(n,i){$(ks(n,"td,th"),function(e,t){!function(e,t,n,i,r){for(var o=Rg(r,"rowspan"),a=Rg(r,"colspan"),s=e.rows,u=n;u<n+o;u++){s[u]||(s[u]=Ig(Bs(i),[]));for(var c=t;c<t+a;c++)s[u].cells[c]=u===n&&c===t?r:Ms(r)}}(r,function(e,t,n){for(;i=t,r=n,((o=e.rows)[r]?o[r].cells:[])[i];)t++;var i,r,o;return t}(r,t,i),i,n,e)})}),Pg(r.element,Lg(r.rows),r.rows)},Fg=function(e){return function(e,t){var n=Ms(e.element),i=wt.fromTag("tbody");return on(i,t),rn(n,i),n}(e,function(e){return H(e.rows,function(e){var t=H(e.cells,function(e){var t=Bs(e);return Vn(t,"colspan"),Vn(t,"rowspan"),t}),n=Ms(e.element);return on(n,t),n})}(e))},Hg=function(n,e,i){return Mg(n,e).bind(function(t){return Mg(n,i).map(function(e){return function(e,t,n){var i=t.x,r=t.y,o=n.x,a=n.y,s=r<a?Bg(e,i,r,o,a):Bg(e,i,a,o,r);return Pg(e.element,Lg(s),s)}(n,t,e)})})},zg=function(t,n){return X(t,function(e){return"li"===Et(e)&&_f(e,n)}).fold(y([]),function(e){return function(e){return X(e,function(e){return"ul"===Et(e)||"ol"===Et(e)})}(t).map(function(e){var t=wt.fromTag(Et(e)),n=pe(Xn(e),function(e,t){return qe(t,"list-style")});return $n(t,n),[wt.fromTag("li"),t]}).getOr([])})},qg=function(e,t){var n=wt.fromDom(t.commonAncestorContainer),i=Kh(n,e),r=Y(i,function(e){return er(e)||Ji(e)}),o=zg(i,t),a=r.concat(o.length?o:function(t){return rr(t)?jt(t).filter(ir).fold(y([]),function(e){return[t,e]}):ir(t)?[t]:[]}(n));return H(a,Ms)},Wg=function(){return Og([])},Ug=function(e,t){return function(e,t){var n=K(t,function(e,t){return rn(t,e),t},e);return 0<t.length?Og([n]):n}(wt.fromDom(t.cloneContents()),qg(e,t))},Vg=function(e,r){return function(e,t){return Hi(t,"table",_(St,e))}(e,r[0]).bind(function(e){var t=r[0],n=r[r.length-1],i=jg(e);return Hg(i,t,n).map(function(e){return Og([Fg(e)])})}).getOrThunk(Wg)},$g=function(e,t){var n=gf(t,e);return 0<n.length?Vg(e,n):function(e,t){return 0<t.length&&t[0].collapsed?Wg():Ug(e,t[0])}(e,t)},Yg=function(e,t){return 0<=t&&t<e.length&&Pl(e.charAt(t))},Qg=function(e,t){var n=fr(e.innerText);return t?function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}(n):n},Kg=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return function(f){return C.from(f.selection.getRng()).map(function(e){var t=C.from(f.dom.getParent(e.commonAncestorContainer,f.dom.isBlock)),n=f.getBody(),i=function(e){return e.map(function(e){return e.nodeName}).getOr("div").toLowerCase()}(t),r=pt.browser.isIE()&&"pre"!==i,o=f.dom.add(n,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),a=Qg(o,r),s=fr(o.textContent);if(f.dom.remove(o),Yg(s,0)||Yg(s,s.length-1)){var u=t.getOr(n),c=Qg(u,r),l=c.indexOf(a);return-1===l?a:(Yg(c,l-1)?" ":"")+a+(Yg(c,l+a.length)?" ":"")}return a}).getOr("")}(e);n.getInner=!0;var i=function(e,t){var n=e.selection.getRng(),i=e.dom.create("body"),r=e.selection.getSel(),o=sh(e,pf(r)),a=t.contextual?$g(wt.fromDom(e.getBody()),o).dom:n.cloneContents();return a&&i.appendChild(a),e.selection.serializer.serialize(i,t)}(e,n);return"tree"===n.format?i:(n.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",n),n.content)},Xg=function(e){return wn(e)?e.outerHTML:Nn(e)?ao.encodeRaw(e.data,!1):An(e)?"\x3c!--"+e.data+"--\x3e":""},Gg=function(e,t,n){var i=function(e){var t,n=document.createElement("div"),i=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)},Jg=function(e,t){return function(e,t){var n=0;$(e,function(e){0===e[0]?n++:1===e[0]?(Gg(t,e[1],n),n++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,n)})}(function(p,m){var e=p.length+m.length+2,g=new Array(e),v=new Array(e),c=function(e,t,n,i,r){var o=l(e,t,n,i);if(null===o||o.start===t&&o.diag===t-i||o.end===e&&o.diag===e-n)for(var a=e,s=n;a<t||s<i;)a<t&&s<i&&p[a]===m[s]?(r.push([0,p[a]]),++a,++s):i-n<t-e?(r.push([2,p[a]]),++a):(r.push([1,m[s]]),++s);else{c(e,o.start,n,o.start-o.diag,r);for(var u=o.start;u<o.end;++u)r.push([0,p[u]]);c(o.end,t,o.end-o.diag,i,r)}},b=function(e,t,n,i){for(var r=e;r-t<i&&r<n&&p[r]===m[r-t];)++r;return function(e,t,n){return{start:e,end:t,diag:n}}(e,r,t)},l=function(e,t,n,i){var r=t-e,o=i-n;if(0==r||0==o)return null;var a,s,u,c,l,f=r-o,d=o+r,h=(d%2==0?d:1+d)/2;for(g[1+h]=e,v[1+h]=t+1,a=0;a<=h;++a){for(s=-a;s<=a;s+=2){for(u=s+h,s===-a||s!==a&&g[u-1]<g[u+1]?g[u]=g[u+1]:g[u]=g[u-1]+1,l=(c=g[u])-e+n-s;c<t&&l<i&&p[c]===m[l];)g[u]=++c,++l;if(f%2!=0&&f-a<=s&&s<=f+a&&v[u-f]<=g[u])return b(v[u-f],s+e-n,t,i)}for(s=f-a;s<=f+a;s+=2){for(u=s+h-f,s===f-a||s!==f+a&&v[u+1]<=v[u-1]?v[u]=v[u+1]-1:v[u]=v[u-1],l=(c=v[u]-1)-e+n-s;e<=c&&n<=l&&p[c]===m[l];)v[u]=c--,l--;if(f%2==0&&-a<=s&&s<=a&&v[u]<=g[u+f])return b(v[u],s+e-n,t,i)}}},t=[];return c(0,p.length,0,m.length,t),t}(H(oe(t.childNodes),Xg),e),t),t},Zg=us(C.none()),ev=function(n){var e=function(e){return Y(H(oe(e.childNodes),Xg),function(e){return 0<e.length})}(n.getBody()),t=J(e,function(e){var t=wh(n.serializer,e);return 0<t.length?[t]:[]}),i=t.join("");return function(e){return-1!==e.indexOf("</iframe>")}(i)?function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}(t):function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}(i)},tv=function(e,t,n){"fragmented"===t.type?Jg(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},nv=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},iv=function(e){var t=wt.fromTag("body",Zg.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Zg.set(C.some(e)),e}));return Rs(t,nv(e)),$(ks(t,"*[data-mce-bogus]"),un),function(e){return e.dom.innerHTML}(t)},rv=function(e,t){return!(!e||!t)&&(!!function(e,t){return nv(e)===nv(t)}(e,t)||function(e,t){return iv(e)===iv(t)}(e,t))},ov=function(e){return 0===e.get()},av=function(e,t,n){ov(n)&&(e.typing=t)},sv=function(e,t){e.typing&&(av(e,!1,t),e.add())},uv=function(a){return{undoManager:{beforeChange:function(e,t){return function(e,t,n){ov(t)&&n.set(C.some(Fu(e.selection)))}(a,e,t)},addUndoLevel:function(e,t,n,i,r,o){return function(e,t,n,i,r,o,a){var s=ev(e);if(o=o||{},o=yt.extend(o,s),!1===ov(i)||e.removed)return null;var u=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:o,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&rv(u,o))return null;t.data[n.get()]&&r.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}o.bookmark=Fu(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(o),n.set(t.data.length-1);var f={level:o,lastLevel:u,originalEvent:a};return 0<n.get()?(e.setDirty(!0),e.fire("AddUndo",f),e.fire("change",f)):e.fire("AddUndo",f),o}(a,e,t,n,i,r,o)},undo:function(e,t,n){return function(e,t,n,i){var r;return t.typing&&(t.add(),t.typing=!1,av(t,!1,n)),0<i.get()&&(i.set(i.get()-1),r=t.data[i.get()],tv(e,r,!0),e.setDirty(!0),e.fire("Undo",{level:r})),r}(a,e,t,n)},redo:function(e,t){return function(e,t,n){var i;return t.get()<n.length-1&&(t.set(t.get()+1),i=n[t.get()],tv(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i}(a,e,t)},clear:function(e,t){return function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")}(a,e,t)},reset:function(e){return function(e){e.clear(),e.add()}(e)},hasUndo:function(e,t){return function(e,t,n){return 0<n.get()||t.typing&&t.data[0]&&!rv(ev(e),t.data[0])}(a,e,t)},hasRedo:function(e,t){return function(e,t){return t.get()<e.data.length-1&&!e.typing}(e,t)},transact:function(e,t,n){return function(e,t,n){return sv(e,t),e.beforeChange(),e.ignore(n),e.add()}(e,t,n)},ignore:function(e,t){return function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(e,t)},extra:function(e,t,n,i){return function(e,t,n,i,r){if(t.transact(i)){var o=t.data[n.get()].bookmark,a=t.data[n.get()-1];tv(e,a,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}}(a,e,t,n,i)}},formatter:{match:function(e,t,n){return Bm(a,e,t,n)},matchAll:function(e,t){return function(i,r,o){var a=[],s={},e=i.selection.getStart();return i.dom.getParent(e,function(e){for(var t=0;t<r.length;t++){var n=r[t];!s[n]&&Mm(i,e,n,o)&&(s[n]=!0,a.push(n))}},i.dom.getRoot()),a}(a,e,t)},matchNode:function(e,t,n,i){return Mm(a,e,t,n,i)},canApply:function(e){return function(e,t){var n,i,r,o,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),i=Vl(u,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(u.is(i[r],a))return!0}return!1}(a,e)},closest:function(e){return jm(a,e)},apply:function(e,t,n){return Tg(a,e,t,n)},remove:function(e,t,n,i){return xg(a,e,t,n,i)},toggle:function(e,t,n){return function(e,t,n,i){var r=e.formatter.get(t);!Bm(e,t,n,i)||"toggle"in r[0]&&!r[0].toggle?Tg(e,t,n,i):xg(e,t,n,i)}(a,e,t,n)},formatChanged:function(e,t,n,i){return Ag(a,e,t,n,i)}},editor:{getContent:function(e,t){return function(t,n,i){return C.from(t.getBody()).fold(y("tree"===n.format?new dh("body",11):""),function(e){return Ch(t,n,i,e)})}(a,e,t)},setContent:function(e,t){return Tm(a,e,t)},insertContent:function(e,t){return xm(a,e,t)},addVisual:function(e){return function(o,e){var a=o.dom,t=V(e)?e:o.getBody();O(o.hasVisual)&&(o.hasVisual=function(e){return e.getParam("visual",!0,"boolean")}(o)),$(a.select("table,a",t),function(e){switch(e.nodeName){case"TABLE":var t=function(e){return e.getParam("visual_table_class","mce-item-table","string")}(o),n=a.getAttrib(e,"border");n&&"0"!==n||!o.hasVisual?a.removeClass(e,t):a.addClass(e,t);break;case"A":if(!a.getAttrib(e,"href")){var i=a.getAttrib(e,"name")||e.id,r=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}(o);i&&o.hasVisual?a.addClass(e,r):a.removeClass(e,r)}}}),o.fire("VisualAid",{element:e,hasVisual:o.hasVisual})}(a,e)}},selection:{getContent:function(e,t){return Kg(a,e,t)}},raw:{getModel:function(){return C.none()}}}},cv=function(e){return ve(e.plugins,"rtc")},lv=function(e){var t=e;return ge(e.plugins,"rtc").fold(function(){return t.rtcInstance=uv(e),C.none()},function(e){return C.some(e.setup().then(function(e){return t.rtcInstance=function(e){var r=function(e){return T(e)?e:{}},t=h("Unimplemented feature for rtc"),o=e.undoManager,a=e.formatter,n=e.editor,i=e.selection,s=e.raw;return{undoManager:{beforeChange:q,addUndoLevel:t,undo:function(){return o.undo()},redo:function(){return o.redo()},clear:function(){return o.clear()},reset:function(){return o.reset()},hasUndo:function(){return o.hasUndo()},hasRedo:function(){return o.hasRedo()},transact:function(e,t,n){return o.transact(n)},ignore:function(e,t){return o.ignore(t)},extra:function(e,t,n,i){return o.extra(n,i)}},formatter:{match:function(e,t,n){return a.match(e,r(t))},matchAll:t,matchNode:t,canApply:function(e){return a.canApply(e)},closest:function(e){return a.closest(e)},apply:function(e,t,n){return a.apply(e,r(t))},remove:function(e,t,n,i){return a.remove(e,r(t))},toggle:function(e,t,n){return a.toggle(e,r(t))},formatChanged:function(e,t,n,i){return a.formatChanged(t,n,i)}},editor:{getContent:function(e,t){return n.getContent(e)},setContent:function(e,t){return n.setContent(e,t)},insertContent:function(e,t){return n.insertContent(e)},addVisual:q},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return C.some(s.getRawModel())}}}}(e),e.rtc.isRemote},function(e){return t.rtcInstance=function(){var e=y(null),t=y("");return{undoManager:{beforeChange:q,addUndoLevel:e,undo:e,redo:e,clear:q,reset:q,hasUndo:g,hasRedo:g,transact:e,ignore:q,extra:q},formatter:{match:g,matchAll:y([]),matchNode:g,canApply:g,closest:t,apply:q,remove:q,toggle:q,formatChanged:y({unbind:q})},editor:{getContent:t,setContent:t,insertContent:q,addVisual:q},selection:{getContent:t},raw:{getModel:y(C.none())}}}(),Wi.reject(e)}))})},fv=function(e){return e.rtcInstance?e.rtcInstance:uv(e)},dv=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},hv=function(e,t){return void 0===t&&(t={}),function(e,t,n){return dv(e).selection.getContent(t,n)}(e,t.format?t.format:"html",t)},pv=function(e){return 0===e.dom.length?(sn(e),C.none()):C.some(e)},mv=function(e,n,i,r){e.bind(function(t){return(r?Dp:Sp)(t.dom,r?t.dom.length:0),n.filter(Pt).map(function(e){return function(e,t,n,i){var r=e.dom,o=t.dom,a=i?r.length:o.length;i?(Tp(r,o,!1,!i),n.setStart(o,a)):(Tp(o,r,!1,!i),n.setEnd(o,a))}(t,e,i,r)})}).orThunk(function(){return function(e,t){return e.filter(function(e){return Pf.isBookmarkNode(e.dom)}).bind(t?Ht:Ft)}(n,r).or(n).filter(Pt).map(function(e){return function(n,i){jt(n).each(function(e){var t=n.dom;i&&gp(e,mu(t,0))?Sp(t,0):!i&&vp(e,mu(t,t.length))&&Dp(t,t.length)})}(e,r)})})},gv=function(e,t,n){void 0===n&&(n={});var i=function(e,t){return Te(Te({format:"html"},e),{set:!0,selection:!0,content:t})}(n,t);if(i.no_events||!(i=e.fire("BeforeSetContent",i)).isDefaultPrevented()){n.content=function(e,t){if("raw"===t.format)return t.content;var n=e.selection.getRng(),i=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=i?{context:i.nodeName.toLowerCase()}:{},o=e.parser.parse(t.content,Te(Te({isRootContent:!0,forced_root_block:!1},r),t));return Eh({validate:e.validate},e.schema).serialize(o)}(e,i);var r=e.selection.getRng();!function(e,t){var n=C.from(t.firstChild).map(wt.fromDom),i=C.from(t.lastChild).map(wt.fromDom);e.deleteContents(),e.insertNode(t);var r=n.bind(Ft).filter(Pt).bind(pv),o=i.bind(Ht).filter(Pt).bind(pv);mv(r,n,e,!0),mv(o,i,e,!1),e.collapse(!1)}(r,r.createContextualFragment(n.content)),e.selection.setRng(r),Cd(e,r),i.no_events||e.fire("SetContent",i)}else e.fire("SetContent",i)},vv=function(e,t,n){if(e&&e.hasOwnProperty(t)){var i=Y(e[t],function(e){return e!==n});0===i.length?delete e[t]:e[t]=i}};var bv,yv,_v=function(e){return!!e.select},wv=function(e){return!(!e||!e.ownerDocument)&&Tt(wt.fromDom(e.ownerDocument),wt.fromDom(e))},xv=function(a,s,e,u){var c,l,n=function(o,n){var a,s;return{selectorChangedWithUnbind:function(e,t){return a||(a={},s={},n.on("NodeChange",function(e){var n=e.element,i=o.getParents(n,null,o.getRoot()),r={};yt.each(a,function(e,n){yt.each(i,function(t){if(o.is(t,n))return s[n]||(yt.each(e,function(e){e(!0,{node:t,selector:n,parents:i})}),s[n]=e),r[n]=e,!1})}),yt.each(s,function(e,t){r[t]||(delete s[t],yt.each(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),a[e]||(a[e]=[]),a[e].push(t),{unbind:function(){vv(a,e,t),vv(s,e,t)}}}}}(a,u).selectorChangedWithUnbind,t=function(e,t){return gv(u,e,t)},i=function(e){var t=r();t.collapse(!!e),o(t)},f=function(){return s.getSelection?s.getSelection():s.document.selection},r=function(){var e,t,n,i=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},r=s.document;if(void 0!==u.bookmark&&!1===Zd(u)){var o=zd(u);if(o.isSome())return o.map(function(e){return sh(u,[e])[0]}).getOr(r.createRange())}try{(e=f())&&!_n(e.anchorNode)&&(t=0<e.rangeCount?e.getRangeAt(0):e.createRange?e.createRange():r.createRange(),t=sh(u,[t])[0])}catch(e){}return t||(t=r.createRange?r.createRange():r.body.createTextRange()),t.setStart&&9===t.startContainer.nodeType&&t.collapsed&&(n=a.getRoot(),t.setStart(n,0),t.setEnd(n,0)),c&&l&&(0===i(t.START_TO_START,t,c)&&0===i(t.END_TO_END,t,c)?t=l:l=c=null),t},o=function(e,t){var n;if(function(e){return!!e&&(!!_v(e)||wv(e.startContainer)&&wv(e.endContainer))}(e)){var i=_v(e)?e:null;if(i){l=null;try{i.select()}catch(e){}}else{var r=f();if(e=u.fire("SetSelectionRange",{range:e,forward:t}).range,r){l=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),c=0<r.rangeCount?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||pt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(n,0,n,1)),u.fire("AfterSetSelectionRange",{range:e,forward:t})}}},d=function(){var e=f(),t=null==e?void 0:e.anchorNode,n=null==e?void 0:e.focusNode;if(!e||!t||!n||_n(t)||_n(n))return!0;var i=a.createRng();i.setStart(t,e.anchorOffset),i.collapse(!0);var r=a.createRng();return r.setStart(n,e.focusOffset),r.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,r)<=0},h={bookmarkManager:null,controlSelection:null,dom:a,win:s,serializer:e,editor:u,collapse:i,setCursorLocation:function(e,t){var n=a.createRng();V(e)&&V(t)?(n.setStart(e,t),n.setEnd(e,t),o(n),i(!1)):(wf(a,n,u.getBody(),!0),o(n))},getContent:function(e){return hv(u,e)},setContent:t,getBookmark:function(e,t){return p.getBookmark(e,t)},moveToBookmark:function(e){return p.moveToBookmark(e)},select:function(e,t){return function(i,e,r){return C.from(e).map(function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),r&&(wf(i,n,e,!0),wf(i,n,e,!1)),n})}(a,e,t).each(o),e},isCollapsed:function(){var e=r(),t=f();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:d,setNode:function(e){return t(a.getOuterHTML(e)),e},getNode:function(){return function(e,t){var n,i,r;if(!t)return e;i=t.startContainer,r=t.endContainer;var o=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(i===r&&a-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?ah(i.nextSibling,!0):i.parentNode,r=0===a?ah(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n}(u.getBody(),r())},getSel:f,setRng:o,getRng:r,getStart:function(e){return rh(u.getBody(),r(),e)},getEnd:function(e){return oh(u.getBody(),r(),e)},getSelectedBlocks:function(e,t){return function(e,t,n,i){var r,o=[],a=e.getRoot();if(n=e.getParent(n||rh(a,t,t.collapsed),e.isBlock),i=e.getParent(i||oh(a,t,t.collapsed),e.isBlock),n&&n!==a&&o.push(n),n&&i&&n!==i)for(var s=new Xi(r=n,a);(r=s.next())&&r!==i;)e.isBlock(r)&&o.push(r);return i&&n!==i&&i!==a&&o.push(i),o}(a,r(),e,t)},normalize:function(){var e=r();if(function(e){return 1<pf(e).length}(f())||!xf(u))return e;var t=Qf(a,e);return t.each(function(e){o(e,d())}),t.getOr(e)},selectorChanged:function(e,t){return n(e,t),h},selectorChangedWithUnbind:n,getScrollContainer:function(){for(var e,t=a.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){return function(e,t,n){(e.inline?_d:xd)(e,t,n)}(u,e,t)},placeCaretAt:function(e,t){return o(Hf(e,t,u.getDoc()))},getBoundingClientRect:function(){var e=r();return e.collapsed?mu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){s=c=l=null,m.destroy()}},p=Pf(h),m=jf(h,u);return h.bookmarkManager=p,h.controlSelection=m,h},Cv=function(e,o,a){e.addNodeFilter("font",function(e){$(e,function(e){var t=o.parse(e.attr("style")),n=e.attr("color"),i=e.attr("face"),r=e.attr("size");n&&(t.color=n),i&&(t["font-family"]=i),r&&(t["font-size"]=a[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",o.serialize(t)),function(t,e){$(e,function(e){t.attr(e,null)})}(e,["color","face","size"])})})},kv=function(e,t){var n=yo();t.convert_fonts_to_spans&&Cv(e,n,yt.explode(t.font_size_legacy_values)),function(e,n){e.addNodeFilter("strike",function(e){$(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})}(e,n)},Sv=function(e){var t,n=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(t=i[1]),{type:t,data:n[1]}},Dv=function(e,t){var n;try{n=atob(t)}catch(e){return C.none()}for(var i=new Uint8Array(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);return C.some(new Blob([i],{type:e}))},Tv=function(e){return 0===e.indexOf("blob:")?function(r){return new Wi(function(e,t){var n=function(){t("Cannot convert "+r+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.onload=function(){200===i.status?e(i.response):n()},i.onerror=n,i.send()}catch(e){n()}})}(e):0===e.indexOf("data:")?function(r){return new Wi(function(e){var t=Sv(r),n=t.type,i=t.data;Dv(n,i).fold(function(){return e(new Blob([]))},e)})}(e):null},Ev=0,Nv=function(e){return(e||"blobid")+Ev++},Av=function(n,i,r,t){var o,a;if(0!==i.src.indexOf("blob:")){var e=Sv(i.src),s=e.data,u=e.type;o=s,(a=n.getByData(o,u))?r({image:i,blobInfo:a}):Tv(i.src).then(function(e){a=n.create(Nv(),e,o),n.add(a),r({image:i,blobInfo:a})},function(e){t(e)})}else(a=n.getByUri(i.src))?r({image:i,blobInfo:a}):Tv(i.src).then(function(t){(function(n){return new Wi(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})})(t).then(function(e){o=Sv(e).data,a=n.create(Nv(),t,o),n.add(a),r({image:i,blobInfo:a})})},function(e){t(e)})},Ov=function(r,o){var a={};return{findAll:function(e,n){n||(n=v);var t=Y(function(e){return e?oe(e.getElementsByTagName("img")):[]}(e),function(e){var t=e.src;return!!pt.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===pt.transparentSrc)&&(0===t.indexOf("blob:")?!r.isUploaded(t)&&n(e):0===t.indexOf("data:")&&n(e))}),i=H(t,function(n){if(void 0!==a[n.src])return new Wi(function(t){a[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo})})});var e=new Wi(function(e,t){Av(o,n,e,t)}).then(function(e){return delete a[e.image.src],e}).catch(function(e){return delete a[n.src],e});return a[n.src]=e});return Wi.all(i)}}},Pv=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new dh("br",1)).shortEnded=!0:i.empty().append(new dh("#text",3)).value="Â "},Iv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Rv=function(t,e,n,i){return i.isEmpty(e,n,function(e){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(t,e)})},Lv=function(e,n){var i=n.blob_cache,t=function(t){var e=t.attr("src");(function(e){return e.attr("src")===pt.transparentSrc||e.attr("data-mce-placeholder")})(t)||function(e){return e.attr("data-mce-bogus")}(t)||function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?C.some({type:t[1],data:decodeURIComponent(t[2])}):C.none()}(e).filter(function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),ue(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n)}return!0}(t,n)}).bind(function(e){var t=e.type,n=e.data;return C.from(i.getByData(n,t)).orThunk(function(){return Dv(t,n).map(function(e){var t=i.create(Nv(),e,n);return i.add(t),t})})}).each(function(e){t.attr("src",e.blobUri())})};i&&e.addAttributeFilter("src",function(e){return $(e,t)})},Mv=yt.makeMap,Bv=yt.each,jv=yt.explode,Fv=yt.extend,Hv=function(E,N){void 0===N&&(N=vo());var A={},O=[],P={},I={};(E=E||{}).validate=!("validate"in E)||E.validate,E.root_name=E.root_name||"body";var R=function(e){var t,n,i;(n=e.name)in A&&((i=P[n])?i.push(e):P[n]=[e]),t=O.length;for(;t--;)(n=O[t].name)in e.attributes.map&&((i=I[n])?i.push(e):I[n]=[e]);return e},e={schema:N,addAttributeFilter:function(e,n){Bv(jv(e),function(e){var t;for(t=0;t<O.length;t++)if(O[t].name===e)return void O[t].callbacks.push(n);O.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(O)},addNodeFilter:function(e,n){Bv(jv(e),function(e){var t=A[e];t||(A[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e=[];for(var t in A)A.hasOwnProperty(t)&&e.push({name:t,callbacks:A[t]});return e},filterNode:R,parse:function(e,a){var t,n,i,r,o,u,s,c,l,f=[];a=a||{},P={},I={};var d,h=Fv(Mv("script,style,head,html,body,title,meta,param"),N.getBlockElements()),p=N.getNonEmptyElements(),m=N.children,g=E.validate,v="forced_root_block"in a?a.forced_root_block:E.forced_root_block,b=!1===(d=v)?"":!0===d?"p":d,y=N.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,w=/[ \t\r\n]+$/,x=/[ \t\r\n]+/g,C=/^[ \t\r\n]+$/;c=y.hasOwnProperty(a.context)||y.hasOwnProperty(E.root_name);var k=function(e,t){var n,i=new dh(e,t);return e in A&&((n=P[e])?n.push(i):P[e]=[i]),i},S=function(e){var t,n,i,r,o=N.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(i=t.value.replace(w,"")).length)return void(t.value=i);if(n=t.next){if(3===n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!==n.name&&"style"!==n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}},D=bh({validate:g,allow_html_data_urls:E.allow_html_data_urls,allow_svg_data_urls:E.allow_svg_data_urls,allow_script_urls:E.allow_script_urls,allow_conditional_comments:E.allow_conditional_comments,preserve_cdata:E.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(N.getSelfClosingElements()),cdata:function(e){l.append(k("#cdata",4)).value=e},text:function(e,t){var n;c||(e=e.replace(x," "),function(e,t){return e&&(t[e.name]||"br"===e.name)}(l.lastChild,h)&&(e=e.replace(_,""))),0!==e.length&&((n=k("#text",3)).raw=!!t,l.append(n).value=e)},comment:function(e){l.append(k("#comment",8)).value=e},pi:function(e,t){l.append(k(e,7)).value=t,S(l)},doctype:function(e){l.append(k("#doctype",10)).value=e,S(l)},start:function(e,t,n){var i,r,o,a,s=g?N.getElementRule(e):{};if(s){for((i=k(s.outputName||e,1)).attributes=t,i.shortEnded=n,l.append(i),(a=m[l.name])&&m[i.name]&&!a[i.name]&&f.push(i),r=O.length;r--;)(o=O[r].name)in t.map&&((u=I[o])?u.push(i):I[o]=[i]);h[e]&&S(i),n||(l=i),!c&&y[e]&&(c=!0)}},end:function(e){var t,n,i,r,o=g?N.getElementRule(e):{};if(o){if(h[e]&&!c){if((t=l.firstChild)&&3===t.type)if(0<(n=t.value.replace(_,"")).length)t.value=n,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.next,(0===n.length||C.test(n))&&(t.remove(),t=i),t=i;if((t=l.lastChild)&&3===t.type)if(0<(n=t.value.replace(w,"")).length)t.value=n,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.prev,(0===n.length||C.test(n))&&(t.remove(),t=i),t=i}if(c&&y[e]&&(c=!1),o.removeEmpty&&Rv(N,p,y,l))return r=l.parent,h[l.name]?l.empty().remove():l.unwrap(),void(l=r);o.paddEmpty&&(function(e){return Iv(e,"#text")&&"Â "===e.firstChild.value}(l)||Rv(N,p,y,l))&&Pv(E,a,h,l),l=l.parent}}},N),T=l=new dh(a.context||E.root_name,11);if(D.parse(e,a.format),g&&f.length&&(a.context?a.invalid=!0:function(e){var t,n,i,r,o,a,s,u,c,l,f,d=Mv("tr,td,th,tbody,thead,tfoot,table"),h=N.getNonEmptyElements(),p=N.getWhiteSpaceElements(),m=N.getTextBlockElements(),g=N.getSpecialElements();for(t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(m[n.name]&&"li"===n.parent.name){for(l=n.next;l&&m[l.name];)l.name="li",l.fixed=!0,n.parent.insert(l,n.parent),l=l.next;n.unwrap(n)}else{for(r=[n],i=n.parent;i&&!N.isValidChild(i.name,n.name)&&!d[i.name];i=i.parent)r.push(i);if(i&&1<r.length){for(r.reverse(),o=a=R(r[0].clone()),c=0;c<r.length-1;c++){for(N.isValidChild(a.name,r[c].name)?(s=R(r[c].clone()),a.append(s)):s=a,u=r[c].firstChild;u&&u!==r[c+1];)f=u.next,s.append(u),u=f;a=s}Rv(N,h,p,o)?i.insert(n,r[0],!0):(i.insert(o,r[0],!0),i.insert(n,o)),i=r[0],(Rv(N,h,p,i)||Iv(i,"br"))&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((l=n.prev)&&("ul"===l.name||"ol"===l.name)){l.append(n);continue}if((l=n.next)&&("ul"===l.name||"ol"===l.name)){l.insert(n,l.firstChild,!0);continue}n.wrap(R(new dh("ul",1)));continue}N.isValidChild(n.parent.name,"div")&&N.isValidChild("div",n.name)?n.wrap(R(new dh("div",1))):g[n.name]?n.empty().remove():n.unwrap()}}}(f)),b&&("body"===T.name||a.isRootContent)&&function(){var e,t,n=T.firstChild,i=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(_,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(w,"")))};if(N.isValidChild(T.name,b.toLowerCase())){for(;n;)e=n.next,3===n.type||1===n.type&&"p"!==n.name&&!h[n.name]&&!n.attr("data-mce-type")?(t||((t=k(b,1)).attr(E.forced_root_block_attrs),T.insert(t,n)),t.append(n)):(i(t),t=null),n=e;i(t)}}(),!a.invalid){for(s in P)if(P.hasOwnProperty(s)){for(u=A[s],r=(t=P[s]).length;r--;)t[r].parent||t.splice(r,1);for(n=0,i=u.length;n<i;n++)u[n](t,s,a)}for(n=0,i=O.length;n<i;n++)if((u=O[n]).name in I){for(r=(t=I[u.name]).length;r--;)t[r].parent||t.splice(r,1);for(r=0,o=u.callbacks.length;r<o;r++)u.callbacks[r](t,u.name,a)}}return T}};return function(e,m){var g=e.schema;m.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var i,r,o,a,s,u,c,l,f=e.length,d=yt.extend({},g.getBlockElements()),h=g.getNonEmptyElements(),p=g.getWhiteSpaceElements();for(d.body=1,i=0;i<f;i++)if(o=(r=e[i]).parent,d[r.parent.name]&&r===o.lastChild){for(s=r.prev;s;){if("span"!==(u=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===u&&(r=null);break}s=s.prev}r&&(r.remove(),Rv(g,h,p,o)&&(c=g.getElementRule(o.name))&&(c.removeEmpty?o.remove():c.paddEmpty&&Pv(m,n,d,o)))}else{for(a=r;o&&o.firstChild===a&&o.lastChild===a&&!d[(a=o).name];)o=o.parent;a===o&&!0!==m.padd_empty_with_br&&((l=new dh("#text",3)).value="Â ",r.replace(l))}}),e.addAttributeFilter("href",function(e){var t,n,i=e.length;if(!m.allow_unsafe_link_target)for(;i--;){var r=e[i];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",(t=r.attr("rel"),n=t?yt.trim(t):"",/\b(noopener)\b/g.test(n)?n:n.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),m.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new dh("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),m.validate&&g.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,u=e.length,c=g.getValidClasses();u--;){for(n=(t=e[u]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=c["*"])&&a[r]&&(s=!0),a=c[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}}),Lv(e,m)}(e,E),function(e,t){t.inline_styles&&kv(e,t)}(e,E),e},zv=function(e,t,n){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(e,n)?function(e,t,n){var i,r,o=e.dom;t=t.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(i=a.createHTMLDocument(""),yt.each("BODY"===t.nodeName?t.childNodes:[t],function(e){i.body.appendChild(i.importNode(e,!0))}),t="BODY"!==t.nodeName?i.body.firstChild:i.body,r=o.doc,o.doc=i),function(e,t){e.fire("PreProcess",t)}(e,Te(Te({},n),{node:t})),r&&(o.doc=r),t}(e,t,n):t},qv=function(e,t,n){-1===yt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},Wv=function(e,t,n,i,r){return function(e,t,n){return t.no_events||!e?n:function(e,t){return e.fire("PostProcess",t)}(e,Te(Te({},t),{content:n})).content}(e,r,function(e,t,n){return Eh(e,t).serialize(n)}(t,n,i))},Uv=function(a,s){var e=["data-mce-selected"],u=s&&s.dom?s.dom:is.DOM,c=s&&s.schema?s.schema:vo(a);a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs;var l=Hv(a,c);!function(t,u,c){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),t.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r=e.length,o="data-mce-"+t,a=u.url_converter,s=u.url_converter_scope;r--;)void 0!==(i=(n=e[r]).attr(o))?(n.attr(t,0<i.length?i:null),n.attr(o,null)):(i=n.attr(t),"style"===t?i=c.serializeStyle(c.parseStyle(i),n.name):a&&(i=a.call(s,i,t,n.name)),n.attr(t,0<i.length?i:null))}),t.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attr("data-mce-type")||n.cleanup||(C.from(i.firstChild).exists(function(e){return!lr(e.value)})?i.unwrap():i.remove())}),t.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=ao.decode(t.value))}),t.addNodeFilter("script,style",function(e,t){for(var n,i,r,o=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};o--;)i=(n=e[o]).firstChild?n.firstChild.value:"","script"===t?((r=n.attr("type"))&&n.attr("type","mce-no/type"===r?null:r.replace(/^mce\-/,"")),"xhtml"===u.element_format&&0<i.length&&(n.firstChild.value="// <![CDATA[\n"+a(i)+"\n// ]]>")):"xhtml"===u.element_format&&0<i.length&&(n.firstChild.value="\x3c!--\n"+a(i)+"\n--\x3e")}),t.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],u.preserve_cdata&&0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=c.decode(t.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){$(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}(l,a,u);return{schema:c,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(e,t){void 0===t&&(t={});var n=Te({format:"html"},t),i=zv(s,e,n),r=function(e,t,n){var i=fr(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||sr(wt.fromDom(t))?i:yt.trim(i)}(u,i,n),o=function(e,t,n){var i=n.selection?Te({forced_root_block:!1},n):n,r=e.parse(t,i);return function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var i=n.prev;t(i)&&(n.remove(),i.remove())}}(r),r}(l,r,n);return"tree"===n.format?o:Wv(s,a,c,o,n)},addRules:function(e){c.addValidElements(e)},setRules:function(e){c.setValidElements(e)},addTempAttr:_(qv,l,e),getTempAttrs:y(e),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters}},Vv=function(e,t){var n=Uv(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},$v=function(e,t){return void 0===t&&(t={}),function(e,t,n){return fv(e).editor.getContent(t,n)}(e,t,t.format?t.format:"html")},Yv=function(e,t,n){return void 0===n&&(n={}),function(e,t,n){return fv(e).editor.setContent(t,n)}(e,t,n)},Qv=is.DOM,Kv=function(e){return C.from(e).each(function(e){return e.destroy()})},Xv=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&Qv.remove(r.nextSibling),function(e){e.fire("remove")}(e),e.editorManager.remove(e),!e.inline&&i&&function(e){Qv.setStyle(e.id,"display",e.orgDisplay)}(e),function(e){e.fire("detach")}(e),Qv.remove(e.getContainer()),Kv(t),Kv(n),e.destroy()}},Gv=function(e,t){var n=e.selection,i=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Kv(n),Kv(i)),function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Qv.unbind(t,"submit reset",e.formEventDelegate))}(e),function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}(e),e.destroyed=!0):e.remove())},Jv=Object.prototype.hasOwnProperty,Zv=(bv=function(e,t){return T(e)&&T(t)?Zv(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r=e[i];for(var o in r)Jv.call(r,o)&&(n[o]=bv(n[o],r[o]))}return n}),eb=ot().deviceType,tb=eb.isTouch(),nb=eb.isPhone(),ib=eb.isTablet(),rb=["lists","autolink","autosave"],ob={table_grid:!1,object_resizing:!1,resize:!1},ab=function(e){var t=E(e)?e.join(" "):e,n=H(W(t)?t.split(" "):[],Ue);return Y(n,function(e){return 0<e.length})},sb=function(n,e){var t=he(e,function(e,t){return j(n,t)});return function(e,t){return{sections:y(e),settings:y(t)}}(t.t,t.f)},ub=function(e,t){return e.sections().hasOwnProperty(t)},cb=function(e,t){return ge(e,"toolbar_mode").orThunk(function(){return ge(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},lb=function(e,t,n,i){return e&&function(e,t,n){var i=e.sections();return ub(e,t)&&i[t].theme===n}(t,"mobile","mobile")?function(e){return Y(e,_(j,rb))}(i):e&&ub(t,"mobile")?i:n},fb=function(e,t,n,i){var r=ab(n.forced_plugins),o=ab(i.plugins),a=function(e,t){return ub(e,t)?e.sections()[t]:{}}(t,"mobile"),s=a.plugins?ab(a.plugins):o,u=function(e,t){return[].concat(ab(e)).concat(ab(t))}(r,lb(e,t,o,s));if(pt.browser.isIE()&&j(u,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return yt.extend(i,{plugins:u.join(" ")})},db=function(e,t,n,i,r){var o=e?{mobile:function(e,t){var n={resize:!1,toolbar_mode:cb(e,"scrolling"),toolbar_sticky:!1};return Te(Te(Te({},ob),n),t?{menubar:!1}:{})}(r.mobile||{},t)}:{},a=sb(["mobile"],Zv(o,r)),s=yt.extend(n,i,a.settings(),function(e,t){return e&&ub(t,"mobile")}(e,a)?function(e,t,n){void 0===n&&(n={});var i=e.sections(),r=i.hasOwnProperty(t)?i[t]:{};return yt.extend({},n,r)}(a,"mobile"):{},{validate:!0,external_plugins:function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?yt.extend({},e.external_plugins,n):n}(i,a.settings())});return fb(e,a,i,s)},hb=function(e,t,n,i,r){var o=function(e,t,n,i,r){var o={id:t,theme:"silver",toolbar_mode:cb(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r};return Te(Te({},o),i?ob:{})}(r,t,n,tb,e);return db(nb||ib,nb,o,i,r)},pb=function(e,t,n){return C.from(t.settings[n]).filter(e)},mb=function(e,t,n,i){var r=t in e.settings?e.settings[t]:n;return"hash"===i?function(e){var n={};return"string"==typeof e?$(0<e.indexOf("=")?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var t=e.split("=");1<t.length?n[yt.trim(t[0])]=yt.trim(t[1]):n[yt.trim(t[0])]=yt.trim(t[0])}):n=e,n}(r):"string"===i?pb(W,e,t).getOr(n):"number"===i?pb(I,e,t).getOr(n):"boolean"===i?pb(A,e,t).getOr(n):"object"===i?pb(T,e,t).getOr(n):"array"===i?pb(E,e,t).getOr(n):"string[]"===i?pb(function(t){return function(e){return E(e)&&Z(e,t)}}(W),e,t).getOr(n):"function"===i?pb(P,e,t).getOr(n):r},gb=(yv={},{add:function(e,t){yv[e]=t},get:function(e){return yv[e]?yv[e]:{icons:{}}},has:function(e){return ve(yv,e)}}),vb=function(e,t){return t.dom[e]},bb=function(e,t){return parseInt(Yn(t,e),10)},yb=_(vb,"clientWidth"),_b=_(vb,"clientHeight"),wb=_(bb,"margin-top"),xb=_(bb,"margin-left"),Cb=function(e,t,n){var i=wt.fromDom(e.getBody()),r=e.inline?i:function(e){return wt.fromDom(Mt(e).dom.documentElement)}(i),o=function(e,t,n,i){var r=function(e){return e.dom.getBoundingClientRect()}(t);return{x:n-(e?r.left+t.dom.clientLeft+xb(t):0),y:i-(e?r.top+t.dom.clientTop+wb(t):0)}}(e.inline,r,t,n);return function(e,t,n){var i=yb(e),r=_b(e);return 0<=t&&0<=n&&t<=i&&n<=r}(r,o.x,o.y)},kb=function(e){return function(e){return C.from(e).map(wt.fromDom)}(e.inline?e.getBody():e.getContentAreaContainer()).map(cn).getOr(!1)},Sb=function(n){var t,i=[],r=function(){var e=n.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}()},o=function(){return C.from(i[0])},a=function(){0<i.length&&r().reposition(i)},s=function(t){G(i,function(e){return e===t}).each(function(e){i.splice(e,1)})},u=function(t,e){if(void 0===e&&(e=!0),!n.removed&&kb(n))return e&&n.fire("BeforeOpenNotification",{notification:t}),X(i,function(e){return function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)}(r().getArgs(e),t)}).getOrThunk(function(){n.editorManager.setActive(n);var e=r().open(t,function(){s(e),a(),o().fold(function(){return n.focus()},function(e){return function(e){return e.dom.focus()}(wt.fromDom(e.getEl()))})});return function(e){i.push(e)}(e),a(),n.fire("OpenNotification",Te({},e)),e})};return(t=n).on("SkinLoaded",function(){var e=function(e){return e.getParam("service_message")}(t);e&&u({text:e,type:"warning",timeout:0},!1)}),t.on("ResizeEditor ResizeWindow NodeChange",function(){Yi.requestAnimationFrame(a)}),t.on("remove",function(){$(i.slice(),function(e){r().close(e)})}),{open:u,close:function(){o().each(function(e){r().close(e),s(e),a()})},getNotifications:function(){return i}}},Db=hs.PluginManager,Tb=hs.ThemeManager;var Eb,Nb,Ab=function(n){var i=[],r=function(){var e=n.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}()},o=function(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?i.apply(n,e):void 0}},a=function(e){i.push(e),function(e){n.fire("OpenWindow",{dialog:e})}(e)},s=function(t){!function(e){n.fire("CloseWindow",{dialog:e})}(t),0===(i=Y(i,function(e){return e!==t})).length&&n.focus()},u=function(e){n.editorManager.setActive(n),Hd(n);var t=e();return a(t),t};return n.on("remove",function(){$(i,function(e){r().close(e)})}),{open:function(e,t){return u(function(){return r().open(e,t,s)})},openUrl:function(e){return u(function(){return r().openUrl(e,s)})},alert:function(e,t,n){var i=r();i.alert(e,o(n||i,t))},confirm:function(e,t,n){var i=r();i.confirm(e,o(n||i,t))},close:function(){C.from(i[i.length-1]).each(function(e){r().close(e),s(e)})}}},Ob=function(e,t){e.notificationManager.open({type:"error",text:t})},Pb=function(e,t){e._skinLoaded?Ob(e,t):e.on("SkinLoaded",function(){Ob(e,t)})},Ib=function(e,t,n){Lf(e,t,{message:n}),console.error(n)},Rb=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Lb=function(e,t,n){Ib(e,"PluginLoadError",Rb("plugin",t,n))},Mb=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,Ee([e],t)):i.log.apply(i,Ee([e],t)))},Bb=function(e){return jb(e,function(e){var t=e.getParam("content_css");return W(t)?H(t.split(","),Ue):E(t)?t:!1===t||e.inline?[]:["default"]}(e))},jb=function(t,e){var n=t.editorManager.baseURL+"/skins/content",i="content"+t.editorManager.suffix+".css",r=!0===t.inline;return H(e,function(e){return function(e){return/^[a-z0-9\-]+$/i.test(e)}(e)&&!r?n+"/"+e+"/"+i:t.documentBaseURI.toAbsolute(e)})},Fb=function(e){e.contentCSS=e.contentCSS.concat(Bb(e),function(e){return jb(e,Xu(e))}(e))},Hb=function(){var n={},i=function(e,t){return{status:e,resultUri:t}},t=function(e){return e in n};return{hasBlobUri:t,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(e){n[e]=i(1,null)},markUploaded:function(e,t){n[e]=i(2,t)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}},zb=0,qb=function(e){return e+zb+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()}()},Wb=function(s,a){var n={},i=function(e,t,n,i){var r=new XMLHttpRequest;r.open("POST",a.url),r.withCredentials=a.credentials,r.upload.onprogress=function(e){i(e.loaded/e.total*100)},r.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){if(r.status<200||300<=r.status)n("HTTP Error: "+r.status);else{var e=JSON.parse(r.responseText);e&&"string"==typeof e.location?t(function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}(a.basePath,e.location)):n("Invalid JSON: "+r.responseText)}};var o=new FormData;o.append("file",e.blob(),e.filename()),r.send(o)},u=function(e,t){return{url:t,blobInfo:e,status:!0}},c=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},l=function(e,t){yt.each(n[e],function(e){e(t)}),delete n[e]},r=function(e,t){return e=yt.grep(e,function(e){return!s.isUploaded(e.blobUri())}),Wi.all(yt.map(e,function(e){return s.isPending(e.blobUri())?function(e){var t=e.blobUri();return new Wi(function(e){n[t]=n[t]||[],n[t].push(e)})}(e):function(o,e,a){return s.markPending(o.blobUri()),new Wi(function(i){var n;try{var r=function(){n&&n.close()};e(o,function(e){r(),s.markUploaded(o.blobUri(),e),l(o.blobUri(),u(o,e)),i(u(o,e))},function(e,t){var n=t||{};r(),s.removeFailed(o.blobUri()),l(o.blobUri(),c(o,e,n)),i(c(o,e,n))},function(t){t<0||100<t||C.from(n).orThunk(function(){return C.from(a).map(p)}).each(function(e){(n=e).progressBar.value(t)})})}catch(e){i(c(o,e.message,{}))}})}(e,a.handler,t)}))};return!1===P(a.handler)&&(a.handler=i),{upload:function(e,t){return!a.url&&function(e){return e===i}(a.handler)?new Wi(function(e){e([])}):r(e,t)}}},Ub=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Vb=function(e,t){return Wb(t,{url:function(e){return e.getParam("images_upload_url","","string")}(e),basePath:function(e){return e.getParam("images_upload_base_path","","string")}(e),credentials:function(e){return e.getParam("images_upload_credentials",!1,"boolean")}(e),handler:function(e){return e.getParam("images_upload_handler",null,"function")}(e)})},$b=function(a){var t,e,s=function(){var n=[],o=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t=e.id||qb("blobid"),n=e.name||t,i=e.blob;return{id:y(t),name:y(n),filename:y(e.filename||n+"."+function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"}(i.type)),blob:y(i),base64:y(e.base64),blobUri:y(e.blobUri||URL.createObjectURL(i)),uri:y(e.uri)}},e=function(e){return X(n,e).getOrUndefined()},t=function(t){return e(function(e){return e.id()===t})};return{create:function(e,t,n,i,r){if(W(e))return o({id:e,name:i,filename:r,blob:t,base64:n});if(T(e))return o(e);throw new Error("Unknown input type")},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()===t})},getByData:function(t,n){return e(function(e){return e.base64()===t&&e.blob().type===n})},findFirst:e,removeByUri:function(t){n=Y(n,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){$(n,function(e){URL.revokeObjectURL(e.blobUri())}),n=[]}}}(),r=Hb(),n=[],i=function(n){var i=us(null);n.on("change AddUndo",function(e){i.set(Te({},e.level))});return{fireIfChanged:function(){var t=n.undoManager.data;re(t).filter(function(e){return!rv(i.get(),e)}).each(function(e){n.setDirty(!0),n.fire("change",{level:e,lastLevel:ne(t,t.length-2).getOrNull()})})}}}(a),u=function(t){return function(e){return a.selection?t(e):[]}},o=function(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e},c=function(e,t,n){var i='src="'+n+'"'+(n===pt.transparentSrc?' data-mce-placeholder="1"':"");return e=o(e,'src="'+t+'"',i),e=o(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){$(a.undoManager.data,function(e){"fragmented"===e.type?e.fragments=H(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},f=function(e,t){var n=a.convertURL(t,"src");l(e.src,t),a.$(e).attr({src:function(e){return e.getParam("images_reuse_filename",!1,"boolean")}(a)?function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()}(t):t,"data-mce-src":n})},d=function(n){return t||(t=Vb(a,r)),m().then(u(function(o){var e=H(o,function(e){return e.blobInfo});return t.upload(e,Ub(a)).then(u(function(e){var r=[],t=H(e,function(e,t){var n=o[t].blobInfo,i=o[t].image;return e.status&&function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")}(a)?(s.removeByUri(i.src),f(i,e.url)):e.error&&(e.error.options.remove&&(l(i.getAttribute("src"),pt.transparentSrc),r.push(i)),function(e,t){Pb(e,ds.translate(["Failed to upload image: {0}",t]))}(a,e.error.message)),{element:i,status:e.status,uploadUri:e.url,blobInfo:n}});return 0<t.length&&i.fireIfChanged(),0<r.length&&(cv(a)?console.error("Removing images on failed uploads is currently unsupported for RTC"):a.undoManager.transact(function(){$(r,function(e){a.dom.remove(e),s.removeByUri(e.src)})})),n&&n(t),t}))}))},h=function(e){if(Vu(a))return d(e)},p=function(t){return!1!==Z(n,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||function(e){return e.getParam("images_dataimg_filter",v,"function")}(a)(t))},m=function(){return e||(e=Ov(r,s)),e.findAll(a.getBody(),p).then(u(function(e){return e=Y(e,function(e){return"string"!=typeof e||(Pb(a,e),!1)}),$(e,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))},g=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=r.getResultUri(n);if(t)return'src="'+t+'"';var i=s.getByUri(n);return i||(i=K(a.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':e})};return a.on("SetContent",function(){Vu(a)?h():m()}),a.on("RawSaveContent",function(e){e.content=g(e.content)}),a.on("GetContent",function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(e){$(e,function(e){var t=e.attr("src");if(!s.getByUri(t)){var n=r.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:s,addFilter:function(e){n.push(e)},uploadImages:d,uploadImagesAuto:h,scanForImages:m,destroy:function(){s.destroy(),r.destroy(),e=t=null}}},Yb=function(e){var n={},i=function(e,t){e&&("string"!=typeof e?yt.each(e,function(e,t){i(t,e)}):(E(t)||(t=[t]),yt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))};return i(function(i){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return wn(e)&&e.hasAttribute("href")},onformat:function(n,e,t){yt.each(t,function(e,t){i.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return yt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}(e.dom)),i(function(e){return e.getParam("formats")}(e)),{get:function(e){return e?n[e]:n},has:function(e){return ve(n,e)},register:i,unregister:function(e){return e&&n[e]&&delete n[e],n}}},Qb=yt.each,Kb=is.DOM,Xb=function(e,t){var n,i,r,u=t&&t.schema||vo({}),c=function(e){i="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=Kb.create(i.name);return function(e,t){t.classes.length&&Kb.addClass(e,t.classes.join(" ")),Kb.setAttribs(e,t.attrs)}(t,i),t},l=function(n,e,t){var i,r,o=0<e.length&&e[0],a=o&&o.name,s=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,i=u.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(t&&-1!==yt.inArray(r,t)?t:r[0])}(n,a);if(s)a===s?(r=e[0],e=e.slice(1)):r=s;else if(o)r=e[0],e=e.slice(1);else if(!t)return n;return r&&(i=c(r)).appendChild(n),t&&(i||(i=Kb.create("div")).appendChild(n),yt.each(t,function(e){var t=c(e);i.insertBefore(t,n)})),l(i,e,r&&r.siblings)};return e&&e.length?(i=e[0],n=c(i),(r=Kb.create("div")).appendChild(l(n,e.slice(1),i.siblings)),r):""},Gb=function(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=yt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,i,r){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==yt.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["===i){var o=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);o&&(a.attrs[o[1]]=o[2])}return""})),a.name=t||"div",a},Jb=function(n,e){var t,i,r,o="",a=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return W(t)?t:""}(n);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}if("preview"in e){var u=ge(e,"preview");if(u.is(!1))return"";a=u.getOr(a)}t=e.block||e.inline||"span";var c=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=yt.map(e.split(/(?:~\+|~|\+)/),Gb),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]}(e.selector);i=c.length?(c[0].name||(c[0].name=t),t=e.selector,Xb(c,n)):Xb([t],n);var l=Kb.select(t,i)[0]||i.firstChild;return Qb(e.styles,function(e,t){var n=s(e);n&&Kb.setStyle(l,t,n)}),Qb(e.attributes,function(e,t){var n=s(e);n&&Kb.setAttrib(l,t,n)}),Qb(e.classes,function(e){var t=s(e);Kb.hasClass(l,t)||Kb.addClass(l,t)}),n.fire("PreviewFormats"),Kb.setStyles(i,{position:"absolute",left:-65535}),n.getBody().appendChild(i),r=Kb.getStyle(n.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,Qb(a.split(" "),function(e){var t=Kb.getStyle(l,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=Kb.getStyle(n.getBody(),e,!0),"#ffffff"===Kb.toHex(t).toLowerCase())||"color"===e&&"#000000"===Kb.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===r)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*r+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),Kb.remove(i),o},Zb=function(r){var e=Yb(r),i=us(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(r),Xm(r),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,t,n){!function(e,t,n,i){dv(e).formatter.apply(t,n,i)}(r,e,t,n)},remove:function(e,t,n,i){!function(e,t,n,i,r){dv(e).formatter.remove(t,n,i,r)}(r,e,t,n,i)},toggle:function(e,t,n){!function(e,t,n,i){dv(e).formatter.toggle(t,n,i)}(r,e,t,n)},match:function(e,t,n){return function(e,t,n,i){return dv(e).formatter.match(t,n,i)}(r,e,t,n)},closest:function(e){return function(e,t){return dv(e).formatter.closest(t)}(r,e)},matchAll:function(e,t){return function(e,t,n){return dv(e).formatter.matchAll(t,n)}(r,e,t)},matchNode:function(e,t,n,i){return function(e,t,n,i,r){return dv(e).formatter.matchNode(t,n,i,r)}(r,e,t,n,i)},canApply:function(e){return function(e,t){return dv(e).formatter.canApply(t)}(r,e)},formatChanged:function(e,t,n){return function(e,t,n,i,r){return void 0===r&&(r=!1),dv(e).formatter.formatChanged(t,n,i,r)}(r,i,e,t,n)},getCssText:_(Jb,r)}},ey=function(n){var i=us(C.none()),r=us(0),o=us(0),a={data:[],typing:!1,beforeChange:function(){!function(e,t,n){dv(e).undoManager.beforeChange(t,n)}(n,r,i)},add:function(e,t){return function(e,t,n,i,r,o,a){return dv(e).undoManager.addUndoLevel(t,n,i,r,o,a)}(n,a,o,r,i,e,t)},undo:function(){return function(e,t,n,i){return dv(e).undoManager.undo(t,n,i)}(n,a,r,o)},redo:function(){return function(e,t,n){return dv(e).undoManager.redo(t,n)}(n,o,a.data)},clear:function(){!function(e,t,n){dv(e).undoManager.clear(t,n)}(n,a,o)},reset:function(){!function(e,t){dv(e).undoManager.reset(t)}(n,a)},hasUndo:function(){return function(e,t,n){return dv(e).undoManager.hasUndo(t,n)}(n,a,o)},hasRedo:function(){return function(e,t,n){return dv(e).undoManager.hasRedo(t,n)}(n,a,o)},transact:function(e){return function(e,t,n,i){return dv(e).undoManager.transact(t,n,i)}(n,a,r,e)},ignore:function(e){!function(e,t,n){dv(e).undoManager.ignore(t,n)}(n,r,e)},extra:function(e,t){!function(e,t,n,i,r){dv(e).undoManager.extra(t,n,i,r)}(n,a,o,e,t)}};return cv(n)||function(n,i,r){var o=us(!1),a=function(e){av(i,!1,r),i.add({},e)};n.on("init",function(){i.add()}),n.on("BeforeExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&(sv(i,r),i.beforeChange())}),n.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&a(e)}),n.on("ObjectResizeStart cut",function(){i.beforeChange()}),n.on("SaveContent ObjectResized blur",a),n.on("dragend",a),n.on("keyup",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),n.nodeChanged()),46!==t&&8!==t||n.nodeChanged(),o.get()&&i.typing&&!1===rv(ev(n),i.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:i.data[0],lastLevel:null})),n.fire("TypingUndo"),o.set(!1),n.nodeChanged()))}),n.on("keydown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)i.typing&&a(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||i.typing||n||(i.beforeChange(),av(i,!0,r),i.add({},e),o.set(!0))}}),n.on("mousedown",function(e){i.typing&&a(e)});n.on("input",function(e){e.inputType&&(function(e){return"insertReplacementText"===e.inputType}(e)||function(e){return"insertText"===e.inputType&&null===e.data}(e)||function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}(e))&&a(e)}),n.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||n.nodeChanged()})}(n,a,r),function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")}(n),a},ty=[9,27,Mf.HOME,Mf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Mf.DOWN,Mf.UP,Mf.LEFT,Mf.RIGHT].concat(pt.browser.isFirefox()?[224]:[]),ny="data-mce-placeholder",iy=function(e){return"keydown"===e.type||"keyup"===e.type},ry=function(e){var t=e.keyCode;return t===Mf.BACKSPACE||t===Mf.DELETE},oy=function(r){var o=r.dom,a=Wu(r),s=function(e){return e.getParam("placeholder",Hu.getAttrib(e.getElement(),"placeholder"),"string")}(r),u=function(e,t){if(!function(e){if(iy(e)){var t=e.keyCode;return!ry(e)&&(Mf.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||j(ty,t))}return!1}(e)){var n=r.getBody(),i=!function(e){return iy(e)&&!(ry(e)||"keyup"===e.type&&229===e.keyCode)}(e)&&function(e,t,n){if(qr(wt.fromDom(t),!1)){var i=""===n,r=t.firstElementChild;return!r||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(i?!e.isBlock(r):n===r.nodeName.toLowerCase())}return!1}(o,n,a);(""!==o.getAttrib(n,ny)!==i||t)&&(o.setAttrib(n,ny,i?s:null),o.setAttrib(n,"aria-placeholder",i?s:null),function(e,t){e.fire("PlaceholderToggle",{state:t})}(r,i),r.on(i?"keydown":"keyup",u),r.off(i?"keyup":"keydown",u))}};s&&r.on("init",function(e){u(e,!0),r.on("change SetContent ExecCommand",u),r.on("paste",function(e){return Yi.setEditorTimeout(r,function(){return u(e)})})})},ay=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,sy=function(e,t){return Ct(wt.fromDom(t),function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(e))},uy=function(e){return"rtl"===is.DOM.getStyle(e,"direction",!0)||function(e){return ay.test(e)}(e.textContent)},cy=function(e,t,n){var i=function(e,t,n){return Y(is.DOM.getParents(n.container(),"*",t),e)}(e,t,n);return C.from(i[i.length-1])},ly=function(e,t){if(!t)return t;var n=t.container(),i=t.offset();return e?mr(n)?Nn(n.nextSibling)?mu(n.nextSibling,0):mu.after(n):br(t)?mu(n,i+1):t:mr(n)?Nn(n.previousSibling)?mu(n.previousSibling,n.previousSibling.data.length):mu.before(n):yr(t)?mu(n,i-1):t},fy=_(ly,!0),dy=_(ly,!1),hy=function(e,t){return Tt(e,t)?ji(t,function(e){return nr(e)||rr(e)},function(t){return function(e){return St(t,wt.fromDom(e.dom.parentNode))}}(e)):C.none()},py=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},my=function(e,t){return{from:e,to:t}},gy=function(e,t){var n=wt.fromDom(e),i=wt.fromDom(t.container());return hy(n,i).map(function(e){return function(e,t){return{block:e,position:t}}(e,t)})},vy=function(t,n,e){var i=gy(t,mu.fromRangeStart(e)),r=i.bind(function(e){return ll(n,t,e.position).bind(function(e){return gy(t,e).map(function(e){return function(t,n,i){return In(i.position.getNode())&&!1===qr(i.block)?hl(!1,i.block.dom).bind(function(e){return e.isEqual(i.position)?ll(n,t,e).bind(function(e){return gy(t,e)}):C.some(i)}).getOr(i):i}(t,n,e)})})});return Hs(i,r,my).filter(function(e){return function(e){return!1===St(e.from.block,e.to.block)}(e)&&function(e){return jt(e.from.block).bind(function(t){return jt(e.to.block).filter(function(e){return St(t,e)})}).isSome()}(e)&&function(e){return!1===Mn(e.from.block.dom)&&!1===Mn(e.to.block.dom)}(e)})},by=function(e){var t=function(e){var t=Wt(e);return G(t,Zi).fold(function(){return t},function(e){return t.slice(0,e)})}(e);return $(t,sn),t},yy=function(e,t){var n=Kh(t,e);return X(n.reverse(),function(e){return qr(e)}).each(sn)},_y=function(e,t,n,i){if(qr(n))return Vh(n),gl(n.dom);(function(e){return 0===Y(zt(e),function(e){return!qr(e)}).length})(i)&&qr(t)&&en(i,wt.fromTag("br"));var r=ml(n.dom,mu.before(i.dom));return $(by(t),function(e){en(i,e)}),yy(e,t),r},wy=function(e,t,n){if(qr(n))return sn(n),qr(t)&&Vh(t),gl(t.dom);var i=vl(n.dom);return $(by(t),function(e){rn(n,e)}),yy(e,t),i},xy=function(e,t){return Tt(t,e)?function(e,t){var n=Kh(t,e);return C.from(n[n.length-1])}(t,e):C.none()},Cy=function(e,t){hl(e,t.dom).map(function(e){return e.getNode()}).map(wt.fromDom).filter(tr).each(sn)},ky=function(e,t,n){return Cy(!0,t),Cy(!1,n),xy(t,n).fold(_(wy,e,t,n),_(_y,e,t,n))},Sy=function(e,t,n,i){return t?ky(e,i,n):ky(e,n,i)},Dy=function(t,n){var i=wt.fromDom(t.getBody()),e=function(e,t,n){return n.collapsed?vy(e,t,n):C.none()}(i.dom,n,t.selection.getRng()).bind(function(e){return Sy(i,n,e.from.block,e.to.block)});return e.each(function(e){t.selection.setRng(e.toRange())}),e.isSome()},Ty=function(e,t){var n=wt.fromDom(t),i=_(St,e);return Bi(n,ar,i).isSome()},Ey=function(e,t){var n=ml(e.dom,mu.fromRangeStart(t)).isNone(),i=pl(e.dom,mu.fromRangeEnd(t)).isNone();return!function(e,t){return Ty(e,t.startContainer)||Ty(e,t.endContainer)}(e,t)&&n&&i},Ny=function(e){var t=wt.fromDom(e.getBody()),n=e.selection.getRng();return Ey(t,n)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(n,i){var r=i.getRng();return Hs(hy(n,wt.fromDom(r.startContainer)),hy(n,wt.fromDom(r.endContainer)),function(e,t){return!1===St(e,t)&&(r.deleteContents(),Sy(n,!0,e,t).each(function(e){i.setRng(e.toRange())}),!0)}).getOr(!1)}(t,e.selection)},Ay=function(e,t){return!e.selection.isCollapsed()&&Ny(e)},Oy=Ln,Py=Mn,Iy=function(e,t,n,i,r){return C.from(t._selectionOverrides.showCaret(e,n,i,r))},Ry=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?C.none():C.some(function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t))},Ly=function(e,t,n){var i=Fc(1,e.getBody(),t),r=mu.fromRangeStart(i),o=r.getNode();if(yc(o))return Iy(1,e,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(yc(a))return Iy(1,e,a,!1,!1);var s=e.dom.getParent(r.getNode(),function(e){return Py(e)||Oy(e)});return yc(s)?Iy(1,e,s,!1,n):C.none()},My=function(e,t,n){return t.collapsed?Ly(e,t,n).getOr(t):t},By=function(e){return qh(e)||jh(e)},jy=function(e){return Wh(e)||Fh(e)},Fy=function(n,i,e,t,r,o){return Iy(t,n,o.getNode(!r),r,!0).each(function(e){if(i.collapsed){var t=i.cloneRange();r?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t.deleteContents()}else i.deleteContents();n.selection.setRng(e)}),function(e,t){Nn(t)&&0===t.data.length&&e.remove(t)}(n.dom,e),!0},Hy=function(e,t){return function(e,t){var n=e.selection.getRng();if(!Nn(n.commonAncestorContainer))return!1;var i=t?gu.Forwards:gu.Backwards,r=ol(e.getBody()),o=_(Wc,t?r.next:r.prev),a=t?By:jy,s=zc(i,e.getBody(),n),u=ly(t,o(s));if(!u||!Uc(s,u))return!1;if(a(u))return Fy(e,n,s.getNode(),i,t,u);var c=o(u);return!!(c&&a(c)&&Uc(u,c))&&Fy(e,n,s.getNode(),i,t,c)}(e,t)},zy=hi([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),qy=function(e,t,n,i){var r=i.getNode(!1===t);return hy(wt.fromDom(e),wt.fromDom(n.getNode())).map(function(e){return qr(e)?zy.remove(e.dom):zy.moveToElement(r)}).orThunk(function(){return C.some(zy.moveToElement(r))})},Wy=function(t,n,i){return ll(n,t,i).bind(function(e){return function(e){return ar(wt.fromDom(e))||rr(wt.fromDom(e))}(e.getNode())?C.none():function(t,e,n,i){var r=function(e){return er(wt.fromDom(e))&&!Ic(n,i,t)};return Hc(!e,n).fold(function(){return Hc(e,i).fold(g,r)},r)}(t,n,i,e)?C.none():n&&Mn(e.getNode())?qy(t,n,i,e):!1===n&&Mn(e.getNode(!0))?qy(t,n,i,e):n&&Wh(i)?C.some(zy.moveToPosition(e)):!1===n&&qh(i)?C.some(zy.moveToPosition(e)):C.none()})},Uy=function(t,e,n){return function(e,t){var n=t.getNode(!1===e),i=e?"after":"before";return wn(n)&&n.getAttribute("data-mce-caret")===i}(e,n)?function(e,t){return e&&Mn(t.nextSibling)?C.some(zy.moveToElement(t.nextSibling)):!1===e&&Mn(t.previousSibling)?C.some(zy.moveToElement(t.previousSibling)):C.none()}(e,n.getNode(!1===e)).fold(function(){return Wy(t,e,n)},C.some):Wy(t,e,n).bind(function(e){return function(t,n,e){return e.fold(function(e){return C.some(zy.remove(e))},function(e){return C.some(zy.moveToElement(e))},function(e){return Ic(n,e,t)?C.none():C.some(zy.moveToPosition(e))})}(t,n,e)})},Vy=function(e,t){return C.from(If(e.getBody(),t))},$y=function(t,n){var e=t.selection.getNode();return Vy(t,e).filter(Mn).fold(function(){return function(e,t,n){var i=Fc(t?1:-1,e,n),r=mu.fromRangeStart(i),o=wt.fromDom(e);return!1===t&&Wh(r)?C.some(zy.remove(r.getNode(!0))):t&&qh(r)?C.some(zy.remove(r.getNode())):!1===t&&qh(r)&&sp(o,r)?up(o,r).map(function(e){return zy.remove(e.getNode())}):t&&Wh(r)&&ap(o,r)?cp(o,r).map(function(e){return zy.remove(e.getNode())}):Uy(e,t,r)}(t.getBody(),n,t.selection.getRng()).exists(function(e){return e.fold(function(t,n){return function(e){return t._selectionOverrides.hideFakeCaret(),jp(t,n,wt.fromDom(e)),!0}}(t,n),function(n,i){return function(e){var t=i?mu.before(e):mu.after(e);return n.selection.setRng(t.toRange()),!0}}(t,n),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})},v)},Yy=function(e,t){var n=e.selection.getNode();return!!Mn(n)&&Vy(e,n.parentNode).filter(Mn).fold(function(){return function(e){$(ks(e,".mce-offscreen-selection"),sn)}(wt.fromDom(e.getBody())),jp(e,t,wt.fromDom(e.selection.getNode())),py(e),!0},v)},Qy=function(e){var t=e.dom,n=e.selection,i=If(e.getBody(),n.getNode());if(Ln(i)&&t.isBlock(i)&&t.isEmpty(i)){var r=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(r),n.setRng(mu.before(r).toRange())}return!0},Ky=function(e,t){return e.selection.isCollapsed()?$y(e,t):Yy(e,t)},Xy=function(e,t){return!!e.selection.isCollapsed()&&function(t,n){var e=mu.fromRangeStart(t.selection.getRng());return ll(n,t.getBody(),e).filter(function(e){return n?Mh(e):Bh(e)}).bind(function(e){return C.from(Rc(n?0:-1,e))}).exists(function(e){return t.selection.select(e),!0})}(e,t)},Gy=Nn,Jy=function(e){return Gy(e)&&e.data[0]===cr},Zy=function(e){return Gy(e)&&e.data[e.data.length-1]===cr},e_=function(e){return e.ownerDocument.createTextNode(cr)},t_=function(e,t){return e?function(e){if(Gy(e.previousSibling))return Zy(e.previousSibling)||e.previousSibling.appendData(cr),e.previousSibling;if(Gy(e))return Jy(e)||e.insertData(0,cr),e;var t=e_(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(Gy(e.nextSibling))return Jy(e.nextSibling)||e.nextSibling.insertData(0,cr),e.nextSibling;if(Gy(e))return Zy(e)||e.appendData(cr),e;var t=e_(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},n_=_(t_,!0),i_=_(t_,!1),r_=function(e,t){return Nn(e.container())?t_(t,e.container()):t_(t,e.getNode())},o_=function(e,t){var n=t.get();return n&&e.container()===n&&mr(n)},a_=function(n,e){return e.fold(function(e){fc(n.get());var t=n_(e);return n.set(t),C.some(mu(t,t.length-1))},function(e){return gl(e).map(function(e){if(o_(e,n))return mu(n.get(),1);fc(n.get());var t=r_(e,!0);return n.set(t),mu(t,1)})},function(e){return vl(e).map(function(e){if(o_(e,n))return mu(n.get(),n.get().length-1);fc(n.get());var t=r_(e,!1);return n.set(t),mu(t,t.length-1)})},function(e){fc(n.get());var t=i_(e);return n.set(t),C.some(mu(t,1))})},s_=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return C.none()},u_=hi([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),c_=function(e,t){var n=Pc(t,e);return n||e},l_=function(e,t,n){var i=fy(n),r=c_(t,i.container());return cy(e,r,i).fold(function(){return pl(r,i).bind(_(cy,e,r)).map(function(e){return u_.before(e)})},C.none)},f_=function(e,t){return null===_l(e,t)},d_=function(e,t,n){return cy(e,t,n).filter(_(f_,t))},h_=function(e,t,n){var i=dy(n);return d_(e,t,i).bind(function(e){return ml(e,i).isNone()?C.some(u_.start(e)):C.none()})},p_=function(e,t,n){var i=fy(n);return d_(e,t,i).bind(function(e){return pl(e,i).isNone()?C.some(u_.end(e)):C.none()})},m_=function(e,t,n){var i=dy(n),r=c_(t,i.container());return cy(e,r,i).fold(function(){return ml(r,i).bind(_(cy,e,r)).map(function(e){return u_.after(e)})},C.none)},g_=function(e){return!1===uy(b_(e))},v_=function(e,t,n){return s_([l_,h_,p_,m_],[e,t,n]).filter(g_)},b_=function(e){return e.fold(t,t,t,t)},y_=function(e){return e.fold(y("before"),y("start"),y("end"),y("after"))},__=function(e){return e.fold(u_.before,u_.before,u_.after,u_.after)},w_=function(e){return e.fold(u_.start,u_.start,u_.end,u_.end)},x_=function(n,e,i,t,r,o){return Hs(cy(e,i,t),cy(e,i,r),function(e,t){return e!==t&&function(e,t,n){var i=Pc(t,e),r=Pc(n,e);return i&&i===r}(i,e,t)?u_.after(n?e:t):o}).getOr(o)},C_=function(e,t){return e.fold(v,function(e){return!function(e,t){return y_(e)===y_(t)&&b_(e)===b_(t)}(e,t)})},k_=function(e,t){return e?t.fold(l(C.some,u_.start),C.none,l(C.some,u_.after),C.none):t.fold(C.none,l(C.some,u_.before),C.none,l(C.some,u_.end))},S_=function(e,t,n,i){var r=ly(e,i),o=v_(t,n,r);return v_(t,n,r).bind(_(k_,e)).orThunk(function(){return function(t,n,i,r,e){var o=ly(t,e);return ll(t,i,o).map(_(ly,t)).fold(function(){return r.map(__)},function(e){return v_(n,i,e).map(_(x_,t,n,i,o,e)).filter(_(C_,r))}).filter(g_)}(e,t,n,o,i)})},D_=(_(S_,!1),_(S_,!0),function(e,t,n){var i=e?1:-1;return t.setRng(mu(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}),T_=function(e,t){var n=t.selection.getRng(),i=e?mu.fromRangeEnd(n):mu.fromRangeStart(n);return!!function(e){return P(e.selection.getSel().modify)}(t)&&(e&&br(i)?D_(!0,t.selection,i):!(e||!yr(i))&&D_(!1,t.selection,i))},E_=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},N_=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},A_=function(t,e,n){return a_(e,n).map(function(e){return E_(t,e),n})},O_=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=mu.fromRangeStart(e.selection.getRng());mu.isTextPosition(n)&&!1===function(e){return br(e)||yr(e)}(n)&&(E_(e,lc(t.get(),n)),t.set(null))}},P_=function(e,t,n){return!!ec(e)&&function(t,n,e){var i=t.getBody(),r=mu.fromRangeStart(t.selection.getRng()),o=_(sy,t);return S_(e,o,i,r).bind(function(e){return A_(t,n,e)})}(e,t,n).isSome()},I_=function(e,t,n){return!!ec(t)&&T_(e,t)},R_=function(t){var n=us(null),i=_(sy,t);return t.on("NodeChange",function(e){!ec(t)||pt.browser.isIE()&&e.initial||(function(e,t,n){var i=H(ks(wt.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom}),r=Y(i,e),o=Y(n,e);$(te(r,o),_(N_,!1)),$(te(o,r),_(N_,!0))}(i,t.dom,e.parents),O_(t,n),function(n,i,r,e){if(i.selection.isCollapsed()){var t=Y(e,n);$(t,function(e){var t=mu.fromRangeStart(i.selection.getRng());v_(n,i.getBody(),t).bind(function(e){return A_(i,r,e)})})}}(i,t,n,e.parents))}),n},L_=_(I_,!0),M_=_(I_,!1),B_=function(t,n){return function(e){return a_(n,e).exists(function(e){return E_(t,e),!0})}},j_=function(e,t,n,i){var r=e.getBody(),o=_(sy,e);e.undoManager.ignore(function(){e.selection.setRng(function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(n,i)),e.execCommand("Delete"),v_(o,r,mu.fromRangeStart(e.selection.getRng())).map(w_).map(B_(e,t))}),e.nodeChanged()},F_=function(n,i,r,o){var a=function(e,t){var n=Pc(t,e);return n||e}(n.getBody(),o.container()),s=_(sy,n),u=v_(s,a,o);return u.bind(function(e){return r?e.fold(y(C.some(w_(e))),C.none,y(C.some(__(e))),C.none):e.fold(C.none,y(C.some(__(e))),C.none,y(C.some(w_(e))))}).map(B_(n,i)).getOrThunk(function(){var t=fl(r,a,o),e=t.bind(function(e){return v_(s,a,e)});return Hs(u,e,function(){return cy(s,a,o).exists(function(e){return!!function(r){return Hs(gl(r),vl(r),function(e,t){var n=ly(!0,e),i=ly(!1,t);return pl(r,n).forall(function(e){return e.isEqual(i)})}).getOr(!0)}(e)&&(jp(n,r,wt.fromDom(e)),!0)})}).orThunk(function(){return e.bind(function(e){return t.map(function(e){return r?j_(n,i,o,e):j_(n,i,e,o),!0})})}).getOr(!1)})},H_=function(e,t,n){if(e.selection.isCollapsed()&&ec(e)){var i=mu.fromRangeStart(e.selection.getRng());return F_(e,t,n,i)}return!1},z_=function(e){return 1===Wt(e).length},q_=function(e,t,n,i){var r=_(Gm,t),o=H(Y(i,r),function(e){return e.dom});if(0===o.length)jp(t,e,n);else{var a=function(e,t){var n=Um(!1),i=Qm(t,n.dom);return en(wt.fromDom(e),n),sn(wt.fromDom(e)),mu(i,0)}(n.dom,o);t.selection.setRng(a.toRange())}},W_=function(n,i){var e=wt.fromDom(n.getBody()),t=wt.fromDom(n.selection.getStart()),r=Y(function(e,t){var n=Kh(t,e);return G(n,Zi).fold(y(n),function(e){return n.slice(0,e)})}(e,t),z_);return re(r).exists(function(e){var t=mu.fromRangeStart(n.selection.getRng());return!(!function(o,a,s){return Hs(gl(s),vl(s),function(e,t){var n=ly(!0,e),i=ly(!1,t),r=ly(!1,a);return o?pl(s,r).exists(function(e){return e.isEqual(i)&&a.isEqual(n)}):ml(s,r).exists(function(e){return e.isEqual(n)&&a.isEqual(i)})}).getOr(!0)}(i,t,e.dom)||function(e){return yl(e.dom)&&qm(e.dom)}(e))&&(q_(i,n,e,r),!0)})},U_=function(e,t){return!!e.selection.isCollapsed()&&W_(e,t)},V_=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),jp(e,t,wt.fromDom(n)),!0},$_=function(e,t){return e.selection.isCollapsed()?function(t,n){var i=n?jh:Fh,e=n?gu.Forwards:gu.Backwards,r=zc(e,t.getBody(),t.selection.getRng());return i(r)?V_(t,n,r.getNode(!n)):C.from(ly(n,r)).filter(function(e){return i(e)&&Uc(r,e)}).exists(function(e){return V_(t,n,e.getNode(!n))})}(e,t):function(e,t){var n=e.selection.getNode();return!!jn(n)&&V_(e,t,n)}(e,t)},Y_=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Q_=function(e,t){return(e||function(e){return"table"===Et(e)}(t)?"margin":"padding")+("rtl"===Yn(t,"direction")?"-right":"-left")},K_=function(e){var t=G_(e);return!e.mode.isReadOnly()&&(1<t.length||function(i,e){return Z(e,function(e){var t=Q_(Ku(i),e),n=Kn(e,t).map(Y_).getOr(0);return"false"!==i.dom.getContentEditable(e.dom)&&0<n})}(e,t))},X_=function(e){return ir(e)||rr(e)},G_=function(e){return Y(H(e.selection.getSelectedBlocks(),wt.fromDom),function(e){return!X_(e)&&!function(e){return jt(e).map(X_).getOr(!1)}(e)&&function(e){return ji(e,function(e){return Ln(e.dom)||Mn(e.dom)}).exists(function(e){return Ln(e.dom)})}(e)})},J_=function(e,t){var n=e.dom,i=e.selection,r=e.formatter,o=function(e){return e.getParam("indentation","40px","string")}(e),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),u=Ku(e),c=Wu(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(i.getNode(),n.isBlock)||r.apply("div"),$(G_(e),function(e){!function(e,t,n,i,r,o){var a=Q_(n,wt.fromDom(o));if("outdent"===t){var s=Math.max(0,Y_(o.style[a])-i);e.setStyle(o,a,s?s+r:"")}else s=Y_(o.style[a])+i+r,e.setStyle(o,a,s)}(n,t,u,s,a,e.dom)})},Z_=function(e,t){if(e.selection.isCollapsed()&&K_(e)){var n=e.dom,i=e.selection.getRng(),r=mu.fromRangeStart(i),o=n.getParent(i.startContainer,n.isBlock);if(null!==o&&ep(wt.fromDom(o),r))return J_(e,"outdent"),!0}return!1},ew=function(e,t){e.getDoc().execCommand(t,!1,null)},tw=function(e,t){e.addCommand("delete",function(){!function(e,t){Z_(e)||Ky(e,!1)||Hy(e,!1)||H_(e,t,!1)||Dy(e,!1)||fm(e)||Xy(e,!1)||$_(e,!1)||Ay(e)||U_(e,!1)||(ew(e,"Delete"),py(e))}(e,t)}),e.addCommand("forwardDelete",function(){!function(e,t){Ky(e,!0)||Hy(e,!0)||H_(e,t,!0)||Dy(e,!0)||fm(e)||Xy(e,!0)||$_(e,!0)||Ay(e)||U_(e,!0)||ew(e,"ForwardDelete")}(e,t)})},nw=function(e){return void 0===e.touches||1!==e.touches.length?C.none():C.some(e.touches[0])},iw=function(n){var i=us(C.none()),r=us(!1),o=ms(function(e){n.fire("longpress",Te(Te({},e),{type:"longpress"})),r.set(!0)},400);n.on("touchstart",function(n){nw(n).each(function(e){o.cancel();var t={x:e.clientX,y:e.clientY,target:n.target};o.throttle(n),r.set(!1),i.set(C.some(t))})},!0),n.on("touchmove",function(e){o.cancel(),nw(e).each(function(t){i.get().each(function(e){(function(e,t){var n=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return 5<n||5<i})(t,e)&&(i.set(C.none()),r.set(!1),n.fire("longpresscancel"))})})},!0),n.on("touchend touchcancel",function(t){o.cancel(),"touchcancel"!==t.type&&i.get().filter(function(e){return e.target.isEqualNode(t.target)}).each(function(){r.get()?t.preventDefault():n.fire("tap",Te(Te({},t),{type:"tap"}))})},!0)},rw=function(e,t){return e.hasOwnProperty(t.nodeName)},ow=function(e,t){if(Nn(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||rw(e,t.nextSibling)))return!0}return!1},aw=function(e){var t,n,i,r=e.dom,o=e.selection,a=e.schema,s=a.getBlockElements(),u=o.getStart(),c=e.getBody(),l=Wu(e);if(u&&wn(u)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!function(t,e,n){return F(Qh(wt.fromDom(n),wt.fromDom(e)),function(e){return rw(t,e.dom)})}(s,c,u)){var d,h,p=o.getRng(),m=p.startContainer,g=p.startOffset,v=p.endContainer,b=p.endOffset,y=Zd(e);for(u=c.firstChild;u;)if(d=s,Nn(h=u)||wn(h)&&!rw(d,h)&&!Al(h)){if(ow(s,u)){u=(n=u).nextSibling,r.remove(n);continue}t||(t=r.create(l,Uu(e)),u.parentNode.insertBefore(t,u),i=!0),u=(n=u).nextSibling,t.appendChild(n)}else t=null,u=u.nextSibling;i&&y&&(p.setStart(m,g),p.setEnd(v,b),o.setRng(p),e.nodeChanged())}}},sw=function(e,t){t.hasAttribute("data-mce-caret")&&(Cr(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},uw=function(e,t){var n=function(e){return zi(wt.fromDom(e.getBody()),"*[data-mce-caret]").fold(y(null),function(e){return e.dom})}(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void sw(e,n)):void(vr(n)&&(sw(e,n),e.undoManager.add()))};(Nb=Eb||(Eb={}))[Nb.Br=0]="Br",Nb[Nb.Block=1]="Block",Nb[Nb.Wrap=2]="Wrap",Nb[Nb.Eol=3]="Eol";var cw,lw,fw=function(e,t){return e===gu.Backwards?ee(t):t},dw=function(e,t,n,i){for(var r,o,a,s,u,c,l=ol(n),f=i,d=[];f&&(u=l,c=f,r=t===gu.Forwards?u.next(c):u.prev(c));){if(In(r.getNode(!1)))return t===gu.Forwards?{positions:fw(t,d).concat([r]),breakType:Eb.Br,breakAt:C.some(r)}:{positions:fw(t,d),breakType:Eb.Br,breakAt:C.some(r)};if(r.isVisible()){if(e(f,r)){var h=(o=t,a=f,In((s=r).getNode(o===gu.Forwards))?Eb.Br:!1===Ic(a,s)?Eb.Block:Eb.Wrap);return{positions:fw(t,d),breakType:h,breakAt:C.some(r)}}d.push(r),f=r}else f=r}return{positions:fw(t,d),breakType:Eb.Eol,breakAt:C.none()}},hw=function(n,i,r,e){return i(r,e).breakAt.map(function(e){var t=i(r,e).positions;return n===gu.Backwards?t.concat(e):[e].concat(t)}).getOr([])},pw=function(e,o){return K(e,function(e,r){return e.fold(function(){return C.some(r)},function(i){return Hs(ie(i.getClientRects()),ie(r.getClientRects()),function(e,t){var n=Math.abs(o-e.left);return Math.abs(o-t.left)<=n?r:i}).or(e)})},C.none())},mw=function(t,e){return ie(e.getClientRects()).bind(function(e){return pw(t,e.left)})},gw=_(dw,mu.isAbove,-1),vw=_(dw,mu.isBelow,1),bw=_(hw,-1,gw),yw=_(hw,1,vw),_w=function(t){var e=function(e){return H(e,function(e){return(e=qs(e)).node=t,e})};if(wn(t))return e(t.getClientRects());if(Nn(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},ww=function(e){return J(e,_w)};(lw=cw||(cw={}))[lw.Up=-1]="Up",lw[lw.Down=1]="Down";var xw,Cw,kw=function(r,o,a,e,s,t){var u=0,c=[],n=function(e){var t,n,i;for(i=ww([e]),-1===r&&(i=i.reverse()),t=0;t<i.length;t++)if(n=i[t],!a(n,l)){if(0<c.length&&o(n,De(c))&&u++,n.line=u,s(n))return!0;c.push(n)}},l=De(t.getClientRects());if(!l)return c;var i=t.getNode();return n(i),function(e,t,n,i){for(;i=Oc(i,e,Rr,t);)if(n(i))return}(r,e,n,i),c},Sw=_(kw,cw.Up,Vs,$s),Dw=_(kw,cw.Down,$s,Vs),Tw=function(t){return function(e){return function(e,t){return t.line>e}(t,e)}},Ew=function(t){return function(e){return function(e,t){return t.line===e}(t,e)}},Nw=Mn,Aw=Oc,Ow=function(e,t){return Math.abs(e.left-t)},Pw=function(e,t){return Math.abs(e.right-t)},Iw=function(e,t){return e>=t.left&&e<=t.right},Rw=function(e,t){return e>=t.top&&e<=t.bottom},Lw=function(e,r){return ke(e,function(e,t){var n=Math.min(Ow(e,r),Pw(e,r)),i=Math.min(Ow(t,r),Pw(t,r));return Iw(r,t)?t:Iw(r,e)?e:i===n&&Nw(t.node)?t:i<n?t:e})},Mw=function(e,t,n,i,r){var o=Aw(i,e,Rr,t,!r);do{if(!o||n(o))return}while(o=Aw(o,e,Rr,t))},Bw=function(e,t,n){var i=ww(function(e){return Y(oe(e.getElementsByTagName("*")),_c)}(e)),r=Y(i,_(Rw,n)),o=Lw(r,t);if(o){var a=!Dn(o.node)&&!jn(o.node);if((o=Lw(function(e,i,t){void 0===t&&(t=!0);var r=[],n=function(t,e){var n=Y(ww([e]),function(e){return!t(e,i)});return r=r.concat(n),0===n.length};return r.push(i),Mw(cw.Up,e,_(n,Vs),i.node,t),Mw(cw.Down,e,_(n,$s),i.node,t),r}(e,o,a),t))&&_c(o.node))return function(e,t){return{node:e.node,before:Ow(e,t)<Pw(e,t)}}(o,t)}return null},jw=function(e,t){e.selection.setRng(t),Cd(e,e.selection.getRng())},Fw=function(e,t,n){return C.some(My(e,t,n))},Hw=function(e,t,n,i,r,o){var a=t===gu.Forwards,s=ol(e.getBody()),u=_(Wc,a?s.next:s.prev),c=a?i:r;if(!n.collapsed){var l=Qs(n);if(o(l))return Iy(t,e,l,t===gu.Backwards,!1)}var f=zc(t,e.getBody(),n);if(c(f))return Ry(e,f.getNode(!a));var d=ly(a,u(f)),h=function(e){return pr(e.startContainer)}(n);if(!d)return h?C.some(n):C.none();if(c(d))return Iy(t,e,d.getNode(!a),a,!1);var p=u(d);return p&&c(p)&&Uc(d,p)?Iy(t,e,p.getNode(!a),a,!1):h?Fw(e,d.toRange(),!1):C.none()},zw=function(t,e,n,i,r,o){var a=zc(e,t.getBody(),n),s=De(a.getClientRects()),u=e===cw.Down;if(!s)return C.none();var c,l=(u?Dw:Sw)(t.getBody(),Tw(1),a),f=Y(l,Ew(1)),d=s.left,h=Lw(f,d);if(h&&o(h.node)){var p=Math.abs(d-h.left),m=Math.abs(d-h.right);return Iy(e,t,h.node,p<m,!1)}if(c=i(a)?a.getNode():r(a)?a.getNode(!0):Qs(n)){var g=function(e,t,n,i){var r,o,a,s,u,c=ol(t),l=[],f=0,d=function(e){return De(e.getClientRects())},h=d(s=1===e?(r=c.next,o=$s,a=Vs,mu.after(i)):(r=c.prev,o=Vs,a=$s,mu.before(i)));do{if(s.isVisible()&&!a(u=d(s),h)){if(0<l.length&&o(u,De(l))&&f++,(u=qs(u)).position=s,u.line=f,n(u))return l;l.push(u)}}while(s=r(s));return l}(e,t.getBody(),Tw(1),c),v=Lw(Y(g,Ew(1)),d);if(v)return Fw(t,v.position.toRange(),!1);if(v=De(Y(g,Ew(0))))return Fw(t,v.position.toRange(),!1)}return 0===f.length?qw(t,u).filter(u?r:i).map(function(e){return My(t,e.toRange(),!1)}):C.none()},qw=function(e,t){var n=e.selection.getRng(),i=e.getBody();if(t){var r=mu.fromRangeEnd(n),o=vw(i,r);return re(o.positions)}r=mu.fromRangeStart(n),o=gw(i,r);return ie(o.positions)},Ww=function(t,e,n){return qw(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})},Uw=Mn,Vw=function(e,t,n){var i=ol(e.getBody()),r=_(Wc,1===t?i.next:i.prev);if(n.collapsed&&function(e){return""!==Wu(e)}(e)){var o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!r(mu.fromRangeStart(n))){var a=function(e){var t=e.dom.create(Wu(e));return(!pt.ie||11<=pt.ie)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(e);1===t?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse()}}},$w=function(e,t){var n=t?gu.Forwards:gu.Backwards,i=e.selection.getRng();return function(e,t,n){return Hw(t,e,n,qh,Wh,Uw)}(n,e,i).orThunk(function(){return Vw(e,n,i),C.none()})},Yw=function(e,t){var n=t?1:-1,i=e.selection.getRng();return function(e,t,n){return zw(t,e,n,function(e){return qh(e)||Hh(e)},function(e){return Wh(e)||zh(e)},Uw)}(n,e,i).orThunk(function(){return Vw(e,n,i),C.none()})},Qw=function(t,e){return $w(t,e).exists(function(e){return jw(t,e),!0})},Kw=function(t,e){return Yw(t,e).exists(function(e){return jw(t,e),!0})},Xw=function(e,t){return Ww(e,t,t?Wh:qh)},Gw=function(e){return j(["figcaption"],Et(e))},Jw=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},Zw=function(e,t,n){n?rn(e,t):nn(e,t)},ex=function(e,t,n,i){return""===t?function(e,t){var n=wt.fromTag("br");return Zw(e,n,t),Jw(n)}(e,i):function(e,t,n,i){var r=wt.fromTag(n),o=wt.fromTag("br");return qn(r,i),rn(r,o),Zw(e,r,t),Jw(o)}(e,i,t,n)},tx=function(e,t,n){return t?function(e,t){return vw(e,t).breakAt.isNone()}(e.dom,n):function(e,t){return gw(e,t).breakAt.isNone()}(e.dom,n)},nx=function(t,n){var i=wt.fromDom(t.getBody()),r=mu.fromRangeStart(t.selection.getRng()),o=Wu(t),a=Uu(t);return function(e,t){var n=_(St,t);return ji(wt.fromDom(e.container()),Zi,n).filter(Gw)}(r,i).exists(function(){if(tx(i,n,r)){var e=ex(i,o,a,n);return t.selection.setRng(e),!0}return!1})},ix=function(e,t){return!!e.selection.isCollapsed()&&nx(e,t)},rx=function(e,t){return J(function(e){return H(e,function(e){return Te({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:q},e)})}(e),function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,t)?[e]:[]})},ox=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},ax=function(e,t){return X(rx(e,t),function(e){return e.action()})},sx=function(t,e){var n=e?gu.Forwards:gu.Backwards,i=t.selection.getRng();return Hw(t,n,i,jh,Fh,jn).exists(function(e){return jw(t,e),!0})},ux=function(t,e){var n=e?1:-1,i=t.selection.getRng();return zw(t,n,i,jh,Fh,jn).exists(function(e){return jw(t,e),!0})},cx=function(e,t){return Ww(e,t,t?Fh:jh)},lx=function(e,t,n,i,r){var o=ks(wt.fromDom(n),"td,th,caption").map(function(e){return e.dom});return function(e,r,o){return K(e,function(e,i){return e.fold(function(){return C.some(i)},function(e){var t=Math.sqrt(Math.abs(e.x-r)+Math.abs(e.y-o)),n=Math.sqrt(Math.abs(i.x-r)+Math.abs(i.y-o));return C.some(n<t?i:e)})},C.none())}(Y(function(n,e){return J(e,function(e){var t=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}(qs(e.getBoundingClientRect()),-1);return[{x:t.left,y:n(t),cell:e},{x:t.right,y:n(t),cell:e}]})}(e,o),function(e){return t(e,r)}),i,r).map(function(e){return e.cell})},fx=_(lx,function(e){return e.bottom},function(e,t){return e.y<t}),dx=_(lx,function(e){return e.top},function(e,t){return e.y>t}),hx=function(t,n){return ie(n.getClientRects()).bind(function(e){return fx(t,e.left,e.top)}).bind(function(e){return mw(function(t){return vl(t).map(function(e){return gw(t,e).positions.concat(e)}).getOr([])}(e),n)})},px=function(t,n){return re(n.getClientRects()).bind(function(e){return dx(t,e.left,e.top)}).bind(function(e){return mw(function(t){return gl(t).map(function(e){return[e].concat(vw(t,e).positions)}).getOr([])}(e),n)})},mx=function(e,t,n){var i=e(t,n);return function(e){return e.breakType===Eb.Wrap&&0===e.positions.length}(i)||!In(n.getNode())&&function(e){return e.breakType===Eb.Br&&1===e.positions.length}(i)?!function(t,n,e){return e.breakAt.exists(function(e){return t(n,e).breakAt.isSome()})}(e,t,i):i.breakAt.isNone()},gx=_(mx,gw),vx=_(mx,vw),bx=function(t,e,n,i){var r=t.selection.getRng(),o=e?1:-1;return!(!bc()||!function(e,t,n){var i=mu.fromRangeStart(t);return hl(!e,n).exists(function(e){return e.isEqual(i)})}(e,r,n))&&(Iy(o,t,n,!e,!1).each(function(e){jw(t,e)}),!0)},yx=function(e,t){var n=t.getNode(e);return wn(n)&&"TABLE"===n.nodeName?C.some(n):C.none()},_x=function(n,i,r){var e=yx(!!i,r),o=!1===i;e.fold(function(){return jw(n,r.toRange())},function(t){return hl(o,n.getBody()).filter(function(e){return e.isEqual(r)}).fold(function(){return jw(n,r.toRange())},function(e){return function(n,i,r,e){var o=Wu(i);o?i.undoManager.transact(function(){var e=wt.fromTag(o);qn(e,Uu(i)),rn(e,wt.fromTag("br")),n?tn(wt.fromDom(r),e):en(wt.fromDom(r),e);var t=i.dom.createRng();t.setStart(e.dom,0),t.setEnd(e.dom,0),jw(i,t)}):jw(i,e.toRange())}(i,n,t,r)})})},wx=function(e,t,n,i){var r=e.selection.getRng(),o=mu.fromRangeStart(r),a=e.getBody();if(!t&&gx(i,o)){var s=function(t,n,e){return hx(n,e).orThunk(function(){return ie(e.getClientRects()).bind(function(e){return pw(bw(t,mu.before(n)),e.left)})}).getOr(mu.before(n))}(a,n,o);return _x(e,t,s),!0}if(t&&vx(i,o)){s=function(t,n,e){return px(n,e).orThunk(function(){return ie(e.getClientRects()).bind(function(e){return pw(yw(t,mu.after(n)),e.left)})}).getOr(mu.after(n))}(a,n,o);return _x(e,t,s),!0}return!1},xx=function(n,i,r){return C.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return C.from(n.dom.getParent(t,"table")).map(function(e){return r(n,i,e,t)})}).getOr(!1)},Cx=function(e,t){return xx(e,t,bx)},kx=function(e,t){return xx(e,t,wx)},Sx=function(t,n){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(e,t,n){var i=ot().os;ax([{keyCode:Mf.RIGHT,action:ox(Qw,e,!0)},{keyCode:Mf.LEFT,action:ox(Qw,e,!1)},{keyCode:Mf.UP,action:ox(Kw,e,!1)},{keyCode:Mf.DOWN,action:ox(Kw,e,!0)},{keyCode:Mf.RIGHT,action:ox(Cx,e,!0)},{keyCode:Mf.LEFT,action:ox(Cx,e,!1)},{keyCode:Mf.UP,action:ox(kx,e,!1)},{keyCode:Mf.DOWN,action:ox(kx,e,!0)},{keyCode:Mf.RIGHT,action:ox(sx,e,!0)},{keyCode:Mf.LEFT,action:ox(sx,e,!1)},{keyCode:Mf.UP,action:ox(ux,e,!1)},{keyCode:Mf.DOWN,action:ox(ux,e,!0)},{keyCode:Mf.RIGHT,action:ox(P_,e,t,!0)},{keyCode:Mf.LEFT,action:ox(P_,e,t,!1)},{keyCode:Mf.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:ox(L_,e,t)},{keyCode:Mf.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:ox(M_,e,t)},{keyCode:Mf.UP,action:ox(ix,e,!1)},{keyCode:Mf.DOWN,action:ox(ix,e,!0)}],n).each(function(e){n.preventDefault()})}(t,n,e)})},Dx=function(t,n){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(e,t,n){ax([{keyCode:Mf.BACKSPACE,action:ox(Z_,e,!1)},{keyCode:Mf.BACKSPACE,action:ox(Ky,e,!1)},{keyCode:Mf.DELETE,action:ox(Ky,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(Hy,e,!1)},{keyCode:Mf.DELETE,action:ox(Hy,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(H_,e,t,!1)},{keyCode:Mf.DELETE,action:ox(H_,e,t,!0)},{keyCode:Mf.BACKSPACE,action:ox(fm,e,!1)},{keyCode:Mf.DELETE,action:ox(fm,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(Xy,e,!1)},{keyCode:Mf.DELETE,action:ox(Xy,e,!0)},{keyCode:Mf.BACKSPACE,action:ox($_,e,!1)},{keyCode:Mf.DELETE,action:ox($_,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(Ay,e,!1)},{keyCode:Mf.DELETE,action:ox(Ay,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(Dy,e,!1)},{keyCode:Mf.DELETE,action:ox(Dy,e,!0)},{keyCode:Mf.BACKSPACE,action:ox(U_,e,!1)},{keyCode:Mf.DELETE,action:ox(U_,e,!0)}],n).each(function(e){n.preventDefault()})}(t,n,e)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&function(e,t){ax([{keyCode:Mf.BACKSPACE,action:ox(Qy,e)},{keyCode:Mf.DELETE,action:ox(Qy,e)}],t)}(t,e)})},Tx=function(e,t){var n,i=t,r=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(r.doc.createTextNode("Â "),t.firstChild)}var s=r.createRng();if(t.normalize(),t.hasChildNodes()){for(var u=new Xi(t,t);n=u.current();){if(Nn(n)){s.setStart(n,0),s.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}i=n,n=u.next()}n||(s.setStart(i,0),s.setEnd(i,0))}else In(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Cd(e,s)}},Ex=function(e){return C.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},Nx=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Ax=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Ox=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Px=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!wn(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},Ix=function(e,t,n,i,r){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){(function(e){return Ax(e)&&Ax(e.parentNode)})(n)&&(r="LI");var s=r?t(r):o.create("BR");if(Px(n,i,!0)&&Px(n,i,!1))if(Nx(n,"LI")){var u=Ox(n);o.insertAfter(s,u),!function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}(n)?o.remove(n):o.remove(u)}else o.replace(s,n);else if(Px(n,i,!0))Nx(n,"LI")?(o.insertAfter(s,Ox(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n),o.remove(i);else if(Px(n,i,!1))o.insertAfter(s,Ox(n)),o.remove(i);else{n=Ox(n);var c=a.cloneRange();c.setStartAfter(i),c.setEndAfter(n);var l=c.extractContents();"LI"===r&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(l,"LI")?(s=l.firstChild,o.insertAfter(l,n)):(o.insertAfter(l,n),o.insertAfter(s,n)),o.remove(i)}Tx(e,s)}},Rx=function(e){e.innerHTML='<br data-mce-bogus="1">'},Lx=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Mx=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},Bx=function(e,t,n){return!1===Nn(t)?n:e?1===n&&t.data.charAt(n-1)===cr?0:n:n===t.data.length-1&&t.data.charAt(n)===cr?t.data.length:n},jx=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},Fx=function(e,t){var n=Wu(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,r,t){var o=e.dom;C.from(t.style).map(o.parseStyle).each(function(e){var t=Xn(wt.fromDom(r)),n=Te(Te({},t),e);o.setStyles(r,n)});var n=C.from(t.class).map(function(e){return e.split(/\s+/)}),i=C.from(r.className).map(function(e){return Y(e.split(/\s+/),function(e){return""!==e})});Hs(n,i,function(t,e){var n=Y(e,function(e){return!j(t,e)}),i=Ee(t,n);o.setAttrib(r,"class",i.join(" "))});var a=["style","class"],s=pe(t,function(e,t){return!j(a,t)});o.setAttribs(r,s)}(e,t,Uu(e))},Hx=function(a,e){var t,s,o,u,n,i,r,c,l,f,d=a.dom,h=a.schema,p=h.getNonEmptyElements(),m=a.selection.getRng(),g=function(e){var t,n,i,r=s,o=h.getTextInlineElements();if(i=t=e||"TABLE"===c||"HR"===c?d.create(e||l):u.cloneNode(!1),!1===function(e){return e.getParam("keep_styles",!0)}(a))d.setAttrib(t,"style",null),d.setAttrib(t,"class",null);else do{if(o[r.nodeName]){if(yl(r)||Al(r))continue;n=r.cloneNode(!1),d.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):i=n,t.appendChild(n)}}while((r=r.parentNode)&&r!==w);return Fx(a,t),Rx(i),t},v=function(e){var t,n,i=Bx(e,s,o);if(Nn(s)&&(e?0<i:i<s.nodeValue.length))return!1;if(s.parentNode===u&&f&&!e)return!0;if(e&&wn(s)&&s===u.firstChild)return!0;if(Lx(s,"TABLE")||Lx(s,"HR"))return f&&!e||!f&&e;var r=new Xi(s,u);for(Nn(s)&&(e&&0===i?r.prev():e||i!==s.nodeValue.length||r.next());t=r.current();){if(wn(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(Nn(t)&&!Mr(t.nodeValue))return!1;e?r.prev():r.next()}return!0},b=function(){n=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?g(l):g(),function(e){return e.getParam("end_container_on_empty_block",!1)}(a)&&Mx(d,r)&&d.isEmpty(u)?n=d.split(r,u):d.insertAfter(n,u),Tx(a,n)};Qf(d,m).each(function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)}),s=m.startContainer,o=m.startOffset,l=Wu(a);var y=!(!e||!e.shiftKey),_=!(!e||!e.ctrlKey);wn(s)&&s.hasChildNodes()&&(f=o>s.childNodes.length-1,s=s.childNodes[Math.min(o,s.childNodes.length-1)]||s,o=f&&Nn(s)?s.nodeValue.length:0);var w=jx(d,s);if(w){(l&&!y||!l&&y)&&(s=function(e,t,n,i,r){var o,a,s,u,c,l,f=t||"P",d=e.dom,h=jx(d,i);if(!(a=d.getParent(i,d.isBlock))||!Mx(d,a)){if(l=(a=a||h)===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=d.create(f),Fx(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(u=i;u.parentNode!==a;)u=u.parentNode;for(;u&&!d.isBlock(u);)u=(s=u).previousSibling;if(s&&e.schema.isValidChild(l,f.toLowerCase())){for(o=d.create(f),Fx(e,o),s.parentNode.insertBefore(o,s),u=s;u&&!d.isBlock(u);)c=u.nextSibling,o.appendChild(u),u=c;n.setStart(i,r),n.setEnd(i,r)}}return i}(a,l,m,s,o)),u=d.getParent(s,d.isBlock),r=u?d.getParent(u.parentNode,d.isBlock):null,c=u?u.nodeName.toUpperCase():"";var x=r?r.nodeName.toUpperCase():"";"LI"!==x||_||(r=(u=r).parentNode,c=x),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(u)?Ix(a,g,r,u,l):l&&u===a.getBody()||(l=l||"P",pr(u)?(n=Cr(u),d.isEmpty(u)&&Rx(u),Fx(a,n),Tx(a,n)):v()?b():v(!0)?(n=u.parentNode.insertBefore(g(),u),Tx(a,Lx(u,"HR")?n:u)):((t=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,Bx(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Bx(!1,e.endContainer,e.endOffset)),t}(m).cloneRange()).setEndAfter(u),function(e){$(Cs(wt.fromDom(e),Pt),function(e){var t=e.dom;t.nodeValue=fr(t.nodeValue)})}(i=t.extractContents()),function(e){for(;Nn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(i),n=i.firstChild,d.insertAfter(i,u),function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;wn(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(a=e,(s=r)&&"A"===s.nodeName&&a.isEmpty(s)&&e.remove(r));var a,s}}(d,p,n),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(d,u),d.isEmpty(u)&&Rx(u),n.normalize(),d.isEmpty(n)?(d.remove(n),b()):(Fx(a,n),Tx(a,n))),d.setAttrib(n,"id",""),a.fire("NewBlock",{newBlock:n}))}},zx=function(e,t,n){var i=e.dom.createRng();n?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),Cd(e,i)},qx=function(e,t){var n,i,r=e.selection,o=e.dom,a=r.getRng();Qf(o,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=o.getParent(u,o.isBlock),f=l?o.getParent(l.parentNode,o.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var i,r=new Xi(t,n),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(e.schema,u,l)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0)),n=o.create("br"),yu(o,a,n),zx(e,n,i),e.undoManager.add()},Wx=function(e,t){var n=wt.fromTag("br");en(wt.fromDom(t),n),e.undoManager.add()},Ux=function(e,t){Vx(e.getBody(),t)||tn(wt.fromDom(t),wt.fromTag("br"));var n=wt.fromTag("br");tn(wt.fromDom(t),n),zx(e,n.dom,!1),e.undoManager.add()},Vx=function(e,t){return!!function(e){return In(e.getNode())}(mu.after(t))||pl(e,mu.after(t)).map(function(e){return In(e.getNode())}).getOr(!1)},$x=function(e){return e&&"A"===e.nodeName&&"href"in e},Yx=function(e){return e.fold(g,$x,$x,g)},Qx=function(e,t){t.fold(q,_(Wx,e),_(Ux,e),q)},Kx=function(e,t){var n=function(e){var t=_(sy,e),n=mu.fromRangeStart(e.selection.getRng());return v_(t,e.getBody(),n).filter(Yx)}(e);n.isSome()?n.each(_(Qx,e)):qx(e,t)},Xx=function(e,t){return Ex(e).filter(function(e){return 0<t.length&&Ct(wt.fromDom(e),t)}).isSome()},Gx=hi([{br:[]},{block:[]},{none:[]}]),Jx=function(e,t){return function(e){return Xx(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},Zx=function(n){return function(e,t){return""===Wu(e)===n}},eC=function(n){return function(e,t){return function(e){return Ex(e).filter(function(e){return rr(wt.fromDom(e))}).isSome()}(e)===n}},tC=function(n,i){return function(e,t){return function(e){return Ex(e).fold(y(""),function(e){return e.nodeName.toUpperCase()})}(e)===n.toUpperCase()===i}},nC=function(e){return tC("pre",e)},iC=function(n){return function(e,t){return function(e){return e.getParam("br_in_pre",!0)}(e)===n}},rC=function(e,t){return function(e){return Xx(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},oC=function(e,t){return t},aC=function(e){var t=Wu(e),n=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},sC=function(e,t){return function(n,i){return K(e,function(e,t){return e&&t(n,i)},!0)?C.some(t):C.none()}},uC=function(e,t){return s_([sC([Jx],Gx.none()),sC([tC("summary",!0)],Gx.br()),sC([nC(!0),iC(!1),oC],Gx.br()),sC([nC(!0),iC(!1)],Gx.block()),sC([nC(!0),iC(!0),oC],Gx.block()),sC([nC(!0),iC(!0)],Gx.br()),sC([eC(!0),oC],Gx.br()),sC([eC(!0)],Gx.block()),sC([Zx(!0),oC,aC],Gx.block()),sC([Zx(!0)],Gx.br()),sC([rC],Gx.br()),sC([Zx(!1),oC],Gx.br()),sC([aC],Gx.block())],[e,!(!t||!t.shiftKey)]).getOr(Gx.none())},cC=function(e,t){uC(e,t).fold(function(){Kx(e,t)},function(){Hx(e,t)},q)},lC=function(t){t.on("keydown",function(e){e.keyCode===Mf.ENTER&&function(e,t){t.isDefaultPrevented()||(t.preventDefault(),function(e){e.typing&&(e.typing=!1,e.add())}(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),cC(e,t)}))}(t,e)})},fC=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(e,t){ax([{keyCode:Mf.END,action:ox(Xw,e,!0)},{keyCode:Mf.HOME,action:ox(Xw,e,!1)},{keyCode:Mf.END,action:ox(cx,e,!0)},{keyCode:Mf.HOME,action:ox(cx,e,!1)}],t).each(function(e){t.preventDefault()})}(t,e)})},dC=ot().browser,hC=function(t){!function(e){var t=ps(function(){e.composing||Cp(e)},0);dC.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))}(t),t.on("input",function(e){!1===e.isComposing&&Cp(t)})},pC=function(n,i){var e=i.container(),t=i.offset();return Nn(e)?(e.insertData(t,n),C.some(mu(e,t+n.length))):qc(i).map(function(e){var t=wt.fromText(n);return i.isAtEnd()?tn(e,t):en(e,t),mu(t.dom,n.length)})},mC=_(pC,"Â "),gC=_(pC," "),vC=function(t,n){return function(e){return function(e,t){return!pp(t)&&(mp(e,t)||dp(e,t)||hp(e,t))}(t,e)?mC(n):gC(n)}},bC=function(e){var t=mu.fromRangeStart(e.selection.getRng()),n=wt.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=_(sy,e),r=mu.fromRangeStart(e.selection.getRng());return v_(i,e.getBody(),r).bind(function(t){return function(e){return e.fold(function(e){return ml(t.dom,mu.before(e))},function(e){return gl(e)},function(e){return vl(e)},function(e){return pl(t.dom,mu.after(e))})}}(n)).bind(vC(n,t)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(e))}return!1},yC=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(e,t){ax([{keyCode:Mf.SPACEBAR,action:ox(bC,e)}],t).each(function(e){t.preventDefault()})}(t,e)})},_C=function(e){var t=R_(e);return function(e){e.on("keyup compositionstart",_(uw,e))}(e),Sx(e,t),Dx(e,t),lC(e),yC(e),hC(e),fC(e),t},wC=function(){function e(i){var r;this.lastPath=[],this.editor=i;var t=this;"onselectionchange"in i.getDoc()||i.on("NodeChange click mouseup keyup focus",function(e){var t=i.selection.getRng(),n={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&zf(n,r)||i.fire("SelectionChange"),r=n}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!pt.range&&i.selection.isCollapsed()||xf(i)&&!t.isSameElementPath(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("mouseup",function(e){!e.isDefaultPrevented()&&xf(i)&&("IMG"===i.selection.getNode().nodeName?Yi.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,i,r=this.editor.selection;this.editor.initialized&&r&&!function(e){return e.getParam("disable_nodechange")}(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),(t=r.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,i)||(t=i),n=[],this.editor.dom.getParent(t,function(e){if(e===i)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),xC=function(e){!function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})}(e),function(e){e.parser.addNodeFilter("details",function(e){$(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){$(e,function(e){var t=e.attr("data-mce-open");e.attr("open",W(t)?t:null),e.attr("data-mce-open",null)})})}(e)},CC=function(e){return wn(e)&&nr(wt.fromDom(e))},kC=function(t){t.on("click",function(e){3<=e.detail&&function(e){var t=e.selection.getRng(),n=mu.fromRangeStart(t),i=mu.fromRangeEnd(t);if(mu.isElementPosition(n)){var r=n.container();CC(r)&&gl(r).each(function(e){return t.setStart(e.container(),e.offset())})}mu.isElementPosition(i)&&(r=n.container(),CC(r)&&vl(r).each(function(e){return t.setEnd(e.container(),e.offset())}));e.selection.setRng(hm(t))}(t)})},SC=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,r=n.defaultView;return{top:t.top+r.pageYOffset-i.clientTop,left:t.left+r.pageXOffset-i.clientLeft}},DC=function(e,t){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(function(e){return e.inline?SC(e.getBody()):{left:0,top:0}}(e),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n=SC(e.getContentAreaContainer()),i=function(e){var t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:r}(e);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}(e,t))},TC=Mn,EC=Ln,NC=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},AC=function(o,a){return function(e){if(function(e){return 0===e.button}(e)){var t=X(a.dom.getParents(e.target),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(TC,EC)).getOr(null);if(function(e,t){return TC(t)&&t!==e}(a.getBody(),t)){var n=a.dom.getPos(t),i=a.getBody(),r=a.getDoc().documentElement;o.set({element:t,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(a.inline?i.scrollWidth:r.offsetWidth)-2,maxY:(a.inline?i.scrollHeight:r.offsetHeight)-2,relX:e.pageX-n.x,relY:e.pageY-n.y,width:t.offsetWidth,height:t.offsetHeight,ghost:function(e,t,n,i){var r=e.dom,o=t.cloneNode(!0);r.setStyles(o,{width:n,height:i}),r.setAttrib(o,"data-mce-selected",null);var a=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),r.setStyles(o,{margin:0,boxSizing:"border-box"}),a.appendChild(o),a}(a,t,t.offsetWidth,t.offsetHeight)})}}}},OC=function(e,i){return function(n){e.on(function(e){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!TC(t)}(i,function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t}(i.selection),e.element)){var t=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t}(e.element);i.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||i.undoManager.transact(function(){NC(e.element),i.insertContent(i.dom.getOuterHTML(t)),i._selectionOverrides.hideFakeCaret()})}}),PC(e)}},PC=function(e){e.on(function(e){NC(e.ghost)}),e.clear()},IC=function(e){var t=function(){var t=us(C.none());return{clear:function(){return t.set(C.none())},set:function(e){return t.set(C.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}}(),n=is.DOM,i=document,r=AC(t,e),o=function(e,r){var o=Yi.throttle(function(e,t){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(e,t)},0);return r.on("remove",o.stop),function(i){return e.on(function(e){var t=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&10<t){if(r.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,r.focus()}if(e.dragging){var n=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,DC(r,i));!function(e,t){e.parentNode!==t&&t.appendChild(e)}(e.ghost,r.getBody()),function(e,t,n,i,r,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(a=t.pageX+n-r),t.pageY+i>o&&(s=t.pageY+i-o),e.style.width=n-a+"px",e.style.height=i-s+"px"}(e.ghost,n,e.width,e.height,e.maxX,e.maxY),o(i.clientX,i.clientY)}})}}(t,e),a=OC(t,e),s=function(e,t){return function(){e.on(function(e){e.dragging&&t.fire("dragend")}),PC(e)}}(t,e);e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a),n.bind(i,"mousemove",o),n.bind(i,"mouseup",s),e.on("remove",function(){n.unbind(i,"mousemove",o),n.unbind(i,"mouseup",s)})},RC=function(e){IC(e),function(n){n.on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(TC(t)||"false"===n.dom.getContentEditableParent(t))&&e.preventDefault()})}(e),function(e){return e.getParam("block_unsupported_drop",!0,"boolean")}(e)&&function(o){var a=function(e){if(!e.isDefaultPrevented()){var t=e.dataTransfer;t&&(j(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type&&Pb(o,"Dropped file type is not supported"))}},s=function(e){$d(o,e.target)&&a(e)},e=function(){var t=is.DOM,n=o.dom,i=document,r=o.inline?o.getBody():o.getDoc(),e=["drop","dragover"];$(e,function(e){t.bind(i,e,s),n.bind(r,e,a)}),o.on("remove",function(){$(e,function(e){t.unbind(i,e,s),n.unbind(r,e,a)})})};o.on("init",function(){Yi.setEditorTimeout(o,e,0)})}(e)},LC=Ln,MC=Mn,BC=function(e,t){return If(e.getBody(),t)},jC=function(s){var a,u=s.selection,l=s.dom,c=l.isBlock,f=s.getBody(),d=vc(s,f,c,function(){return Zd(s)}),h="sel-"+l.uniqueId(),o="data-mce-selected",p=function(e){return e!==f&&(MC(e)||jn(e))&&l.isChildOf(e,f)},m=function(e){e&&u.setRng(e)},n=u.getRng,g=function(e,t,n,i){return void 0===i&&(i=!0),s.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(i&&u.scrollIntoView(t,-1===e),d.show(n,t))},t=function(e){return gr(e)||wr(e)||xr(e)},v=function(e){return t(e.startContainer)||t(e.endContainer)},i=function(e){var t=s.schema.getShortEndedElements(),n=l.createRng(),i=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset;return ve(t,i.nodeName.toLowerCase())?0===r?n.setStartBefore(i):n.setStartAfter(i):n.setStart(i,r),ve(t,o.nodeName.toLowerCase())?0===a?n.setEndBefore(o):n.setEndAfter(o):n.setEnd(o,a),n},b=function(e){var t=e.cloneNode(!0),n=s.fire("ObjectSelected",{target:e,targetClone:t});if(n.isDefaultPrevented())return null;var i=function(e,t,n){var i=s.$,r=zi(wt.fromDom(s.getBody()),"#"+h).fold(function(){return i([])},function(e){return i([e.dom])});0===r.length&&(r=i('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",h)).appendTo(s.getBody());var o=l.createRng();t===n&&pt.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(t),o.setStartAfter(r[0].firstChild.firstChild),o.setEndAfter(t)):(r.empty().append("Â ").append(t).append("Â "),o.setStart(r[0].firstChild,1),o.setEnd(r[0].lastChild,0)),r.css({top:l.getPos(e,s.getBody()).y}),r[0].focus();var a=u.getSel();return a.removeAllRanges(),a.addRange(o),o}(e,n.targetClone,t),r=wt.fromDom(e);return $(ks(wt.fromDom(s.getBody()),"*[data-mce-selected]"),function(e){St(r,e)||Vn(e,o)}),l.getAttrib(e,o)||e.setAttribute(o,"1"),a=e,w(),i},y=function(e,t){if(!e)return null;if(e.collapsed){if(!v(e)){var n=t?1:-1,i=zc(n,f,e),r=i.getNode(!t);if(_c(r))return g(n,r,!!t&&!i.isAtEnd(),!1);var o=i.getNode(t);if(_c(o))return g(n,o,!t&&!i.isAtEnd(),!1)}return null}var a=e.startContainer,s=e.startOffset,u=e.endOffset;if(3===a.nodeType&&0===s&&MC(a.parentNode)&&(a=a.parentNode,s=l.nodeIndex(a),a=a.parentNode),1!==a.nodeType)return null;if(u===s+1&&a===e.endContainer){var c=a.childNodes[s];if(p(c))return b(c)}return null},_=function(){a&&a.removeAttribute(o),zi(wt.fromDom(s.getBody()),"#"+h).each(sn),a=null},w=function(){d.hide()};return pt.ceFalse&&function(){s.on("mouseup",function(e){var t=n();t.collapsed&&Cb(s,e.clientX,e.clientY)&&Ly(s,t,!1).each(m)}),s.on("click",function(e){var t=BC(s,e.target);t&&(MC(t)&&(e.preventDefault(),s.focus()),LC(t)&&l.isChildOf(t,u.getNode())&&_())}),s.on("blur NewBlock",_),s.on("ResizeWindow FullscreenStateChanged",d.reposition);var r=function(e){var t=ol(e);if(!e.firstChild)return!1;var n=mu.before(e.firstChild),i=t.next(n);return i&&!function(e){return qh(e)||Wh(e)||jh(e)||Fh(e)}(i)},o=function(e,t){var n=l.getParent(e,c),i=l.getParent(t,c);return!(!n||e===i||!l.isChildOf(n,i)||!1!==MC(BC(s,n)))||n&&!function(e,t){return l.getParent(e,c)===l.getParent(t,c)}(n,i)&&r(n)};s.on("tap",function(e){var t=e.target,n=BC(s,t);MC(n)?(e.preventDefault(),Ry(s,n).each(y)):p(t)&&Ry(s,t).each(y)},!0),s.on("mousedown",function(e){var t=e.target;if((t===f||"HTML"===t.nodeName||l.isChildOf(t,f))&&!1!==Cb(s,e.clientX,e.clientY)){var n=BC(s,t);if(n)MC(n)?(e.preventDefault(),Ry(s,n).each(y)):(_(),LC(n)&&e.shiftKey||Rf(e.clientX,e.clientY,u.getRng())||(w(),u.placeCaretAt(e.clientX,e.clientY)));else if(p(t))Ry(s,t).each(y);else if(!1===_c(t)){_(),w();var i=Bw(f,e.clientX,e.clientY);if(i&&!o(t,i.node)){e.preventDefault();var r=g(1,i.node,i.before,!1);s.getBody().focus(),m(r)}}}}),s.on("keypress",function(e){Mf.modifierPressed(e)||MC(u.getNode())&&e.preventDefault()}),s.on("GetSelectionRange",function(e){var t=e.range;if(a){if(!a.parentNode)return void(a=null);(t=t.cloneRange()).selectNode(a),e.range=t}}),s.on("SetSelectionRange",function(e){e.range=i(e.range);var t=y(e.range,e.forward);t&&(e.range=t)});s.on("AfterSetSelectionRange",function(e){var t=e.range,n=t.startContainer.parentNode;v(t)||function(e){return"mcepastebin"===e.id}(n)||w(),function(e){return l.hasClass(e,"mce-offscreen-selection")}(n)||_()}),s.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!pt.ie){var n=function(){var e=l.get(h);return e?e.getElementsByTagName("*")[0]:e}();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText||n.innerText))}}),RC(s),function(n){var e=ps(function(){if(!n.removed&&n.getBody().contains(document.activeElement)){var e=n.selection.getRng();if(e.collapsed){var t=My(n,e,!1);n.selection.setRng(t)}}},0);n.on("focus",function(){e.throttle()}),n.on("blur",function(){e.cancel()})}(s),function(r){r.on("init",function(){r.on("focusin",function(e){var t=e.target;if(jn(t)){var n=If(r.getBody(),t),i=Mn(n)?n:t;r.selection.getNode()!==i&&Ry(r,i).each(function(e){return r.selection.setRng(e)})}})})}(s)}(),{showCaret:g,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Cr(e),m(n()),u.scrollIntoView(e))},hideFakeCaret:w,destroy:function(){d.destroy(),a=null}}},FC=function(a){var r,n,i,o=yt.each,s=Mf.BACKSPACE,u=Mf.DELETE,c=a.dom,l=a.selection,e=a.parser,t=pt.gecko,f=pt.ie,d=pt.webkit,h="data:text/mce-internal,",p=f?"Text":"URL",m=function(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(e){}},g=function(e){return e.isDefaultPrevented()},v=function(){a.shortcuts.add("meta+a",null,"SelectAll")},b=function(){a.on("keydown",function(e){if(!g(e)&&e.keyCode===s&&l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(e){var t;if("HTML"===e.target.nodeName){if(11<pt.ie)return void a.getBody().focus();t=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(t),a.selection.normalize(),a.nodeChanged()}}))},_=q;return a.on("keydown",function(e){var t,n;if(!g(e)&&e.keyCode===Mf.BACKSPACE){var i=(t=l.getRng()).startContainer,r=t.startOffset,o=c.getRoot();if(n=i,t.collapsed&&0===r){for(;n&&n.parentNode&&n.parentNode.firstChild===n&&n.parentNode!==o;)n=n.parentNode;"BLOCKQUOTE"===n.tagName&&(a.formatter.toggle("blockquote",null,n),(t=c.createRng()).setStart(i,0),t.setEnd(i,0),l.setRng(t))}}}),r=function(e){var t=c.create("body"),n=e.cloneContents();return t.appendChild(n),l.serializer.serialize(t,{format:"html"})},a.on("keydown",function(e){var t,n,i=e.keyCode;if(!g(e)&&(i===u||i===s)){if(t=a.selection.isCollapsed(),n=a.getBody(),t&&!c.isEmpty(n))return;if(!t&&!function(e){var t=r(e),n=c.createRng();return n.selectNode(a.getBody()),t===r(n)}(a.selection.getRng()))return;e.preventDefault(),a.setContent(""),n.firstChild&&c.isBlock(n.firstChild)?a.selection.setCursorLocation(n.firstChild,0):a.selection.setCursorLocation(n,0),a.nodeChanged()}}),pt.windowsPhone||a.on("keyup focusin mouseup",function(e){Mf.modifierPressed(e)||l.normalize()},!0),d&&(a.inline||c.bind(a.getDoc(),"mousedown mouseup",function(e){var t;if(e.target===a.getDoc().documentElement)if(t=l.getRng(),a.getBody().focus(),"mousedown"===e.type){if(gr(t.startContainer))return;l.placeCaretAt(e.clientX,e.clientY)}else l.setRng(t)}),a.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==c.getContentEditableParent(t)&&(e.preventDefault(),a.selection.select(t),a.nodeChanged()),"A"===t.nodeName&&c.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),l.select(t))}),Wu(a)&&a.on("init",function(){m("DefaultParagraphSeparator",Wu(a))}),a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(e){e.preventDefault()})}),b(),e.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),pt.iOS?(a.inline||a.on("keydown",function(){document.activeElement===document.body&&a.getWin().focus()}),y(),a.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),11<=pt.ie&&(y(),b()),pt.ie&&(v(),m("AutoUrlDetect",!1),a.on("dragstart",function(e){!function(e){var t,n;e.dataTransfer&&(a.selection.isCollapsed()&&"IMG"===e.target.tagName&&l.select(e.target),0<(t=a.selection.getContent()).length&&(n=h+escape(a.id)+","+escape(t),e.dataTransfer.setData(p,n)))}(e)}),a.on("drop",function(e){if(!g(e)){var t=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(p))&&0<=t.indexOf(h)?(t=t.substr(h.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(e);if(t&&t.id!==a.id){e.preventDefault();var n=Hf(e.x,e.y,a.getDoc());l.setRng(n),function(e,t){a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:e,internal:t}):a.execCommand("mceInsertContent",!1,e)}(t.html,!0)}}})),t&&(a.on("keydown",function(e){if(!g(e)&&e.keyCode===s){if(!a.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode(),n=t.previousSibling;if("HR"===t.nodeName)return c.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(c.remove(n),e.preventDefault())}}}),Range.prototype.getClientRects||a.on("mousedown",function(e){if(!g(e)&&"HTML"===e.target.nodeName){var t=a.getBody();t.blur(),Yi.setEditorTimeout(a,function(){t.focus()})}}),n=function(){var e=c.getAttribs(l.getStart().cloneNode(!1));return function(){var t=l.getStart();t!==a.getBody()&&(c.setAttrib(t,"style",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},i=function(){return!l.isCollapsed()&&c.getParent(l.getStart(),c.isBlock)!==c.getParent(l.getEnd(),c.isBlock)},a.on("keypress",function(e){var t;if(!g(e)&&(8===e.keyCode||46===e.keyCode)&&i())return t=n(),a.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),c.bind(a.getDoc(),"cut",function(e){var t;!g(e)&&i()&&(t=n(),Yi.setEditorTimeout(a,function(){t()}))}),function(e){return e.getParam("readonly")}(a)||a.on("BeforeExecCommand mousedown",function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),Gu(a)||m("enableObjectResizing",!1)}),a.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(c.select("a"),function(e){var t=e.parentNode,n=c.getRoot();if(t.lastChild===e){for(;t&&!c.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}c.add(t,"br",{"data-mce-bogus":1})}})}),a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),pt.mac&&a.on("keydown",function(e){!Mf.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),a.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),b()),{refreshContentEditable:_,isHidden:function(){if(!t||a.removed)return!1;var e=a.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},HC=is.DOM,zC=function(e){return pe(e,function(e){return!1===O(e)})},qC=function(e){var t=e.settings,n=e.editorUpload.blobCache;return zC({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0}(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},WC=function(i){var e=i.dom.getRoot();i.inline||xf(i)&&i.selection.getStart(!0)!==e||gl(e).each(function(e){var t=e.getNode(),n=Dn(t)?gl(t).getOr(e):e;pt.browser.isIE()?function(e,t){var n=wt.fromDom(e.getBody()),i=(Md(e)?C.from(t):C.none()).map(Bd).filter(Ld(n));e.bookmark=i.isSome()?i:e.bookmark}(i,n.toRange()):i.selection.setRng(n.toRange())})},UC=function(e){e.bindPendingEventDelegates(),e.initialized=!0,function(e){e.fire("Init")}(e),e.focus(!0),WC(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(t){t.settings.auto_focus&&Yi.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)}(e)},VC=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},$C=function(e,t){var n=VC(e),i=Xu(e),r=function(){n.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(i)},o=function(){e.removed?r():(e.on("remove",r),UC(e))};Wi.all(function(n,i,r){var e=[new Wi(function(e,t){return VC(n).loadAll(i,e,t)})];return n.inline?e:e.concat([new Wi(function(e,t){return n.ui.styleSheetLoader.loadAll(r,e,t)})])}(e,t,i)).then(o).catch(o)},YC=function(t,e){var n=t.settings,i=t.getDoc(),r=t.getBody();n.browser_spellcheck||n.gecko_spellcheck||(i.body.spellcheck=!1,HC.setAttrib(r,"spellcheck","false")),t.quirks=FC(t),function(e){e.fire("PostRender")}(t);var o=function(e){return e.getParam("directionality",ds.isRtl()?"rtl":void 0)}(t);if(void 0!==o&&(r.dir=o),n.protect&&t.on("BeforeSetContent",function(t){yt.each(n.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),!1===e&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length){var a="";yt.each(t.contentStyles,function(e){a+=e+"\r\n"}),t.dom.addStyle(a)}$C(t,t.contentCSS),n.content_style&&function(e,t){var n=wt.fromDom(e.getBody()),i=Gt(Xt(n)),r=wt.fromTag("style");zn(r,"type","text/css"),rn(r,wt.fromText(t)),rn(i,r),e.on("remove",function(){sn(r)})}(t,n.content_style)},QC=function(t,e){var n=t.settings,i=t.getElement(),r=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(r.open(),r.write(t.iframeHTML),r.close()),t.inline&&(HC.addClass(i,"mce-content-body"),t.contentDocument=r=document,t.contentWindow=window,t.bodyElement=i,t.contentAreaContainer=i);var o=t.getBody();o.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===HC.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable=t.getParam("content_editable_state",!0)),o.disabled=!1,t.editorUpload=$b(t),t.schema=vo(n),t.dom=is(r,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:function(e){return e.getParam("content_css_cors",!1,"boolean")}(t),referrerPolicy:Yu(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(s){var e=Hv(qC(s),s.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r=e.length,o=s.dom,a="data-mce-"+t;r--;)if((i=(n=e[r]).attr(t))&&!n.attr(a)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=o.serializeStyle(o.parseStyle(i),n.name)).length||(i=null),n.attr(a,i),n.attr(t,i)):"tabindex"===t?(n.attr(a,i),n.attr(t,null)):n.attr(a,s.convertURL(i,t,n.name))}}),e.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],i=n.attr("type")||"no/type";0!==i.indexOf("mce-")&&n.attr("type","mce-"+i)}}),s.settings.preserve_cdata&&e.addNodeFilter("#cdata",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name="#comment",n.value="[CDATA["+s.dom.encode(n.value)+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,n=s.schema.getNonEmptyElements();t--;){var i=e[t];i.isEmpty(n)&&0===i.getAll("br").length&&(i.append(new dh("br",1)).shortEnded=!0)}}),e}(t),t.serializer=Vv(function(e){var t=e.settings;return Te(Te({},qC(e)),zC({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}(t),t),t.selection=xv(t.dom,t.getWin(),t.serializer,t),t.annotator=Of(t),t.formatter=Zb(t),t.undoManager=ey(t),t._nodeChangeDispatcher=new wC(t),t._selectionOverrides=jC(t),iw(t),xC(t),cv(t)||kC(t);var a=function(e){return cv(e)?us(null):_C(e)}(t);tw(t,a),function(e){Wu(e)&&e.on("NodeChange",_(aw,e))}(t),oy(t),function(e){e.fire("PreInit")}(t),lv(t).fold(function(){YC(t,!1)},function(e){t.setProgressState(!0),e.then(function(e){t.setProgressState(!1),YC(t,e)},function(e){t.notificationManager.open({type:"error",text:String(e)}),YC(t,!0)})})},KC=is.DOM,XC=function(e){var t=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(e)+"<html><head>";(function(e){return e.getParam("document_base_url","")})(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=function(e){return zu(e,"body_id","tinymce")}(e),i=function(e){return zu(e,"body_class","")}(e);return qu(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+qu(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+i+'" data-id="'+e.id+'"><br></body></html>'},GC=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=function(e,t,n,i){var r=wt.fromTag("iframe");return qn(r,i),qn(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),_s(r,"tox-edit-area__iframe"),r}(e.id,n,t.height,function(e){return e.getParam("iframe_attrs",{})}(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var r=function(e,t){if(document.domain!==window.location.hostname&&pt.browser.isIE()){var n=qb("mce");e[n]=function(){QC(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return KC.setAttrib(t,"src",i),!0}return!1}(e,i);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=i,e.iframeHTML=XC(e),KC.add(t.iframeContainer,i),r},JC=is.DOM,ZC=function(t,n,i){var e=Db.get(i),r=Db.urls[i]||t.documentBaseUrl.replace(/\/$/,"");if(i=yt.trim(i),e&&-1===yt.inArray(n,i)){if(yt.each(Db.dependencies(i),function(e){ZC(t,n,e)}),t.plugins[i])return;try{var o=new e(t,r,t.$);(t.plugins[i]=o).init&&(o.init(t,r),n.push(i))}catch(e){!function(e,t,n){var i=ds.translate(["Failed to initialize plugin: {0}",t]);Lf(e,"PluginLoadError",{message:i}),Mb(i,n),Pb(e,i)}(t,i,e)}}},ek=function(e){return e.replace(/^\-/,"")},tk=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},nk=function(e){var t=e.getElement();return e.inline?tk(null):function(e){var t=JC.create("div");return JC.insertAfter(t,e),tk(t)}(t)},ik=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,W(Zu(e))?function(e){return e.theme.renderUI()}(e):P(Zu(e))?function(e){var t=e.getElement(),n=Zu(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n}(e):nk(e)},rk=function(e){e.fire("ScriptsLoaded"),function(n){var e=yt.trim($u(n)),i=n.ui.registry.getAll().icons,t=Te(Te({},gb.get("default").icons),gb.get(e).icons);ue(t,function(e,t){ve(i,t)||n.ui.registry.addIcon(t,e)})}(e),function(e){var t=Zu(e);if(W(t)){e.settings.theme=ek(t);var n=Tb.get(t);e.theme=new n(e,Tb.urls[t]),e.theme.init&&e.theme.init(e,Tb.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}(e),function(t){var n=[];yt.each(tc(t).split(/[ ,]/),function(e){ZC(t,n,ek(e))})}(e);var t=ik(e);!function(e,t){var n={show:C.from(t.show).getOr(q),hide:C.from(t.hide).getOr(q),disable:C.from(t.disable).getOr(q),isDisabled:C.from(t.isDisabled).getOr(g),enable:function(){e.mode.isReadOnly()||C.from(t.enable).map(m)}};e.ui=Te(Te({},e.ui),n)}(e,C.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,Fb(e),e.inline?QC(e):function(e,t){var n=GC(e,t);t.editorContainer&&(KC.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=KC.isHidden(t.editorContainer)),e.getElement().style.display="none",KC.setAttrib(e.id,"aria-hidden","true"),n||QC(e)}(e,n)},ok=is.DOM,ak=function(e){return"-"===e.charAt(0)},sk=function(e,t){var n=Qu(t),i=function(e){return e.getParam("language_url","","string")}(t);if(!1===ds.hasCode(n)&&"en"!==n){var r=""!==i?i:t.editorManager.baseURL+"/langs/"+n+".js";e.add(r,q,void 0,function(){!function(e,t,n){Ib(e,"LanguageLoadError",Rb("language",t,n))}(t,r,n)})}},uk=function(t,e,n){return C.from(e).filter(function(e){return 0<e.length&&!gb.has(e)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:C.some(e)}})},ck=function(t,n,e){var i=uk(n,"default",e),r=function(e){return C.from(function(e){return e.getParam("icons_url","","string")}(e)).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:C.none()}})}(n).orThunk(function(){return uk(n,$u(n),"")});$(function(e){for(var t=[],n=function(e){t.push(e)},i=0;i<e.length;i++)e[i].each(n);return t}([i,r]),function(e){t.add(e.url,q,void 0,function(){!function(e,t,n){Ib(e,"IconsLoadError",Rb("icons",t,n))}(n,e.url,e.name.getOrUndefined())})})},lk=function(e,t){var n=ss.ScriptLoader;!function(e,t,n,i){var r=Zu(t);if(W(r)){if(!ak(r)&&!Tb.urls.hasOwnProperty(r)){var o=function(e){return e.getParam("theme_url")}(t);o?Tb.load(r,t.documentBaseURI.toAbsolute(o)):Tb.load(r,"themes/"+r+"/theme"+n+".js")}e.loadQueue(function(){Tb.waitFor(r,i)})}else i()}(n,e,t,function(){sk(n,e),ck(n,e,t),function(i,r){yt.each(function(e){return e.getParam("external_plugins")}(i),function(e,t){Db.load(t,e,q,void 0,function(){Lb(i,e,t)}),i.settings.plugins+=" "+t}),yt.each(tc(i).split(/[ ,]/),function(e){if((e=yt.trim(e))&&!Db.urls[e])if(ak(e)){e=e.substr(1,e.length);var t=Db.dependencies(e);yt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},n=Db.createUrl(t,e);Db.load(n.resource,n,q,void 0,function(){Lb(i,n.prefix+n.resource+n.suffix,n.resource)})})}else{var n={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};Db.load(e,n,q,void 0,function(){Lb(i,n.prefix+n.resource+n.suffix,e)})}})}(e,t),n.loadQueue(function(){e.removed||rk(e)},e,function(){e.removed||rk(e)})})},fk=function(t){var e=t.id;ds.setCode(Qu(t));var n=function(){ok.unbind(window,"ready",n),t.render()};if(Eo.Event.domLoaded){if(t.getElement()&&pt.contentEditable){var i=wt.fromDom(t.getElement()),r=function(e){return K(e.dom.attributes,function(e,t){return e[t.name]=t.value,e},{})}(i);t.on("remove",function(){z(i.dom.attributes,function(e){return Vn(i,e.name)}),qn(i,r)}),t.ui.styleSheetLoader=function(e,t){return Ki.forElement(e,{contentCssCors:function(e){return e.getParam("content_css_cors")}(t),referrerPolicy:Yu(t)})}(i,t),!function(e){return e.getParam("inline")}(t)?(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"):t.inline=!0;var o=t.getElement().form||ok.getParent(e,"form");o&&(t.formElement=o,function(e){return e.getParam("hidden_input")}(t)&&!En(t.getElement())&&(ok.insertAfter(ok.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},ok.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!function(e){return e.getParam("submit_patch")}(t)||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=Ab(t),t.notificationManager=Sb(t),function(e){return"xml"===e.getParam("encoding")}(t)&&t.on("GetContent",function(e){e.save&&(e.content=ok.encode(e.content))}),function(e){return e.getParam("add_form_submit_trigger")}(t)&&t.on("submit",function(){t.initialized&&t.save()}),function(e){return e.getParam("add_unload_trigger")}(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),lk(t,t.suffix)}}else ok.bind(window,"ready",n)},dk=function(e,t){return function(e,t){return dv(e).editor.addVisual(t)}(e,t)},hk={"font-size":"size","font-family":"face"},pk=function(n,t,e){return Am(wt.fromDom(e),function(e){return function(t){return Kn(t,n).orThunk(function(){return"font"===Et(t)?ge(hk,n).bind(function(e){return Un(t,e)}):C.none()})}(e)},function(e){return St(wt.fromDom(t),e)})},mk=function(n){return function(t,e){return C.from(e).map(wt.fromDom).filter(Ot).bind(function(e){return pk(n,t,e.dom).or(function(e,t){return C.from(is.DOM.getStyle(t,e,!0))}(n,e.dom))}).getOr("")}},gk=mk("font-size"),vk=l(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},mk("font-family")),bk=function(e){return gl(e.getBody()).map(function(e){var t=e.container();return Nn(t)?t.parentNode:t})},yk=function(e,t){return function(n){return C.from(n.selection.getRng()).bind(function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?C.none():C.from(n.selection.getStart(!0))})}(e).orThunk(_(bk,e)).map(wt.fromDom).filter(Ot).map(t)},_k=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var i=function(e){return yt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(e),r=function(e){return yt.explode(e.getParam("font_size_classes",""))}(e);return r?r[n-1]||t:i[n-1]||t}return t}return t},wk=function(e,t){var n=_k(e,t);e.formatter.toggle("fontname",{value:function(e){var t=e.split(/\s*,\s*/);return H(t,function(e){return-1===e.indexOf(" ")||qe(e,'"')||qe(e,"'")?e:"'"+e+"'"}).join(",")}(n)}),e.nodeChanged()},xk=function(e,t){var n=function(e){var t;return"string"!=typeof e?(t=yt.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}}(t);!function(e,t,n){fv(e).editor.insertContent(t,n)}(e,n.content,n.details)},Ck=yt.each,kk=yt.map,Sk=yt.inArray,Dk=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(t,n,i,e){var r,o=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?function(t){zd(t).each(function(e){return t.selection.setRng(e)})}(a.editor):a.editor.focus(),(e=a.editor.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;var s=t.toLowerCase();if(r=a.commands.exec[s])return r(s,n,i),a.editor.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(Ck(this.editor.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,i))return a.editor.fire("ExecCommand",{command:t,ui:n,value:i}),!(o=!0)}),o)return o;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,n,i))return a.editor.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{o=a.editor.getDoc().execCommand(t,n,i)}catch(e){}return!!o&&(a.editor.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,n){void 0===n&&(n="exec");var i=this;Ck(e,function(t,e){Ck(e.toLowerCase().split(","),function(e){i.commands[n][e]=t})})},e.prototype.addCommand=function(e,r,o){var a=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,t,n,i){return r.call(o||a.editor,t,n,i)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var i=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||i.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var i=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||i.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var o=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":q,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=r.getDoc();try{o.execNativeCommand(e)}catch(e){t=!0}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var i=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");pt.mac&&(i=i.replace(/Ctrl\+/g,"â+")),r.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var e=r.dom.getParent(r.selection.getStart(),"a");e&&r.dom.remove(e,!0)}else r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Ck("left,center,right,justify".split(","),function(e){t!==e&&r.formatter.remove("align"+e)}),"none"!==t&&o.toggleFormat("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t;o.execNativeCommand(e);var n=r.dom.getParent(r.selection.getNode(),"ol,ul");n&&(t=n.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(o.storeSelection(),r.dom.split(t,n),o.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){o.toggleFormat(e)},"ForeColor,HiliteColor":function(e,t,n){o.toggleFormat(e,n)},FontName:function(e,t,n){wk(r,n)},FontSize:function(e,t,n){!function(e,t){e.formatter.toggle("fontsize",{value:_k(e,t)}),e.nodeChanged()}(r,n)},LineHeight:function(e,t,n){!function(e,t){e.undoManager.transact(function(){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})}(r,n)},RemoveFormat:function(e){r.formatter.remove(e)},mceBlockQuote:function(){o.toggleFormat("blockquote")},FormatBlock:function(e,t,n){return o.toggleFormat(n||"p")},mceCleanup:function(){var e=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||r.selection.getNode();i!==r.getBody()&&(o.storeSelection(),r.dom.remove(i,!0),o.restoreSelection())},mceSelectNodeDepth:function(e,t,n){var i=0;r.dom.getParent(r.selection.getNode(),function(e){if(1===e.nodeType&&i++===n)return r.selection.select(e),!1},r.getBody())},mceSelectNode:function(e,t,n){r.selection.select(n)},mceInsertContent:function(e,t,n){xk(r,n)},mceInsertRawHTML:function(e,t,n){r.selection.setContent("tiny_mce_marker");var i=r.getContent();r.setContent(i.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(e,t,n){cC(r,n)},mceToggleFormat:function(e,t,n){o.toggleFormat(n)},mceSetContent:function(e,t,n){r.setContent(n)},"Indent,Outdent":function(e){J_(r,e)},mceRepaint:q,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(e,t,n){r.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(e,t,n){"string"==typeof n&&(n={href:n});var i=r.dom.getParent(r.selection.getNode(),"a");n.href=n.href.replace(/ /g,"%20"),i&&n.href||r.formatter.remove("link"),n.href&&r.formatter.apply("link",n,i)},selectAll:function(){var e=r.dom.getParent(r.selection.getStart(),Ln);if(e){var t=r.dom.createRng();t.selectNodeContents(e),r.selection.setRng(t)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(e,t,n){return Kx(r,n),!0}});var e=function(i){return function(){var e=r.selection,t=e.isCollapsed()?[r.dom.getParent(e.getNode(),r.dom.isBlock)]:e.getSelectedBlocks(),n=kk(t,function(e){return!!r.formatter.matchNode(e,i)});return-1!==Sk(n,!0)}};o.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return o.isFormatMatch(e)},mceBlockQuote:function(){return o.isFormatMatch("blockquote")},Outdent:function(){return K_(r)},"InsertUnorderedList,InsertOrderedList":function(e){var t=r.dom.getParent(r.selection.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),o.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),o.addQueryValueHandler("FontName",function(){return function(t){return yk(t,function(e){return vk(t.getBody(),e.dom)}).getOr("")}(r)},this),o.addQueryValueHandler("FontSize",function(){return function(t){return yk(t,function(e){return gk(t.getBody(),e.dom)}).getOr("")}(r)},this),o.addQueryValueHandler("LineHeight",function(){return function(t){return yk(t,function(n){var e=wt.fromDom(t.getBody());return Am(n,function(e){return Kn(e,"line-height")},_(St,e)).getOrThunk(function(){var e=parseFloat(Yn(n,"line-height")),t=parseFloat(Yn(n,"font-size"));return String(e/t)})}).getOr("")}(r)},this)},e}(),Tk="data-mce-contenteditable",Ek=function(e,t,n){xs(e,t)&&!1===n?function(e,t){vs(e)?e.dom.classList.remove(t):ys(e,t);ws(e)}(e,t):n&&_s(e,t)},Nk=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},Ak=function(e,t){e.dom.contentEditable=t?"true":"false"},Ok=function(e,t){var n=wt.fromDom(e.getBody());Ek(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),function(e){C.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})}(e),e.readonly=!0,Ak(n,!1),function(e){$(ks(e,'*[contenteditable="true"]'),function(e){zn(e,Tk,"true"),Ak(e,!1)})}(n)):(e.readonly=!1,Ak(n,!0),function(e){$(ks(e,"*["+Tk+'="true"]'),function(e){Vn(e,Tk),Ak(e,!0)})}(n),Nk(e,"StyleWithCSS",!1),Nk(e,"enableInlineTableEditing",!1),Nk(e,"enableObjectResizing",!1),eh(e)&&e.focus(),function(e){e.selection.setRng(e.selection.getRng())}(e),e.nodeChanged())},Pk=function(e){return e.readonly},Ik=function(t){t.parser.addAttributeFilter("contenteditable",function(e){Pk(t)&&$(e,function(e){e.attr(Tk,e.attr("contenteditable")),e.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Tk,function(e){Pk(t)&&$(e,function(e){e.attr("contenteditable",e.attr(Tk))})}),t.serializer.addTempAttr(Tk)},Rk=function(n,i){if(function(e){return"click"===e.type}(i)&&!Mf.metaKeyPressed(i)){var e=wt.fromDom(i.target);(function(t,e){return qi(e,"a",function(e){return St(e,wt.fromDom(t.getBody()))}).bind(function(e){return Un(e,"href")})})(n,e).each(function(e){if(i.preventDefault(),/^#/.test(e)){var t=n.dom.select(e+',[name="'+function(e,t){return qe(e,t)?function(e,t){return e.substring(t)}(e,t.length):e}(e,"#")+'"]');t.length&&n.selection.scrollIntoView(t[0],!0)}else window.open(e,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},Lk=yt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Mk=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||g}return e.isNative=function(e){return!!Lk[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),i=t||{};i.type=n,i.target||(i.target=this.scope),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=v},i.stopPropagation=function(){i.isPropagationStopped=v},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=v},i.isDefaultPrevented=g,i.isPropagationStopped=g,i.isImmediatePropagationStopped=g),this.settings.beforeFire&&this.settings.beforeFire(i);var r=this.bindings[n];if(r)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s.once&&this.off(n,s.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===s.func.call(this.scope,i))return i.preventDefault(),i}return i},e.prototype.on=function(e,t,n,i){if(!1===t&&(t=g),t){var r={func:t};i&&yt.extend(r,i);for(var o=e.toLowerCase().split(" "),a=o.length;a--;){var s=o[a],u=this.bindings[s];u||(u=this.bindings[s]=[],this.toggleEvent(s,!0)),n?u.unshift(r):u.push(r)}}return this},e.prototype.off=function(e,t){var n=this;if(e)for(var i=e.toLowerCase().split(" "),r=i.length;r--;){var o=i[r],a=this.bindings[o];if(!o)return ue(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;if(a){if(t)for(var s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),this.bindings[o]=a);else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}else ue(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),Bk=function(n){return n._eventDispatcher||(n._eventDispatcher=new Mk({scope:n,toggleEvent:function(e,t){Mk.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher},jk={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var i=Bk(this).fire(e,t);if(!1!==n&&this.parent)for(var r=this.parent();r&&!i.isPropagationStopped();)r.fire(e,i,!1),r=r.parent();return i},on:function(e,t,n){return Bk(this).on(e,t,n)},off:function(e,t){return Bk(this).off(e,t)},once:function(e,t){return Bk(this).once(e,t)},hasEventListeners:function(e){return Bk(this).has(e)}},Fk=is.DOM,Hk=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Ju(e);return n?(e.eventRoot||(e.eventRoot=Fk.select(n)[0]),e.eventRoot):e.getBody()},zk=function(e,t,n){!function(e){return!e.hidden&&!Pk(e)}(e)?Pk(e)&&Rk(e,n):e.fire(t,n)},qk=function(o,a){var e;if(o.delegates||(o.delegates={}),!o.delegates[a]&&!o.removed){var t=Hk(o,a);if(Ju(o)){if(xw||(xw={},o.editorManager.on("removeEditor",function(){o.editorManager.activeEditor||xw&&(ue(xw,function(e,t){o.dom.unbind(Hk(o,t))}),xw=null)})),xw[a])return;e=function(e){for(var t=e.target,n=o.editorManager.get(),i=n.length;i--;){var r=n[i].getBody();(r===t||Fk.isChildOf(t,r))&&zk(n[i],a,e)}},xw[a]=e,Fk.bind(t,a,e)}else e=function(e){zk(o,a,e)},Fk.bind(t,a,e),o.delegates[a]=e}},Wk=Te(Te({},jk),{bindPendingEventDelegates:function(){var t=this;yt.each(t._pendingNativeEvents,function(e){qk(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?qk(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Hk(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var n=this,e=n.getBody(),t=n.dom;n.delegates&&(ue(n.delegates,function(e,t){n.dom.unbind(Hk(n,t),t,e)}),delete n.delegates),!n.inline&&e&&t&&(e.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc())),t&&(t.unbind(e),t.unbind(n.getContainer()))}}),Uk=["design","readonly"],Vk=function(e,t,n,i){var r=n[t.get()],o=n[i];try{o.activate()}catch(e){return void console.error("problem while activating editor mode "+i+":",e)}r.deactivate(),r.editorReadOnly!==o.editorReadOnly&&Ok(e,o.editorReadOnly),t.set(i),function(e,t){e.fire("SwitchMode",{mode:t})}(e,i)},$k=function(t){var n=us("design"),i=us({design:{activate:q,deactivate:q,editorReadOnly:!1},readonly:{activate:q,deactivate:q,editorReadOnly:!0}});return function(e){e.serializer?Ik(e):e.on("PreInit",function(){Ik(e)})}(t),function(t){t.on("ShowCaret",function(e){Pk(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){Pk(t)&&e.preventDefault()})}(t),{isReadOnly:function(){return Pk(t)},set:function(e){return function(e,t,n,i){if(i!==n.get()){if(!ve(t,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?Vk(e,n,t,i):e.on("init",function(){return Vk(e,n,t,i)})}}(t,i.get(),n,e)},get:function(){return n.get()},register:function(e,t){i.set(function(e,t,n){var i;if(j(Uk,t))throw new Error("Cannot override default mode "+t);return Te(Te({},e),((i={})[t]=Te(Te({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),i))}(i.get(),e,t))}}},Yk=yt.each,Qk=yt.explode,Kk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Xk=yt.makeMap("alt,ctrl,shift,meta,access"),Gk=function(e){var t,n={};Yk(Qk(e.toLowerCase(),"+"),function(e){e in Xk?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=Kk[e]||e.toUpperCase().charCodeAt(0))});var i=[n.keyCode];for(t in Xk)n[t]?i.push(t):n[t]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,pt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(pt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},Jk=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on("keyup keypress keydown",function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(Yk(n.shortcuts,function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e),!0}),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(e,n,t,i){var r=this,o=r.normalizeCommandFunc(t);return Yk(Qk(yt.trim(e)),function(e){var t=r.createShortcut(e,n,o,i);r.shortcuts[t.id]=t}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:yt.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(e,t,n,i){var r=yt.map(Qk(e,">"),Gk);return r[r.length-1]=yt.extend(r[r.length-1],{func:n,scope:i||this.editor}),yt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),Zk=function(){var e=function(){var e={},t={},n={},i={},r={},o={},a={},s=function(n,i){return function(e,t){return n[e.toLowerCase()]=Te(Te({},t),{type:i})}};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(r,"contextmenu"),addContextToolbar:s(o,"contexttoolbar"),addContextForm:s(o,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(e,t){return i[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:i,popups:n,contextMenus:r,contextToolbars:o,sidebars:a}}}}();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},eS=yt.each,tS=yt.trim,nS="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),iS={ftp:21,http:80,https:443,mailto:25},rS=function(){function u(e,t){e=tS(e),this.settings=t||{};var n=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))i.source=e;else{var r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var o=this.settings.base_uri?this.settings.base_uri.path:new u(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+i.toAbsPath(o,e);else{var a=/([^#?]*)([#?]?.*)/.exec(e);e=(n&&n.protocol||"http")+"://mce_host"+i.toAbsPath(o,a[1])+a[2]}}e=e.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);eS(nS,function(e,t){var n=s[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),n&&(i.protocol||(i.protocol=n.protocol),i.userInfo||(i.userInfo=n.userInfo),i.port||"mce_host"!==i.host||(i.port=n.port),i.host&&"mce_host"!==i.host||(i.host=n.host),i.source=""),r&&(i.protocol="")}}return u.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(t=i[1]),{type:t,data:n[1]}},u.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},u.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},u.prototype.toRelative=function(e){var t;if("./"===e)return e;var n=new u(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var i=this.getURI(),r=n.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(t=this.toRelPath(this.path,n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),t)},u.prototype.toAbsolute=function(e,t){var n=new u(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))},u.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=iS[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},u.prototype.toRelPath=function(e,t){var n,i,r=0,o="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,i=a.length;n<i;n++)if(n>=s.length||a[n]!==s[n]){r=n+1;break}if(a.length<s.length)for(n=0,i=s.length;n<i;n++)if(n>=a.length||a[n]!==s[n]){r=n+1;break}if(1===r)return t;for(n=0,i=a.length-(r-1);n<i;n++)o+="../";for(n=r-1,i=s.length;n<i;n++)o+=n!==r-1?"/"+s[n]:s[n];return o},u.prototype.toAbsPath=function(e,t){var n,i,r=0,o=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),u=t.split("/");for(eS(s,function(e){e&&o.push(e)}),s=o,n=u.length-1,o=[];0<=n;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?0<r?r--:o.push(u[n]):r++);return 0!==(i=(n=s.length-r)<=0?ee(o).join("/"):s.slice(0,n).join("/")+"/"+ee(o).join("/")).indexOf("/")&&(i="/"+i),a&&i.lastIndexOf("/")!==i.length-1&&(i+=a),i},u.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},u}(),oS=is.DOM,aS=yt.extend,sS=yt.each,uS=yt.resolve,cS=pt.ie,lS=function(){function e(e,t,n){var i=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,aS(this,Wk),this.settings=hb(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(ss.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),is.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),hs.languageLoad=this.settings.language_load,hs.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new rS(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Jk(this),this.editorCommands=new Dk(this),this.settings.cache_suffix&&(pt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Zk(),styleSheetLoader:void 0,show:q,hide:q,enable:q,disable:q,isDisabled:g};var r=$k(this);this.mode=r,this.setMode=r.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Xa.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}return e.prototype.render=function(){fk(this)},e.prototype.focus=function(e){nh(this,e)},e.prototype.hasFocus=function(){return Zd(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this.settings[e];if(r)return this.callbackLookup&&(i=this.callbackLookup[e])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?uS(i):0,r=uS(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:i}),r.apply(i||this,t)},e.prototype.translate=function(e){return ds.translate(e)},e.prototype.getParam=function(e,t,n){return mb(this,e,t,n)},e.prototype.hasPlugin=function(e,t){return!!j(tc(this).split(/[ ,]/),e)&&(!t||void 0!==Db.get(e))},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,i){this.shortcuts.add(e,t,n,i)},e.prototype.execCommand=function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(oS.show(this.getContainer()),oS.hide(this.id)),this.load(),this.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(cS&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(oS.hide(e.getContainer()),oS.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this.getElement();if(this.removed)return"";if(n){(e=e||{}).load=!0;var i=En(n)?n.value:n.innerHTML;return t=this.setContent(i,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t}},e.prototype.save=function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,En(r)?r.value=t:(!e.is_removing&&i.inline||(r.innerHTML=t),(n=oS.getParent(i.id,"form"))&&sS(n.elements,function(e){if(e.name===i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},e.prototype.setContent=function(e,t){return Yv(this,e,t)},e.prototype.getContent=function(e){return $v(this,e)},e.prototype.insertContent=function(e,t){t&&(e=aS({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?Yv(this,this.startContent,{format:"raw"}):Yv(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){return this.container||(this.container=oS.get(this.editorContainer||this.id+"_parent")),this.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=oS.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},e.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},e.prototype.addVisual=function(e){dk(this,e)},e.prototype.remove=function(){Xv(this)},e.prototype.destroy=function(e){Gv(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),fS=is.DOM,dS=yt.explode,hS=yt.each,pS=yt.extend,mS=0,gS=!1,vS=[],bS=[],yS=function(t){var n=t.type;hS(CS.get(),function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t)}})},_S=function(e){e!==gS&&(e?Xa(window).on("resize scroll",yS):Xa(window).off("resize scroll",yS),gS=e)},wS=function(t){var e=bS;delete vS[t.id];for(var n=0;n<vS.length;n++)if(vS[n]===t){vS.splice(n,1);break}return bS=Y(bS,function(e){return t!==e}),CS.activeEditor===t&&(CS.activeEditor=0<bS.length?bS[0]:null),CS.focusedEditor===t&&(CS.focusedEditor=null),e.length!==bS.length},xS="CSS1Compat"!==document.compatMode,CS=Te(Te({},jk),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Xa,majorVersion:"5",minorVersion:"7.1",releaseDate:"2021-03-17",editors:vS,i18n:ds,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n="";t=rS.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,n=i.suffix;else{for(var r=document.getElementsByTagName("script"),o=0;o<r.length;o++){var a;if(""!==(a=r[o].src||"")){var s=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==s.indexOf(".min")&&(n=".min"),e=a.substring(0,a.lastIndexOf("/"));break}}}if(!e&&document.currentScript)-1!==(a=document.currentScript.src).indexOf(".min")&&(n=".min"),e=a.substring(0,a.lastIndexOf("/"))}this.baseURL=new rS(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new rS(this.baseURL),this.suffix=n,function(e){e.on("AddEditor",_(Yd,e)),e.on("RemoveEditor",_(Qd,e))}(this)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;void 0!==i&&ue(i,function(e,t){hs.PluginManager.urls[t]=e})},init:function(i){var n,s=this,u=yt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(e){var t=e.id;return t||(t=ge(e,"name").filter(function(e){return!fS.get(e)}).getOrThunk(fS.uniqueId),e.setAttribute("id",t)),t},l=function(e,t){return t.constructor===RegExp?t.test(e.className):fS.hasClass(e,t)},f=function(e){n=e},e=function(){var r,o=0,a=[],n=function(e,t,n){var i=new lS(e,t,s);a.push(i),i.on("init",function(){++o===r.length&&f(a)}),i.targetElm=i.targetElm||n,i.render()};fS.unbind(window,"ready",e),function(e){var t=i[e];if(t)t.apply(s,[])}("onpageload"),r=Xa.unique(function(t){var n=[];if(pt.browser.isIE()&&pt.browser.version.major<11)return Mb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(xS)return Mb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return hS(t.types,function(e){n=n.concat(fS.select(e.selector))}),n;if(t.selector)return fS.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var e=t.elements||"";0<e.length&&hS(dS(e),function(t){var e=fS.get(t);e?n.push(e):hS(document.forms,function(e){hS(e.elements,function(e){e.name===t&&(t="mce_editor_"+mS++,fS.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":hS(fS.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}return n}(i)),i.types?hS(i.types,function(t){yt.each(r,function(e){return!fS.is(e,t.selector)||(n(c(e),pS({},i,t),e),!1)})}):(yt.each(r,function(e){!function(e){e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(wS(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}(s.get(e.id))}),0===(r=yt.grep(r,function(e){return!s.get(e.id)})).length?f([]):hS(r,function(e){!function(e,t){return e.inline&&t.tagName.toLowerCase()in u}(i,e)?n(c(e),i,e):Mb("Could not initialize inline editor on invalid inline target element",e)}))};return s.settings=i,fS.bind(window,"ready",e),new Wi(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?bS.slice(0):W(t)?X(bS,function(e){return e.id===t}).getOr(null):I(t)&&bS[t]?bS[t]:null},add:function(e){var n=this;return vS[e.id]===e||(null===n.get(e.id)&&(function(e){return"length"!==e}(e.id)&&(vS[e.id]=e),vS.push(e),bS.push(e)),_S(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),Cw||(Cw=function(e){var t=n.fire("BeforeUnload");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener("beforeunload",Cw))),e},createEditor:function(e,t){return this.add(new lS(e,t,this))},remove:function(e){var t,n,i=this;if(e){if(!W(e))return n=e,N(i.get(n.id))?null:(wS(n)&&i.fire("RemoveEditor",{editor:n}),0===bS.length&&window.removeEventListener("beforeunload",Cw),n.remove(),_S(0<bS.length),n);hS(fS.select(e),function(e){(n=i.get(e.id))&&i.remove(n)})}else for(t=bS.length-1;0<=t;t--)i.remove(bS[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new lS(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){hS(bS,function(e){e.save()})},addI18n:function(e,t){ds.add(e,t)},translate:function(e){return ds.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new rS(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new rS(this.baseURL)}});CS.setup();var kS,SS,DS,TS,ES=Math.min,NS=Math.max,AS=Math.round,OS=function(e,t,n){var i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,u=t.h,c=(n||"").split("");return"b"===c[0]&&(r+=u),"r"===c[1]&&(i+=s),"c"===c[0]&&(r+=AS(u/2)),"c"===c[1]&&(i+=AS(s/2)),"b"===c[3]&&(r-=a),"r"===c[4]&&(i-=o),"c"===c[3]&&(r-=AS(a/2)),"c"===c[4]&&(i-=AS(o/2)),PS(i,r,o,a)},PS=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},IS={inflate:function(e,t,n){return PS(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:OS,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=OS(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n=NS(e.x,t.x),i=NS(e.y,t.y),r=ES(e.x+e.w,t.x+t.w),o=ES(e.y+e.h,t.y+t.h);return r-n<0||o-i<0?null:PS(n,i,r-n,o-i)},clamp:function(e,t,n){var i=e.x,r=e.y,o=e.x+e.w,a=e.y+e.h,s=t.x+t.w,u=t.y+t.h,c=NS(0,t.x-i),l=NS(0,t.y-r),f=NS(0,o-s),d=NS(0,a-u);return i+=c,r+=l,n&&(o+=c,a+=l,i-=f,r-=d),PS(i,r,(o-=f)-i,(a-=d)-r)},create:PS,fromClientRect:function(e){return PS(e.left,e.top,e.width,e.height)}},RS=(kS={},SS={},{load:function(i,r){var o='Script at URL "'+r+'" failed to load',a='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+i+"', data)` within 1 second";if(void 0!==kS[i])return kS[i];var e=new Wi(function(e,t){var n=function(e,t,n){void 0===n&&(n=1e3);var i=!1,r=null,o=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i||(i=!0,null!==r&&(clearTimeout(r),r=null),n.apply(null,e))}},a=o(e),s=o(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i||null!==r||(r=setTimeout(function(){return s.apply(null,e)},n))},resolve:a,reject:s}}(e,t);SS[i]=n.resolve,ss.ScriptLoader.loadScript(r,function(){return n.start(a)},function(){return n.reject(o)})});return kS[i]=e},add:function(e,t){void 0!==SS[e]&&(SS[e](t),delete SS[e]),kS[e]=Wi.resolve(t)}}),LS=yt.each,MS=yt.extend,BS=function(){};BS.extend=DS=function(n){var r=this.prototype,i=function(){var e,t,n;if(!TS&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},t=function(){return this};TS=!0;var o=new this;return TS=!1,n.Mixins&&(LS(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),r.Mixins&&(n.Mixins=r.Mixins.concat(n.Mixins))),n.Methods&&LS(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&LS(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&LS(n.Statics,function(e,t){i[t]=e}),n.Defaults&&r.Defaults&&(n.Defaults=MS({},r.Defaults,n.Defaults)),ue(n,function(e,t){"function"==typeof e&&r[t]?o[t]=function(n,i){return function(){var e=this._super;this._super=r[n];var t=i.apply(this,arguments);return this._super=e,t}}(t,e):o[t]=e}),i.prototype=o,(i.constructor=i).extend=DS,i};var jS,FS,HS,zS,qS=Math.min,WS=Math.max,US=Math.round,VS={serialize:function(e){var t=JSON.stringify(e);return W(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(e){}}},$S={callbacks:{},count:0,send:function(t){var n=this,i=is.DOM,r=void 0!==t.count?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}},YS=Te(Te({},jk),{send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):Yi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",YS.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&yt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=YS.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return i();Yi.setTimeout(i,10)}}),QS=yt.extend,KS=function(){function t(e){this.settings=QS({},e),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(e){var n=e.error,i=e.success,r=QS(this.settings,e);r.success=function(e,t){void 0===(e=VS.parse(e))&&(e={error:"JSON Parse error."}),e.error?n.call(r.error_scope||r.scope,e.error,t):i.call(r.success_scope||r.scope,e.result)},r.error=function(e,t){n&&n.call(r.error_scope||r.scope,e,t)},r.data=VS.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",YS.send(r)},t}();try{var XS="__storage_test__";(jS=window.localStorage).setItem(XS,XS),jS.removeItem(XS)}catch(e){FS={},HS=[],zS={getItem:function(e){var t=FS[e];return t||null},setItem:function(e,t){HS.push(e),FS[e]=String(t)},key:function(e){return HS[e]},removeItem:function(t){HS=HS.filter(function(e){return e===t}),delete FS[t]},clear:function(){HS=[],FS={}},length:0},Object.defineProperty(zS,"length",{get:function(){return HS.length},configurable:!1,enumerable:!1}),jS=zS}var GS,JS={geom:{Rect:IS},util:{Promise:Wi,Delay:Yi,Tools:yt,VK:Mf,URI:rS,Class:BS,EventDispatcher:Mk,Observable:jk,I18n:ds,XHR:YS,JSON:VS,JSONRequest:KS,JSONP:$S,LocalStorage:jS,Color:function(e){var n={},s=0,u=0,c=0,t=function(e){var t;return"object"==typeof e?"r"in e?(s=e.r,u=e.g,c=e.b):"v"in e&&function(e,t,n){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=WS(0,qS(t,1)),n=WS(0,qS(n,1)),0!==t){var i=e/60,r=n*t,o=r*(1-Math.abs(i%2-1)),a=n-r;switch(Math.floor(i)){case 0:s=r,u=o,c=0;break;case 1:s=o,u=r,c=0;break;case 2:s=0,u=r,c=o;break;case 3:s=0,u=o,c=r;break;case 4:s=o,u=0,c=r;break;case 5:s=r,u=0,c=o;break;default:s=u=c=0}s=US(255*(s+a)),u=US(255*(u+a)),c=US(255*(c+a))}else s=u=c=US(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),u=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),u=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),u=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,u=u<0?0:255<u?255:u,c=c<0?0:255<c?255:c,n};return e&&t(e),n.toRgb=function(){return{r:s,g:u,b:c}},n.toHsv=function(){return function(e,t,n){var i,r;r=0;var o=qS(e/=255,qS(t/=255,n/=255)),a=WS(e,WS(t,n));return o===a?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:US(60*((e===o?3:n===o?1:5)-(e===o?t-n:n===o?e-t:n-e)/((r=a)-o))),s:US(100*i),v:US(100*r)})}(s,u,c)},n.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(s)+e(u)+e(c)},n.parse=t,n},ImageUploader:function(n){var e=Hb(),i=Vb(n,e);return{upload:function(e,t){return void 0===t&&(t=!0),i.upload(e,t?Ub(n):void 0)}}}},dom:{EventUtils:Eo,Sizzle:la,DomQuery:Xa,TreeWalker:Xi,TextSeeker:Fs,DOMUtils:is,ScriptLoader:ss,RangeUtils:Gf,Serializer:Vv,StyleSheetLoader:Qi,ControlSelection:jf,BookmarkManager:Pf,Selection:xv,Event:Eo.Event},html:{Styles:yo,Entities:ao,Node:dh,Schema:vo,SaxParser:bh,DomParser:Hv,Writer:Th,Serializer:Eh},Env:pt,AddOnManager:hs,Annotator:Of,Formatter:Zb,UndoManager:ey,EditorCommands:Dk,WindowManager:Ab,NotificationManager:Sb,EditorObservable:Wk,Shortcuts:Jk,Editor:lS,FocusManager:qd,EditorManager:CS,DOM:is.DOM,ScriptLoader:ss.ScriptLoader,PluginManager:Db,ThemeManager:Tb,IconManager:gb,Resource:RS,trim:yt.trim,isArray:yt.isArray,is:yt.is,toArray:yt.toArray,makeMap:yt.makeMap,each:yt.each,map:yt.map,grep:yt.grep,inArray:yt.inArray,extend:yt.extend,create:yt.create,walk:yt.walk,createNS:yt.createNS,resolve:yt.resolve,explode:yt.explode,_addCacheSuffix:yt._addCacheSuffix,isOpera:pt.opera,isWebKit:pt.webkit,isIE:pt.ie,isGecko:pt.gecko,isMac:pt.mac},ZS=yt.extend(CS,JS);GS=ZS,window.tinymce=GS,window.tinyMCE=GS,function(e){if("object"==typeof module)try{module.exports=e}catch(e){}}(ZS)}(),function(){"use strict";var t,e,n,i,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.VK"),a=function(t){return function(e){return function(e){var t=typeof e;return null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===t}},s=function(t){return function(e){return typeof e===t}},u=a("string"),c=a("array"),l=(t=null,function(e){return t===e}),f=s("boolean"),d=s("function"),h=function(e){var t=e.getParam("link_assume_external_targets",!1);return f(t)&&t?1:!u(t)||"http"!==t&&"https"!==t?0:t},p=function(e){return e.getParam("default_link_target")},m=function(e){return e.getParam("target_list",!0)},g=function(e){return e.getParam("rel_list",[],"array")},v=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},b=function(){},y=function(e){return function(){return e}},_=y(!1),w=y(!0),x=function(){return C},C=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:_,isSome:_,isNone:w,getOr:i=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:i,orThunk:n,map:x,each:b,bind:x,exists:_,forall:w,filter:x,equals:e,equals_:e,toArray:function(){return[]},toString:y("none()")}),k=function(n){var e=y(n),t=function(){return r},i=function(e){return e(n)},r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:w,isNone:_,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return k(e(n))},each:function(e){e(n)},bind:i,exists:i,forall:i,filter:function(e){return e(n)?r:C},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(_,function(e){return t(n,e)})}};return r},S={some:k,none:x,from:function(e){return null==e?C:k(e)}},D=Array.prototype.indexOf,T=Array.prototype.push,E=function(e,t){return-1<function(e,t){return D.call(e,t)}(e,t)},N=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t},A=function(e,t){return N(function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i}(e,t))},O=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n],n);if(i.isSome())return i}return S.none()},P=function(e,t){return e?S.some(t):S.none()},I=tinymce.util.Tools.resolve("tinymce.util.Tools"),R=function(e){return u(e.value)?e.value:""},L=function(e,r){var o=[];return I.each(e,function(e){var t=function(e){return u(e.text)?e.text:u(e.title)?e.title:""}(e);if(void 0!==e.menu){var n=L(e.menu,r);o.push({text:t,items:n})}else{var i=r(e);o.push({text:t,value:i})}}),o},M=function(t){return void 0===t&&(t=R),function(e){return S.from(e).map(function(e){return L(e,t)})}},B={sanitize:function(e){return M(R)(e)},sanitizeWith:M,createUi:function(t,n){return function(e){return{name:t,type:"listbox",label:n,items:e}}},getValue:R},j=function(){return(j=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},F=Object.keys,H=Object.hasOwnProperty,z=function(e,n,i,r){return function(e,t){for(var n=F(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}}(e,function(e,t){(n(e,t)?i:r)(e,t)}),{}},q=function(e,t){return H.call(e,t)},W=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),U=function(e){return e&&"a"===e.nodeName.toLowerCase()},V=function(e){return U(e)&&!!Q(e)},$=function(e,t){if(e.collapsed)return[];for(var n=e.cloneContents(),i=new W(n.firstChild,n),r=[],o=n.firstChild;t(o)&&r.push(o),o=i.next(););return r},Y=function(e){return/^\w+:/i.test(e)},Q=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},K=function(e,t){var n,i,r=["noopener"],o=e?e.split(/\s+/):[],a=function(e){return e.filter(function(e){return-1===I.inArray(r,e)})},s=t?0<(n=a(n=o)).length?n.concat(r):r:a(o);return 0<s.length?(i=s,I.trim(i.sort().join(" "))):""},X=function(e,t){return t=t||e.selection.getNode(),ee(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},G=function(e,t){return function(e){return e.replace(/\uFEFF/g,"")}(t?t.innerText||t.textContent:e.getContent({format:"text"}))},J=function(e){return 0<I.grep(e,V).length},Z=function(e){var t=e.schema.getTextInlineElements();return 0===$(e.selection.getRng(),function(e){return 1===e.nodeType&&!U(e)&&!q(t,e.nodeName.toLowerCase())}).length},ee=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},te=function(e,t){var n=j({},t);if(!(0<g(e).length)&&!1===v(e)){var i=K(n.rel,"_blank"===n.target);n.rel=i||null}return S.from(n.target).isNone()&&!1===m(e)&&(n.target=p(e)),n.href=function(e,t){return"http"!==t&&"https"!==t||Y(e)?e:t+"://"+e}(n.href,h(e)),n},ne=function(e,t,n){var i=e.selection.getNode(),r=X(e,i),o=te(e,function(e){return function(e,t,n){return function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)}(e,function(e){n=t(n,e)}),n}(["title","rel","class","target"],function(t,n){return e[n].each(function(e){t[n]=0<e.length?e:null}),t},{href:e.href})}(n));e.undoManager.transact(function(){n.href===t.href&&t.attach(),r?(e.focus(),function(e,t,n,i){n.each(function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,i),e.selection.select(t)}(e,r,n.text,o)):function(t,e,n,i){ee(e)?se(t,e,i):n.fold(function(){t.execCommand("mceInsertLink",!1,i)},function(e){t.insertContent(t.dom.createHTML("a",i,t.dom.encode(e)))})}(e,i,n.text,o)})},ie=function(e){var t=e.class,n=e.href,i=e.rel,r=e.target,o=e.text,a=e.title;return function(e,t){var n={};return z(e,t,function(n){return function(e,t){n[t]=e}}(n),b),n}({class:t.getOrNull(),href:n,rel:i.getOrNull(),target:r.getOrNull(),text:o.getOrNull(),title:a.getOrNull()},function(e,t){return!1===l(e)})},re=function(e,t,n){e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ie(n)):ne(e,t,n)},oe=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):function(t){t.undoManager.transact(function(){var e=t.selection.getNode();ee(e)?ae(t,e):function(e){var t=e.dom,n=e.selection,i=n.getBookmark(),r=n.getRng().cloneRange(),o=t.getParent(r.startContainer,"a[href]",e.getBody()),a=t.getParent(r.endContainer,"a[href]",e.getBody());o&&r.setStartBefore(o),a&&r.setEndAfter(a),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(i)}(t),t.focus()})}(e)},ae=function(e,t){var n=e.dom.select("img",t)[0];if(n){var i=e.dom.getParents(n,"a[href]",t)[0];i&&(i.parentNode.insertBefore(n,i),e.dom.remove(i))}},se=function(e,t,n){var i=e.dom.select("img",t)[0];if(i){var r=e.dom.create("a",n);i.parentNode.insertBefore(r,i),r.appendChild(i)}},ue=function(e){return function(e,t){return q(e,t)&&void 0!==e[t]&&null!==e[t]}(e,"items")},ce=function(t,e){return O(e,function(e){return ue(e)?ce(t,e.items):P(e.value===t,e)})},le=function(t,e,n,i){var r=i[e],o=0<t.length;return void 0!==r?ce(r,n).map(function(e){return{url:{value:e.value,meta:{text:o?t:e.text,attach:b}},text:o?t:e.text}}):S.none()},fe=function(e,i){var r={text:e.text,title:e.title},o=function(e){var t=function(e){return P(r.text.length<=0,S.from(e.meta.text).getOr(e.value))}(e.url),n=function(e){return P(r.title.length<=0,S.from(e.meta.title).getOr(""))}(e.url);return t.isSome()||n.isSome()?S.some(j(j({},t.map(function(e){return{text:e}}).getOr({})),n.map(function(e){return{title:e}}).getOr({}))):S.none()},a=function(e,t){var n=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:S.none()}(i,t.name).getOr([]);return le(r.text,t.name,n,e)};return{onChange:function(e,t){var n=t.name;return"url"===n?o(e()):E(["anchor","link"],n)?a(e(),t):(("text"===n||"title"===n)&&(r[n]=e()[n]),S.none())}}},de=tinymce.util.Tools.resolve("tinymce.util.Delay"),he=tinymce.util.Tools.resolve("tinymce.util.Promise"),pe=function(e){var t=e.href;return 0<t.indexOf("@")&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?S.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return j(j({},e),{href:"mailto:"+t})}}):S.none()},me=function(e,i){return O([pe,function(n,i){return function(e){var t=e.href;return 1===n&&!Y(t)||0===n&&/^\s*www(\.|\d\.)/i.test(t)?S.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+i+":// prefix?",preprocess:function(e){return j(j({},e),{href:i+"://"+t})}}):S.none()}}(h(e),function(e){return e.getParam("link_default_protocol","http","string")}(e))],function(e){return e(i)}).fold(function(){return he.resolve(i)},function(n){return new he(function(t){!function(t,e,n){var i=t.selection.getRng();de.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(i),n(e)})})}(e,n.message,function(e){t(e?n.preprocess(i):i)})})})},ge=function(e){var t=e.dom.select("a:not([href])"),n=A(t,function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return 0<n.length?S.some([{text:"None",value:""}].concat(n)):S.none()},ve=function(e){var t=function(e){return e.getParam("link_class_list",[],"array")}(e);return 0<t.length?B.sanitize(t):S.none()},be=tinymce.util.Tools.resolve("tinymce.util.XHR"),ye=function(t){var n=function(e){return t.convertURL(e.value||e.url,"href")},e=function(e){return e.getParam("link_list")}(t);return new he(function(t){u(e)?be.send({url:e,success:function(e){return t(function(e){try{return S.some(JSON.parse(e))}catch(e){return S.none()}}(e))},error:function(e){return t(S.none())}}):d(e)?e(function(e){return t(S.some(e))}):t(S.from(e))}).then(function(e){return e.bind(B.sanitizeWith(n)).map(function(e){return 0<e.length?[{text:"None",value:""}].concat(e):e})})},_e=function(e,t){var n=g(e);if(0<n.length){var i=t.is("_blank");return(!1===v(e)?B.sanitizeWith(function(e){return K(B.getValue(e),i)}):B.sanitize)(n)}return S.none()},we=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],xe=function(e){var t=m(e);return c(t)?B.sanitize(t).orThunk(function(){return S.some(we)}):!1===t?S.none():S.some(we)},Ce=function(e,t,n){var i=e.getAttrib(t,n);return null!==i&&0<i.length?S.some(i):S.none()},ke=function(n,i){return ye(n).then(function(e){var t=function(e,t){var n=e.dom,i=Z(e)?S.some(G(e.selection,t)):S.none(),r=t?S.some(n.getAttrib(t,"href")):S.none(),o=t?S.from(n.getAttrib(t,"target")):S.none(),a=Ce(n,t,"rel"),s=Ce(n,t,"class");return{url:r,text:i,title:Ce(n,t,"title"),target:o,rel:a,linkClass:s}}(n,i);return{anchor:t,catalogs:{targets:xe(n),rels:_e(n,t.target),classes:ve(n),anchor:ge(n),link:e},optNode:S.from(i),flags:{titleEnabled:function(e){return e.getParam("link_title",!0,"boolean")}(n)}}})},Se=function(t){(function(e){var t=X(e);return ke(e,t)})(t).then(function(e){return function(e,t,n){var i=e.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],o=function(e,t){var n=e.anchor,i=n.url.getOr("");return{url:{value:i,meta:{original:{value:i}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:i,link:i,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}}(e,S.from(p(n))),a=e.catalogs,s=fe(o,a);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:N([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],i,r,function(e){for(var t=[],n=function(e){t.push(e)},i=0;i<e.length;i++)e[i].each(n);return t}([a.anchor.map(B.createUi("anchor","Anchors")),a.rels.map(B.createUi("rel","Rel")),a.targets.map(B.createUi("target","Open link in...")),a.link.map(B.createUi("link","Link list")),a.classes.map(B.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onChange:function(t,e){var n=e.name;s.onChange(t.getData,{name:n}).each(function(e){t.setData(e)})},onSubmit:t}}(e,function(o,a){return function(e){var n=e.getData();if(!n.url.value)return oe(o),void e.close();var t=function(t){return S.from(n[t]).filter(function(e){return!a.anchor[t].is(e)})},i={href:n.url.value,text:t("text"),target:t("target"),rel:t("rel"),class:t("linkClass"),title:t("title")},r={href:n.url.value,attach:void 0!==n.url.meta&&n.url.meta.attach?n.url.meta.attach:b};me(o,i).then(function(e){re(o,r,e)}),e.close()}}(t,e),t)}).then(function(e){t.windowManager.open(e)})},De=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)},Te=function(e,t){return e.dom.getParent(t,"a[href]")},Ee=function(e){return Te(e,e.selection.getStart())},Ne=function(e,t){if(t){var n=Q(t);if(/^#/.test(n)){var i=e.$(n);i.length&&e.selection.scrollIntoView(i[0],!0)}else De(t.href)}},Ae=function(e){return function(){Se(e)}},Oe=function(e){return function(){Ne(e,Ee(e))}},Pe=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},Ie=function(t){return function(e){return Pe(t,function(){e.setActive(!t.mode.isReadOnly()&&null!==X(t,t.selection.getNode()))})}},Re=function(n){return function(e){var t=function(){return e.setDisabled(null===X(n,n.selection.getNode()))};return t(),Pe(n,t)}},Le=function(i){return function(t){var n=function(e){return J(e)||function(e){return 0<$(e,V).length}(i.selection.getRng())},e=i.dom.getParents(i.selection.getStart());return t.setDisabled(!n(e)),Pe(i,function(e){return t.setDisabled(!n(e.parents))})}};r.add("link",function(e){!function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ae(e),onSetup:Ie(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Oe(e),onSetup:Re(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return oe(e)},onSetup:Le(e)})}(e),function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Oe(e),onSetup:Re(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ae(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return oe(e)},onSetup:Le(e)})}(e),function(t){t.ui.registry.addContextMenu("link",{update:function(e){return J(t.dom.getParents(e,"a"))?"link unlink openlink":"link"}})}(e),function(o){var e=function(e){var t=o.selection.getNode();return e.setDisabled(!X(o,t)),b};o.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ie(o)},label:"Link",predicate:function(e){return!!X(o,e)&&function(e){return e.getParam("link_context_toolbar",!1,"boolean")}(o)},initValue:function(){var e=X(o);return e?Q(e):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(e){var t=o.selection.getNode();return e.setActive(!!X(o,t)),Ie(o)(e)},onAction:function(e){var t=X(o),n=e.getValue();if(t)o.undoManager.transact(function(){o.dom.setAttrib(t,"href",n),function(e){e.selection.collapse(!1)}(o),e.hide()});else{var i={href:n,attach:b},r=Z(o)?S.some(G(o.selection,t)).filter(function(e){return 0<e.length}).or(S.from(n)):S.none();re(o,i,{href:n,text:r,title:S.none(),rel:S.none(),target:S.none(),class:S.none()}),e.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(e){oe(o),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(e){Oe(o)(),e.hide()}}]})}(e),function(n){n.on("click",function(e){var t=Te(n,e.target);t&&o.metaKeyPressed(e)&&(e.preventDefault(),Ne(n,t))}),n.on("keydown",function(e){var t=Ee(n);t&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),Ne(n,t))})}(e),function(e){e.addCommand("mceLink",function(){!function(e){return e.getParam("link_quicklink",!1,"boolean")}(e)?Ae(e)():e.fire("contexttoolbar-show",{toolbarKey:"quicklink"})})}(e),function(e){e.addShortcut("Meta+K","",function(){e.execCommand("mceLink")})}(e)})}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("hr",function(e){!function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})}(e),function(e){e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}}),e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})}(e)})}(),function(){"use strict";var e,t,n,i,r,o,a=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},s=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){},c=function(e){return function(){return e}},l=c(!1),f=c(!0),d=function(){return h},h=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:n,orThunk:t,map:d,each:u,bind:d,exists:l,forall:f,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")}),p=function(n){var e=c(n),t=function(){return r},i=function(e){return e(n)},r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:f,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return p(e(n))},each:function(e){e(n)},bind:i,exists:i,forall:i,filter:function(e){return e(n)?r:h},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(l,function(e){return t(n,e)})}};return r},m={some:p,none:d,from:function(e){return null==e?h:p(e)}},g=function(e){return!function(e){return null==e}(e)},v=(i="function",function(e){return typeof e===i}),b=Array.prototype.slice,y=function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n))return!0}return!1},_=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},w=function(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n)}},x=v(Array.from)?Array.from:function(e){return b.call(e)},C=function(){var t=a(m.none());return{clear:function(){return t.set(m.none())},set:function(e){return t.set(m.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}},k=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},S=tinymce.util.Tools.resolve("tinymce.Env"),D=tinymce.util.Tools.resolve("tinymce.util.Delay"),T=tinymce.util.Tools.resolve("tinymce.util.Promise"),E=tinymce.util.Tools.resolve("tinymce.util.VK"),N=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},A=tinymce.util.Tools.resolve("tinymce.util.Tools"),O=function(e){return e.getParam("paste_data_images",!1)},P=function(e){return e.getParam("paste_retain_style_properties")},I=function(e){return e.getParam("validate")},R=function(e){return e.getParam("paste_data_images",!1,"boolean")},L=function(e){return A.explode(e.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))},M="x-tinymce/html",B="\x3c!-- "+M+" --\x3e",j=function(e){return-1!==e.indexOf(B)},F=function(){return M},H=tinymce.util.Tools.resolve("tinymce.html.Entities"),z=function(e,t,n){var i=e.split(/\n\n/),r=function(e,t){var n,i=[],r="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&i.push(n+'="'+H.encodeAllRaw(t[n])+'"');i.length&&(r+=" "+i.join(" "))}return r+">"}(t,n),o="</"+t+">",a=A.map(i,function(e){return e.split(/\n/).join("<br />")});return 1===a.length?a[0]:A.map(a,function(e){return r+e+o}).join("")},q=tinymce.util.Tools.resolve("tinymce.html.DomParser"),W=tinymce.util.Tools.resolve("tinymce.html.Serializer"),U=tinymce.util.Tools.resolve("tinymce.html.Node"),V=tinymce.util.Tools.resolve("tinymce.html.Schema"),$=function(t,e){return A.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t},Y=function(e){return e=$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"Â ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},Q=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},K=function(t){var n;return t=t.replace(/^[\u00a0 ]+/,""),A.each([/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],function(e){if(e.test(t))return!(n=!0)}),n},X=function(n,i,r,o){var a,s={},e=n.dom.parseStyle(o);return A.each(e,function(e,t){switch(t){case"mso-list":(a=/\w+ \w+([0-9]+)/i.exec(o))&&(r._listLevel=parseInt(a[1],10)),/Ignore/i.test(e)&&r.firstChild&&(r._listIgnore=!0,r.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!==e&&(s[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void r.remove()}0!==t.indexOf("mso-comment")?0!==t.indexOf("mso-")&&("all"===P(n)||i&&i[t])&&(s[t]=e):r.remove()}),/(bold)/i.test(s["font-weight"])&&(delete s["font-weight"],r.wrap(new U("b",1))),/(italic)/i.test(s["font-style"])&&(delete s["font-style"],r.wrap(new U("i",1))),(s=n.dom.serializeStyle(s,r.name))||null},G=function(i,e){var r,t=P(i);t&&(r=A.makeMap(t.split(/[, ]/))),e=$(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("Â "):""}]]);var n=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(i),o=V({valid_elements:n,valid_children:"-li[p]"});A.each(o.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=q({},o);a.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",X(i,r,t,t.attr("style"))),"span"===t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,i,r=e.length;r--;)if(n=(t=e[r]).attr("href"),i=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()});var s=a.parse(e);return function(e){return e.getParam("paste_convert_word_fake_lists",!0)}(i)&&function(e){for(var r,o,a=1,n=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=n(e),e=e.next;);return t},s=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!s(e,t))return!1}while(e=e.next);return!0},u=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;u(e),e=e.next;);},t=function(e,t,n){var i=e._listLevel||a;i!==a&&(i<a?r&&(r=r.parent.parent):(o=r,r=null)),r&&r.name===t?r.append(e):(o=o||r,r=new U(t,1),1<n&&r.attr("start",""+n),e.wrap(r)),e.name="li",a<i&&o&&o.lastChild.append(r),a=i,u(e),s(e,/^\u00a0+/),s(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),s(e,/^\u00a0+/)},i=[],c=e.firstChild;null!=c;)if(i.push(c),null!==(c=c.walk()))for(;void 0!==c&&c.parent!==e;)c=c.walk();for(var l=0;l<i.length;l++)if("p"===(e=i[l]).name&&e.firstChild){var f=n(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(f)){t(e,"ul");continue}if(K(f)){var d=/([0-9]+)\./.exec(f),h=1;d&&(h=parseInt(d[1],10)),t(e,"ol",h);continue}if(e._listLevel){t(e,"ul",1);continue}r=null}else o=r,r=null}(s),e=W({validate:I(i)},o).serialize(s)},J=function(e,t){return{content:e,cancelled:t}},Z=function(e,t,n,i){var r=function(e,t,n,i){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:i})}(e,t,n,i),o=function(e,t){var n=q({},e.schema);n.addNodeFilter("meta",function(e){A.each(e,function(e){e.remove()})});var i=n.parse(t,{forced_root_block:!1,isRootContent:!0});return W({validate:I(e)},e.schema).serialize(i)}(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?function(e,t,n,i){var r=e.dom.create("div",{style:"display:none"},t),o=function(e,t,n,i){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:i})}(e,r,n,i);return J(o.node.innerHTML,o.isDefaultPrevented())}(e,o,n,i):J(o,r.isDefaultPrevented())},ee=function(e,t,n){var i=Q(t),r=i?function(e,t){return function(e){return e.getParam("paste_enable_default_filters",!0)}(e)?G(e,t):t}(e,t):t;return Z(e,r,n,i)},te=function(e,t){return e.insertContent(t,{merge:function(e){return e.getParam("paste_merge_formats",!0)}(e),paste:!0}),!0},ne=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},ie=function(e,t){return ne(t)&&y(L(e),function(e){return function(e,t){return k(e,t,e.length-t.length)}(t.toLowerCase(),"."+e.toLowerCase())})},re=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!ne(t))&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0}(e,t,n)},oe=function(e,t,n){return!!ie(e,t)&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0}(e,t,n)},ae=function(e,t,n){n||!1===function(e){return e.getParam("smart_paste",!0)}(e)?te(e,t):function(t,n){A.each([re,oe,te],function(e){return!0!==e(t,n,te)})}(e,t)},se=function(e){return"\n"===e||"\r"===e},ue=function(e,t){var n=function(e,t){return t<=0?"":new Array(t+1).join(e)}(" ",function(e){return e.getParam("paste_tab_spaces",4,"number")}(e)),i=t.replace(/\t/g,n);return function(e,t,n){return w(e,function(e){n=t(n,e)}),n}(i,function(e,t){return function(e){return-1!==" \f\t\v".indexOf(e)}(t)||"Â "===t?e.pcIsSpace||""===e.str||e.str.length===i.length-1||function(e,t){return t<e.length&&0<=t&&se(e[t])}(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+"Â "}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:se(t),str:e.str+t}},{pcIsSpace:!1,str:""}).str},ce=function(e,t,n,i){var r=ee(e,t,n);!1===r.cancelled&&ae(e,r.content,i)},le=function(e,t,n){var i=n||j(t);ce(e,function(e){return e.replace(B,"")}(t),i,!1)},fe=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),i=function(e,t,n){return t?z(e,!0===t?"p":t,n):function(e){return e.replace(/\r?\n/g,"<br>")}(e)}(ue(e,n),function(e){return e.getParam("forced_root_block")}(e),function(e){return e.getParam("forced_root_block_attrs")}(e));ce(e,i,!1,!0)},de=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&0<n.length&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var i=0;i<e.types.length;i++){var r=e.types[i];try{t[r]=e.getData(r)}catch(e){t[r]=""}}}return t},he=function(e,t){return t in e&&0<e[t].length},pe=function(e){return he(e,"text/html")||he(e,"text/plain")},me=(r="mceclip",o=0,function(){return r+o++}),ge=function(e,t){var n=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}}(t.uri),i=n.data,r=n.type,o=me(),a=t.blob,s=new Image;if(s.src=t.uri,function(e,t){var n=function(e){return e.getParam("images_dataimg_filter")}(e);return!n||n(t)}(e,s)){var u=e.editorUpload.blobCache,c=void 0,l=u.getByData(i,r);if(l)c=l;else{var f=function(e){return e.getParam("images_reuse_filename")}(e)&&g(a.name),d=f?function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return g(n)?e.dom.encode(n[1]):null}(e,a.name):o,h=f?a.name:void 0;c=u.create(o,a,i,d,h),u.add(c)}le(e,'<img src="'+c.blobUri()+'">',!1)}else le(e,'<img src="'+t.uri+'">',!1)},ve=function(e){return T.all(_(e,function(i){return new T(function(e){var t=function(e){return g(e.getAsFile)}(i)?i.getAsFile():i,n=new window.FileReader;n.onload=function(){e({blob:t,uri:n.result})},n.readAsDataURL(t)})}))},be=function(e){var n=L(e);return function(t){return function(e,t){return k(e,t,0)}(t.type,"image/")&&y(n,function(e){return function(e){var t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return A.hasOwn(n,t)?"image/"+n[t]:"image/"+t}(e)===t.type})}},ye=function(t,e,n){var i=function(e){return"paste"===e.type}(e)?e.clipboardData:e.dataTransfer;if(R(t)&&i){var r=function(e,t){var n=t.items?_(x(t.items),function(e){return e.getAsFile()}):[],i=t.files?x(t.files):[];return function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n}(0<n.length?n:i,be(e))}(t,i);if(0<r.length)return e.preventDefault(),ve(r).then(function(e){n&&t.selection.setRng(n),w(e,function(e){ge(t,e)})}),!0}return!1},_e=function(e){return E.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},we=function(o,u,a){var s,c=C(),l=C();o.on("keyup",l.clear),o.on("keydown",function(e){var t=function(e){_e(e)&&!e.isDefaultPrevented()&&u.remove()};if(_e(e)&&!e.isDefaultPrevented()){if((s=e.shiftKey&&86===e.keyCode)&&S.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),c.set(e),l.set(!0),S.ie&&s)return e.preventDefault(),void function(e,t){e.fire("paste",{ieFake:t})}(o,!0);u.remove(),u.create(),o.once("keyup",t),o.once("paste",function(){o.off("keyup",t)})}});var f=function(e,t,n,i,r){var o;he(t,"text/html")?o=t["text/html"]:(o=u.getHtml(),r=r||j(o),u.isDefaultContent(o)&&(i=!0)),o=Y(o),u.remove();var a=!1===r&&function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)}(o),s=ie(e,o);(!o.length||a&&!s)&&(i=!0),(i||s)&&(o=he(t,"text/plain")&&a?t["text/plain"]:function(e){var t=V(),n=q({},t),i="",r=t.getShortEndedElements(),o=A.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),s=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(r[t]&&(i+=" "),o[t])i+=" ";else{if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))for(;s(e),e=e.next;);a[t]&&n.next&&(i+="\n","p"===t&&(i+="\n"))}}else i+="\n"};return e=$(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),i}(o)),u.isDefaultContent(o)?n||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):i?fe(e,o):le(e,o,r)};o.on("paste",function(e){var t=c.isSet()||l.isSet();t&&c.clear();var n=function(e,t){return de(t.clipboardData||e.getDoc().dataTransfer)}(o,e),i="text"===a.get()||s,r=he(n,F());s=!1,e.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}(e)?u.remove():pe(n)||!ye(o,e,u.getLastRng()||o.selection.getRng())?(t||e.preventDefault(),!S.ie||t&&!e.ieFake||he(n,"text/html")||(u.create(),o.dom.bind(u.getEl(),"paste",function(e){e.stopPropagation()}),o.getDoc().execCommand("Paste",!1,null),n["text/html"]=u.getHtml()),he(n,"text/html")?(e.preventDefault(),r||(r=j(n["text/html"])),f(o,n,t,i,r)):D.setEditorTimeout(o,function(){f(o,n,t,i,r)},0)):u.remove()})},xe=function(e){return S.ie&&e.inline?document.body:e.getBody()},Ce=function(t,e,n){(function(e){return xe(e)!==e.getBody()})(t)&&t.dom.bind(e,"paste keyup",function(e){De(t,n)||t.fire("paste")})},ke=function(e){return e.dom.get("mcepastebin")},Se=function(e,t){return t===e},De=function(e,t){var n=ke(e);return function(e){return e&&"mcepastebin"===e.id}(n)&&Se(t,n.innerHTML)},Te=function(e){var t=a(null),n="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var i=e.dom,r=e.getBody();t.set(e.selection.getRng());var o=e.dom.add(xe(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(S.ie||S.gecko)&&i.setStyle(o,"left","rtl"===i.getStyle(r,"direction",!0)?65535:-65535),i.bind(o,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),Ce(e,o,n),o.focus(),e.selection.select(o,!0)}(e,t,n)},remove:function(){return function(e,t){if(ke(e)){for(var n=void 0,i=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);i&&e.selection.setRng(i)}t.set(null)}(e,t)},getEl:function(){return ke(e)},getHtml:function(){return function(n){var t=function(e,t){e.appendChild(t),n.dom.remove(t,!0)},e=A.grep(xe(n).childNodes,function(e){return"mcepastebin"===e.id}),i=e.shift();A.each(e,function(e){t(i,e)});for(var r=n.dom.select("div[id=mcepastebin]",i),o=r.length-1;0<=o;o--){var a=n.dom.create("div");i.insertBefore(a,r[o]),t(a,r[o])}return i?i.innerHTML:""}(e)},getLastRng:function(){return function(e){return e.get()}(t)},isDefault:function(){return De(e,n)},isDefaultContent:function(e){return Se(n,e)}}},Ee=function(n,e){var t=Te(n);return n.on("PreInit",function(){return function(a,e,t){var s;we(a,e,t),a.parser.addNodeFilter("img",function(e,t,n){var i,r=function(e){e.attr("data-mce-object")||s===S.transparentSrc||e.remove()};if(!R(a)&&(i=n).data&&!0===i.data.paste)for(var o=e.length;o--;)(s=e[o].attr("src"))&&(0===s.indexOf("webkit-fake-url")?r(e[o]):a.getParam("allow_html_data_urls",!1,"boolean")||0!==s.indexOf("data:")||r(e[o]))})}(n,t,e)}),{pasteFormat:e,pasteHtml:function(e,t){return le(n,e,t)},pasteText:function(e){return fe(n,e)},pasteImageData:function(e,t){return ye(n,e,t)},getDataTransferItems:de,hasHtmlOrText:pe,hasContentType:he}},Ne=function(e,n){e.addCommand("mceTogglePlainTextPaste",function(){!function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),N(e,!1)):(t.pasteFormat.set("text"),N(e,!0)),e.focus()}(e,n)}),e.addCommand("mceInsertClipboardContent",function(e,t){t.content&&n.pasteHtml(t.content,t.internal),t.text&&n.pasteText(t.text)})},Ae=function(e,t,n){if(!function(e){return!1===S.iOS&&"function"==typeof(null==e?void 0:e.setData)}(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(F(),t),!0}catch(e){return!1}},Oe=function(e,t,n,i){Ae(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)},Pe=function(s){return function(e,t){var n=function(e){return B+e}(e),i=s.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),r=s.dom.create("div",{contenteditable:"true"},n);s.dom.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(r),s.dom.add(s.getBody(),i);var o=s.selection.getRng();r.focus();var a=s.dom.createRng();a.selectNodeContents(r),s.selection.setRng(a),D.setTimeout(function(){s.selection.setRng(o),i.parentNode.removeChild(i),t()},0)}},Ie=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Re=function(e){return!e.selection.isCollapsed()||function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}(e)},Le=function(e){e.on("cut",function(t){return function(e){Re(t)&&Oe(e,Ie(t),Pe(t),function(){if(S.browser.isChrome()||S.browser.isFirefox()){var e=t.selection.getRng();D.setEditorTimeout(t,function(){t.selection.setRng(e),t.execCommand("Delete")},0)}else t.execCommand("Delete")})}}(e)),e.on("copy",function(t){return function(e){Re(t)&&Oe(e,Ie(t),Pe(t),u)}}(e))},Me=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Be=function(e,t){return Me.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},je=function(e,t){e.focus(),e.selection.setRng(t)},Fe=function(t,n){t.on("PastePreProcess",function(e){e.content=n(t,e.content,e.internal,e.wordContent)})},He=function(e,t){if(!Q(t))return t;var n=[];A.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var i=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=$(t,[[i,"$1"]]),t=$(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])},ze=function(e,t,n,i){if(i||n)return t;var c,r=function(e){return e.getParam("paste_webkit_styles")}(e);if(!1===function(e){return e.getParam("paste_remove_styles_if_webkit",!0)}(e)||"all"===r)return t;if(r&&(c=r.split(/[, ]/)),c){var l=e.dom,f=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,i){var r=l.parseStyle(l.decode(n)),o={};if("none"===c)return t+i;for(var a=0;a<c.length;a++){var s=r[c[a]],u=l.getStyle(f,c[a],!0);/color/.test(c[a])&&(s=l.toHex(s),u=l.toHex(u)),u!==s&&(o[c[a]]=s)}return(o=l.serializeStyle(o,"span"))?t+' style="'+o+'"'+i:t+i})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i})},qe=function(n,e){n.$("a",e).find("font,u").each(function(e,t){n.dom.remove(t,!0)})},We=function(n,i){return function(t){t.setActive("text"===i.pasteFormat.get());var e=function(e){return t.setActive(e.state)};return n.on("PastePlainTextToggle",e),function(){return n.off("PastePlainTextToggle",e)}}};s.add("paste",function(e){if(!1===function(e){return!!e.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)}(e)){var t=a(!1),n=a(function(e){return e.getParam("paste_as_text",!1)}(e)?"text":"html"),i=Ee(e,n),r=function(e){S.webkit&&Fe(e,ze),S.ie&&(Fe(e,He),function(t,n){t.on("PastePostProcess",function(e){n(t,e.node)})}(e,qe))}(e);return function(e,t){e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:We(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:We(e,t)})}(e,i),Ne(e,i),function(e){var t=e.plugins.paste,n=function(e){return e.getParam("paste_preprocess")}(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var i=function(e){return e.getParam("paste_postprocess")}(e);i&&e.on("PastePostProcess",function(e){i.call(t,t,e)})}(e),Le(e),function(o,a,s){(function(e){return e.getParam("paste_block_drop",!1)})(o)&&o.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),O(o)||o.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),o.on("drop",function(e){var t=Be(o,e);if(!e.isDefaultPrevented()&&!s.get()){var n=a.getDataTransferItems(e.dataTransfer),i=a.hasContentType(n,F());if((a.hasHtmlOrText(n)&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(n)||!a.pasteImageData(e,t))&&t&&function(e){return e.getParam("paste_filter_drop",!0)}(o)){var r=n["mce-internal"]||n["text/html"]||n["text/plain"];r&&(e.preventDefault(),D.setEditorTimeout(o,function(){o.undoManager.transact(function(){n["mce-internal"]&&o.execCommand("Delete"),je(o,t),r=Y(r),n["text/html"]?a.pasteHtml(r,i):a.pasteText(r)})}))}}}),o.on("dragstart",function(e){s.set(!0)}),o.on("dragover dragend",function(e){O(o)&&!1===s.get()&&(e.preventDefault(),je(o,Be(o,e))),"dragend"===e.type&&s.set(!1)})}(e,i,t),function(e,t){return{clipboard:e,quirks:t}}(i,r)}})}(),function(){"use strict";var e,t,n,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},d=function(e){return function(){return e}},o=function(t){return function(e){return!t(e)}},a=d(!1),s=d(!0),u=function(){return c},c=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:t,map:u,each:r,bind:u,exists:a,forall:s,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:d("none()")}),l=function(n){var e=d(n),t=function(){return r},i=function(e){return e(n)},r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return l(e(n))},each:function(e){e(n)},bind:i,exists:i,forall:i,filter:function(e){return e(n)?r:c},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(a,function(e){return t(n,e)})}};return r},f={some:l,none:u,from:function(e){return null==e?c:l(e)}},h=function(t){return function(e){return function(e){var t=typeof e;return null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===t}},p=function(t){return function(e){return typeof e===t}},m=h("string"),g=h("array"),v=p("boolean"),b=p("function"),y=p("number"),_=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},C=function(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n)}},k=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},S=function(e,t,n){return C(e,function(e){n=t(n,e)}),n},D=function(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(t(o,i))return f.some(o);if(n(o,i))break}return f.none()},T=function(e,t){return D(e,t,a)},E=function(e,t){return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t}(x(e,t))},N=function(e){var t=_.call(e,0);return t.reverse(),t},A=function(e,t){return 0<=t&&t<e.length?f.some(e[t]):f.none()},O=function(e){return A(e,0)},P=function(e){return A(e,e.length-1)},I=function(){return(I=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var R,L,M,B,j=function(){return F(0,0)},F=function(e,t){return{major:e,minor:t}},H={nu:F,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?j():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return F(i(1),i(2))}(e,n)},unknown:j},z=function(e,t){var n=String(t).toLowerCase();return T(e,function(e){return e.search(n)})},q=function(e,n){return z(e,n).map(function(e){var t=H.detect(e.versionRegexes,n);return{current:e.name,version:t}})},W=function(e,n){return z(e,n).map(function(e){var t=H.detect(e.versionRegexes,n);return{current:e.name,version:t}})},U=function(e,t){return-1!==e.indexOf(t)},V=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$=function(t){return function(e){return U(e,t)}},Y=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return U(e,"edge/")&&U(e,"chrome")&&U(e,"safari")&&U(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,V],search:function(e){return U(e,"chrome")&&!U(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return U(e,"msie")||U(e,"trident")}},{name:"Opera",versionRegexes:[V,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[V,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(U(e,"safari")||U(e,"mobile/"))&&U(e,"applewebkit")}}],Q=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return U(e,"iphone")||U(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],K={browsers:d(Y),oses:d(Q)},X=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:i("Edge"),isChrome:i("Chrome"),isIE:i("IE"),isOpera:i("Opera"),isFirefox:i("Firefox"),isSafari:i("Safari")}},G={unknown:function(){return X({current:void 0,version:H.unknown()})},nu:X,edge:d("Edge"),chrome:d("Chrome"),ie:d("IE"),opera:d("Opera"),firefox:d("Firefox"),safari:d("Safari")},J=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:i("Windows"),isiOS:i("iOS"),isAndroid:i("Android"),isOSX:i("OSX"),isLinux:i("Linux"),isSolaris:i("Solaris"),isFreeBSD:i("FreeBSD"),isChromeOS:i("ChromeOS")}},Z={unknown:function(){return J({current:void 0,version:H.unknown()})},nu:J,windows:d("Windows"),ios:d("iOS"),android:d("Android"),linux:d("Linux"),osx:d("OSX"),solaris:d("Solaris"),freebsd:d("FreeBSD"),chromeos:d("ChromeOS")},ee=function(e,t){var n=K.browsers(),i=K.oses(),r=q(n,e).fold(G.unknown,G.nu),o=W(i,e).fold(Z.unknown,Z.nu);return{browser:r,os:o,deviceType:function(e,t,n,i){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||i("(pointer:coarse)"),u=r||!o&&a&&i("(min-device-width:768px)"),c=o||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!l;return{isiPad:d(r),isiPhone:d(o),isTablet:d(u),isPhone:d(c),isTouch:d(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(l),isDesktop:d(f)}}(o,r,e,t)}},te=function(e){return window.matchMedia(e).matches},ne=(M=!(R=function(){return ee(navigator.userAgent,te)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return M||(M=!0,L=R.apply(null,e)),L}),ie=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},re={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ie(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return ie(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return ie(n)},fromDom:ie,fromPoint:function(e,t,n){return f.from(e.dom.elementFromPoint(t,n)).map(ie)}},oe=function(e,t){return e.dom===t.dom},ae=function(e,t){return function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom,t.dom)},se=function(e,t){return ne().browser.isIE()?ae(e,t):function(e,t){var n=e.dom,i=t.dom;return n!==i&&n.contains(i)}(e,t)},ue=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ce=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fe=tinymce.util.Tools.resolve("tinymce.util.VK"),de=Object.keys,he=function(e,t){for(var n=de(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},pe=function(e,t){var n={};return function(e,n,i,r){he(e,function(e,t){(n(e,t)?i:r)(e,t)})}(e,t,function(n){return function(e,t){n[t]=e}}(n),r),n},me=("undefined"!=typeof window?window:Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),ge=(B=1,function(e){return function(e){return e.dom.nodeType}(e)===B}),ve=function(e,t){var n=e.dom;he(t,function(e,t){!function(e,t,n){if(!(m(n)||v(n)||y(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)})},be=function(e){return S(e.dom.attributes,function(e,t){return e[t.name]=t.value,e},{})},ye=function(e){return f.from(e.dom.parentNode).map(re.fromDom)},_e=function(e){return x(e.dom.childNodes,re.fromDom)},we=function(e,t){var n=e.dom.childNodes;return f.from(n[t]).map(re.fromDom)},xe=function(e){return we(e,0)},Ce=function(e){return we(e,e.dom.childNodes.length-1)},ke=function(t,n){ye(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})},Se=function(e,t){e.dom.appendChild(t.dom)},De=function(t,e){C(e,function(e){Se(t,e)})},Te=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ee=function(e){return function(e,t){return re.fromDom(e.dom.cloneNode(t))}(e,!0)},Ne=function(e,t){var n=function(e,t){var n=re.fromTag(t),i=be(e);return ve(n,i),n}(e,t);ke(e,n);var i=_e(e);return De(n,i),Te(e),n},Ae=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pe=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}},Ie=function(t){return function(e){return e&&t.test(e.nodeName)}},Re=function(e){return e&&3===e.nodeType},Le=Ie(/^(OL|UL|DL)$/),Me=Ie(/^(OL|UL)$/),Be=Pe("ol"),je=Ie(/^(LI|DT|DD)$/),Fe=Ie(/^(DT|DD)$/),He=Ie(/^(TH|TD)$/),ze=Pe("br"),qe=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},We=function(e,t){return e&&e.nodeName in t},Ue=function(e,t,n){var i=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&i},Ve=function(e,t){return e.isChildOf(t,e.getRoot())},$e=function(e,t){var n,i,r,o=e.dom,a=e.schema.getBlockElements(),s=o.createFragment(),u=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t}(e);if(u&&((i=o.create(u)).tagName===u.toUpperCase()&&o.setAttribs(i,function(e){return e.getParam("forced_root_block_attrs",{})}(e)),We(t.firstChild,a)||s.appendChild(i)),t)for(;n=t.firstChild;){var c=n.nodeName;r||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(r=!0),We(n,a)?(s.appendChild(n),i=null):u?(i||(i=o.create(u),s.appendChild(i)),i.appendChild(n)):s.appendChild(n)}return u?r||i.appendChild(o.create("br",{"data-mce-bogus":"1"})):s.appendChild(o.create("br")),s},Ye=Ae.DOM,Qe=function(t,n){ue(n,"dd")?Ne(n,"dt"):ue(n,"dt")&&ye(n).each(function(e){return function(e,t,n){var i=Ye.select('span[data-mce-type="bookmark"]',t),r=$e(e,n),o=Ye.createRng();o.setStartAfter(n),o.setEndAfter(t);for(var a,s=o.extractContents(),u=s.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){Ye.remove(u);break}e.dom.isEmpty(s)||Ye.insertAfter(s,t),Ye.insertAfter(r,t),Ue(e.dom,n.parentNode)&&(a=n.parentNode,Oe.each(i,function(e){a.parentNode.insertBefore(e,n.parentNode)}),Ye.remove(a)),Ye.remove(n),Ue(e.dom,t)&&Ye.remove(t)}(t,e.dom,n.dom)})},Ke=function(e){ue(e,"dt")&&Ne(e,"dd")},Xe=function(e,t){if(Re(e))return{container:e,offset:t};var n=ce.getNode(e,t);return Re(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Re(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Re(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Ge=function(e){var t=e.cloneRange(),n=Xe(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var i=Xe(e.endContainer,e.endOffset);return t.setEnd(i.container,i.offset),t},Je=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ze=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",nt(e,n))},et=function(e){var t=Ze(e),n=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(t,n)?function(e){return Oe.grep(e.querySelectorAll("ol,ul,dl"),function(e){return Le(e)})}(t):Oe.grep(n,function(e){return Le(e)&&t!==e})},tt=function(e){var t=e.selection.getSelectedBlocks();return Oe.grep(function(n,e){var t=Oe.map(e,function(e){var t=n.dom.getParent(e,"li,dd,dt",nt(n,e));return t||e});return Je.unique(t)}(e,t),function(e){return je(e)})},nt=function(e,t){var n=e.dom.getParents(t,"TD,TH");return 0<n.length?n[0]:e.getBody()},it=function(e,t){var n=e.dom.getParents(t,"ol,ul",nt(e,t));return P(n)},rt=function(e){var t=function(e){var t=it(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),Me);return t.toArray().concat(n)}(e);return ot(e,t)},ot=function(t,e){var n=x(e,function(e){return it(t,e).getOr(e)});return Je.unique(n)},at=function(e,t,n){return e.isSome()&&t.isSome()?f.some(n(e.getOrDie(),t.getOrDie())):f.none()},st=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},ut=function(e,t,n){if(!m(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(function(e){return void 0!==e.style&&b(e.style.getPropertyValue)})(e)&&e.style.setProperty(t,n)},ct=function(e,t){Se(e.item,t.list)},lt=function(t,e,n){var i=e.slice(0,n.depth);return P(i).each(function(e){!function(e,t){Se(e.list,t),e.item=t}(e,function(e,t,n){var i=re.fromTag("li",e);return ve(i,t),De(i,n),i}(t,n.itemAttributes,n.content)),function(e,t){me(e.list)!==t.listType&&(e.list=Ne(e.list,t.listType)),ve(e.list,t.listAttributes)}(e,n)}),i},ft=function(e,t,n){var i=function(e,t,n){for(var i,r,o,a=[],s=0;s<n;s++)a.push((i=e,r=t.listType,o={list:re.fromTag(r,i),item:re.fromTag("li",i)},Se(o.list,o.item),o));return a}(e,n,n.depth-t.length);return function(e){for(var t=1;t<e.length;t++)ct(e[t-1],e[t])}(i),function(e,t){for(var n=0;n<e.length-1;n++)i=e[n].item,r="list-style-type",o="none",a=i.dom,ut(a,r,o);var i,r,o,a;P(e).each(function(e){ve(e.list,t.listAttributes),ve(e.item,t.itemAttributes),De(e.item,t.content)})}(i,n),function(e,t){at(P(e),O(t),ct)}(t,i),t.concat(i)},dt=function(e){return ue(e,"OL,UL")},ht=function(e){return xe(e).map(dt).getOr(!1)},pt=function(e){return 0<e.depth},mt=function(e){return e.isSelected},gt=function(e){var t=_e(e),n=function(e){return Ce(e).map(dt).getOr(!1)}(e)?t.slice(0,-1):t;return x(n,Ee)},vt=function(n){return C(n,function(t,e){(function(e,t){var n=e[t].depth,i=function(e){return e.depth===n&&!e.dirty},r=function(e){return e.depth<n};return D(N(e.slice(0,t)),i,r).orThunk(function(){return D(e.slice(t+1),i,r)})})(n,e).fold(function(){t.dirty&&function(e){e.listAttributes=pe(e.listAttributes,function(e,t){return"start"!==t})}(t)},function(e){return function(e,t){e.listType=t.listType,e.listAttributes=I({},t.listAttributes)}(t,e)})}),n},bt=function(n,i,r,o){return xe(o).filter(dt).fold(function(){i.each(function(e){oe(e.start,o)&&r.set(!0)});var e=function(t,n,i){return ye(t).filter(ge).map(function(e){return{depth:n,dirty:!1,isSelected:i,content:gt(t),itemAttributes:be(t),listAttributes:be(e),listType:me(e)}})}(o,n,r.get());i.each(function(e){oe(e.end,o)&&r.set(!1)});var t=Ce(o).filter(dt).map(function(e){return yt(n,i,r,e)}).getOr([]);return e.toArray().concat(t)},function(e){return yt(n,i,r,e)})},yt=function(t,n,i,e){return E(_e(e),function(e){return(dt(e)?yt:bt)(t+1,n,i,e)})},_t=function(n,e){var t=vt(e);return x(t,function(e){var t=function(e,t){var n=(t||document).createDocumentFragment();return C(e,function(e){n.appendChild(e.dom)}),re.fromDom(n)}(e.content);return re.fromDom($e(n,t.dom))})},wt=function(e,t){var n=vt(t);return function(n,e){var t=S(e,function(e,t){return t.depth>e.length?ft(n,e,t):lt(n,e,t)},[]);return O(t).map(function(e){return e.list})}(e.contentDocument,n).toArray()},xt=function(n,e,i){var t=function(e,t){var n=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}(!1);return x(e,function(e){return{sourceList:e,entries:yt(0,t,n,e)}})}(e,function(e){var t=x(tt(e),re.fromDom);return at(T(t,o(ht)),T(N(t),o(ht)),function(e,t){return{start:e,end:t}})}(n));C(t,function(e){!function(e,t){C(k(e,mt),function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}(t,e)})}(e.entries,i);var t=function(t,e){return E(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],r=[],o=0,a=e.length;o<a;o++){var s=e[o],u=t(s);u!==n&&(i.push(r),r=[]),n=u,r.push(s)}return 0!==r.length&&i.push(r),i}(e,pt),function(e){return O(e).map(pt).getOr(!1)?wt(t,e):_t(t,e)})}(n,e.entries);C(t,function(e){st(n,"Indent"===i?"IndentList":"OutdentList",e.dom)}),function(t,e){C(e,function(e){ke(t,e)})}(e.sourceList,t),Te(e.sourceList)})},Ct=function(e,t){var n=x(rt(e),re.fromDom),i=x(function(e){return k(tt(e),Fe)}(e),re.fromDom),r=!1;if(n.length||i.length){var o=e.selection.getBookmark();xt(e,n,t),function(t,e,n){C(n,"Indent"===e?Ke:function(e){return Qe(t,e)})}(e,t,i),e.selection.moveToBookmark(o),e.selection.setRng(Ge(e.selection.getRng())),e.nodeChanged(),r=!0}return r},kt=function(e){return Ct(e,"Indent")},St=function(e){return Ct(e,"Outdent")},Dt=function(e){return Ct(e,"Flatten")},Tt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Et=Ae.DOM,Nt=function(r){var o={},e=function(e){var t,n,i;n=r[e?"startContainer":"endContainer"],i=r[e?"startOffset":"endOffset"],1===n.nodeType&&(t=Et.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(i=Math.min(i,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[i]):Et.insertAfter(t,n.childNodes[i])):n.appendChild(t),n=t,i=0),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=i};return e(!0),r.collapsed||e(),o},At=function(r){var e=function(e){var t,n,i;t=i=r[e?"startContainer":"endContainer"],n=r[e?"startOffset":"endOffset"],t&&(1===t.nodeType&&(n=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(t),t=t.parentNode,Et.remove(i),!t.hasChildNodes()&&Et.isBlock(t)&&t.appendChild(Et.create("br"))),r[e?"startContainer":"endContainer"]=t,r[e?"startOffset":"endOffset"]=n)};e(!0),e();var t=Et.createRng();return t.setStart(r.startContainer,r.startOffset),r.endContainer&&t.setEnd(r.endContainer,r.endOffset),Ge(t)},Ot=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Pt=function(e){return/\btox\-/.test(e.className)},It=function(e,n,i){var t=function(e){var t=D(e.parents,Le,He).filter(function(e){return e.nodeName===n&&!Pt(e)}).isSome();i(t)},r=e.dom.getParents(e.selection.getNode());return t({parents:r}),e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},Rt=function(n,e){Oe.each(e,function(e,t){n.setAttribute(t,e)})},Lt=function(e,t,n){!function(e,t,n){var i=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",i)}(e,t,n),function(e,t,n){Rt(t,n["list-attributes"]),Oe.each(e.select("li",t),function(e){Rt(e,n["list-item-attributes"])})}(e,t,n)},Mt=function(e,t,n,i){var r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];for(1===r.nodeType&&(r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r),!n&&ze(r.nextSibling)&&(r=r.nextSibling);r.parentNode!==i;){if(qe(e,r))return r;if(/^(TD|TH)$/.test(r.parentNode.nodeName))return r;r=r.parentNode}return r},Bt=function(r,o,a){void 0===a&&(a={});var e=r.selection.getRng(),s="LI",t=nt(r,r.selection.getStart(!0)),u=r.dom;if("false"!==u.getContentEditable(r.selection.getNode())){"DL"===(o=o.toUpperCase())&&(s="DT");var n=Nt(e),i=function(n,e,i){for(var r,o=[],a=n.dom,t=Mt(n,e,!0,i),s=Mt(n,e,!1,i),u=[],c=t;c&&(u.push(c),c!==s);c=c.nextSibling);return Oe.each(u,function(e){if(qe(n,e))return o.push(e),void(r=null);if(a.isBlock(e)||ze(e))return ze(e)&&a.remove(e),void(r=null);var t=e.nextSibling;Tt.isBookmarkNode(e)&&(Le(t)||qe(n,t)||!t&&e.parentNode===i)?r=null:(r||(r=a.create("p"),e.parentNode.insertBefore(r,e),o.push(r)),r.appendChild(e))}),o}(r,e,t);Oe.each(i,function(e){var t,n=e.previousSibling,i=e.parentNode;je(i)||(n&&Le(n)&&n.nodeName===o&&function(e,t,n){var i=e.getStyle(t,"list-style-type"),r=n?n["list-style-type"]:"";return i===(r=null===r?"":r)}(u,n,a)?(t=n,e=u.rename(e,s),n.appendChild(e)):(t=u.create(o),e.parentNode.insertBefore(t,e),t.appendChild(e),e=u.rename(e,s)),function(n,i,e){Oe.each(e,function(e){var t;return n.setStyle(i,((t={})[e]="",t))})}(u,e,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Lt(u,t,a),Ft(r.dom,t))}),r.selection.setRng(At(n))}},jt=function(e,t,n){return function(e,t){return e&&t&&Le(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&function(e,t){return e.className===t.className}(t,n)},Ft=function(e,t){var n,i;if(n=t.nextSibling,jt(e,t,n)){for(;i=n.firstChild;)t.appendChild(i);e.remove(n)}if(n=t.previousSibling,jt(e,t,n)){for(;i=n.lastChild;)t.insertBefore(i,t.firstChild);e.remove(n)}},Ht=function(t,e,n,i,r){var o=Le(e);if(o&&e.nodeName===i&&!zt(r))Dt(t);else{Bt(t,i,r);var a=Nt(t.selection.getRng(!0)),s=o?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}([e],n):n;Oe.each(s,function(e){!function(e,t,n,i){if(t.nodeName!==n){var r=e.dom.rename(t,n);Lt(e.dom,r,i),st(e,Ot(n),r)}else Lt(e.dom,t,i),st(e,Ot(n),t)}(t,e,i,r)}),t.selection.setRng(At(a))}},zt=function(e){return"list-style-type"in e},qt=function(e,t,n){var i=Ze(e),r=et(e);n=n||{},0<r.length?Ht(e,i,r,t,n):function(e,t,n,i){if(t!==e.getBody())if(t)if(t.nodeName!==n||zt(i)||Pt(t)){var r=Nt(e.selection.getRng(!0));Lt(e.dom,t,i);var o=e.dom.rename(t,n);Ft(e.dom,o),e.selection.setRng(At(r)),Bt(e,n,i),st(e,Ot(n),o)}else Dt(e);else Bt(e,n,i),st(e,Ot(n),t)}(e,i,t,n)},Wt=Ae.DOM,Ut=function(t,e){Oe.each(Oe.grep(t.select("ol,ul",e)),function(e){!function(e,t){var n,i=t.parentNode;"LI"===i.nodeName&&i.firstChild===t&&((n=i.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),Ue(e,i)&&Wt.remove(i)):Wt.setStyle(i,"listStyleType","none")),Le(i)&&(n=i.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}(t,e)})},Vt=function(e,t,n,i){var r=t.startContainer,o=t.startOffset;if(Re(r)&&(n?o<r.data.length:0<o))return r;var a=e.schema.getNonEmptyElements();1===r.nodeType&&(r=ce.getNode(r,o));var s=new le(r,i);for(n&&function(e,t){return!!ze(t)&&e.isBlock(t.nextSibling)&&!ze(t.previousSibling)}(e.dom,r)&&s.next();r=s[n?"next":"prev2"]();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(a[r.nodeName])return r;if(Re(r)&&0<r.data.length)return r}},$t=function(e,t){var n=t.childNodes;return 1===n.length&&!Le(n[0])&&e.isBlock(n[0])},Yt=function(e,t,n){var i,r=$t(e,n)?n.firstChild:n;if(function(e,t){$t(e,t)&&e.remove(t.firstChild,!0)}(e,t),!Ue(e,t,!0))for(;i=t.firstChild;)r.appendChild(i)},Qt=function(t,e,n){var i,r=e.parentNode;if(Ve(t,e)&&Ve(t,n)){Le(n.lastChild)&&(i=n.lastChild),r===n.lastChild&&ze(r.previousSibling)&&t.remove(r.previousSibling);var o=n.lastChild;o&&ze(o)&&e.hasChildNodes()&&t.remove(o),Ue(t,n,!0)&&t.$(n).empty(),Yt(t,e,n),i&&n.appendChild(i);var a=se(re.fromDom(n),re.fromDom(e))?t.getParents(e,Le,n):[];t.remove(e),C(a,function(e){Ue(t,e)&&e!==t.getRoot()&&t.remove(e)})}},Kt=function(e,t,n,i){var r=e.dom;if(r.isEmpty(i))!function(e,t,n){e.dom.$(n).empty(),Qt(e.dom,t,n),e.selection.setCursorLocation(n,0)}(e,n,i);else{var o=Nt(t);Qt(r,n,i),e.selection.setRng(At(o))}},Xt=function(e,t){var n=e.dom,i=e.selection,r=i.getStart(),o=nt(e,r),a=n.getParent(i.getStart(),"LI",o);if(a){var s=a.parentNode;if(s===e.getBody()&&Ue(n,s))return!0;var u=Ge(i.getRng()),c=n.getParent(Vt(e,u,t,o),"LI",o);if(c&&c!==a)return e.undoManager.transact(function(){t?Kt(e,u,c,a):function(e){return e.parentNode.firstChild===e}(a)?St(e):function(e,t,n,i){var r=Nt(t);Qt(e.dom,n,i);var o=At(r);e.selection.setRng(o)}(e,u,a,c)}),!0;if(!c&&!t&&0===u.startOffset&&0===u.endOffset)return e.undoManager.transact(function(){Dt(e)}),!0}return!1},Gt=function(e,t){return Xt(e,t)||function(e,t){var n=e.dom,i=e.selection.getStart(),r=nt(e,i),o=n.getParent(i,n.isBlock,r);if(o&&n.isEmpty(o)){var a=Ge(e.selection.getRng()),s=n.getParent(Vt(e,a,t,r),"LI",r);if(s)return e.undoManager.transact(function(){!function(e,t,n){var i=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),i&&e.isEmpty(i)&&e.remove(i)}(n,o,r),Ft(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1}(e,t)},Jt=function(e,t){return e.selection.isCollapsed()?Gt(e,t):function(e){var t=e.selection.getStart(),n=nt(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||0<tt(e).length)&&(e.undoManager.transact(function(){e.execCommand("Delete"),Ut(e.dom,e.getBody())}),!0)}(e)},Zt=function(n){var i=n.dom,e=Ze(n);Be(e)&&n.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:i.getAttrib(e,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var t=e.getData();n.undoManager.transact(function(){i.setAttrib(Ze(n),"start","1"===t.start?"":t.start)}),e.close()}})},en=function(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}},tn=function(e){(function(e){return e.getParam("lists_indent_on_tab",!0)})(e)&&function(t){t.on("keydown",function(e){e.keyCode!==fe.TAB||fe.metaKeyPressed(e)||t.undoManager.transact(function(){(e.shiftKey?St(t):kt(t))&&e.preventDefault()})})}(e),function(t){t.on("keydown",function(e){e.keyCode===fe.BACKSPACE?Jt(t,!1)&&e.preventDefault():e.keyCode===fe.DELETE&&Jt(t,!0)&&e.preventDefault()})}(e)};i.add("lists",function(e){return!1===e.hasPlugin("rtc",!0)&&(tn(e),function(n){n.on("BeforeExecCommand",function(e){var t=e.command.toLowerCase();"indent"===t?kt(n):"outdent"===t&&St(n)}),n.addCommand("InsertUnorderedList",function(e,t){qt(n,"UL",t)}),n.addCommand("InsertOrderedList",function(e,t){qt(n,"OL",t)}),n.addCommand("InsertDefinitionList",function(e,t){qt(n,"DL",t)}),n.addCommand("RemoveList",function(){Dt(n)}),n.addCommand("mceListProps",function(){Zt(n)}),n.addQueryStateHandler("InsertUnorderedList",en(n,"UL")),n.addQueryStateHandler("InsertOrderedList",en(n,"OL")),n.addQueryStateHandler("InsertDefinitionList",en(n,"DL"))}(e)),function(t){var e=function(e){return function(){return t.execCommand(e)}};t.hasPlugin("advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return It(t,"OL",e.setActive)}}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return It(t,"UL",e.setActive)}}))}(e),function(n){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return Zt(n)},onSetup:function(t){return It(n,"OL",function(e){return t.setDisabled(!e)})}};n.ui.registry.addMenuItem("listprops",e),n.ui.registry.addContextMenu("lists",{update:function(e){var t=Ze(n,e);return Be(t)?["listprops"]:[]}})}(e),function(t){return{backspaceDelete:function(e){Jt(t,e)}}}(e)})}(),function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("textcolor",function(){console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")})}(),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(t){var e=function(e){return e.getContent({source_view:!0})}(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:e},onSubmit:function(e){!function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()}(t,e.getData().code),e.close()}})};e.add("code",function(e){return function(e){e.addCommand("mceCodeEditor",function(){t(e)})}(e),function(e){e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return t(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return t(e)}})}(e),{}})}();
//# sourceMappingURL=mosaico-libs-and-tinymce.min.js.map